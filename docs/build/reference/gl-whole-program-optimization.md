---
title: /GL (оптимизация всей программы)
ms.date: 11/04/2016
f1_keywords:
- /gl
helpviewer_keywords:
- /GL compiler option [C++]
- whole program optimizations and C++ compiler
- -GL compiler option [C++]
- GL compiler option [C++]
ms.assetid: 09d51e2d-9728-4bd0-b5dc-3b8284aca1d1
ms.openlocfilehash: 875865a32dcb80cb8a6d8fa53646260f3d9413a5
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79439652"
---
# <a name="gl-whole-program-optimization"></a>/GL (оптимизация всей программы)

Включает оптимизацию всей программы.

## <a name="syntax"></a>Синтаксис

```
/GL[-]
```

## <a name="remarks"></a>Примечания

Оптимизация всей программы позволяет компилятору выполнять оптимизацию со сведениями обо всех модулях в программе. Без оптимизации всей программы оптимизации выполняются на уровне каждого модуля (компилируемого объекта).

Оптимизация всей программы отключена по умолчанию и должна быть явно включена. Однако можно также явно отключить его с помощью **/гл-** .

Используя сведения обо всех модулях, компилятор может:

- Оптимизируйте использование регистров в границах функций.

- Лучше отслеживать изменения глобальных данных, что позволяет сократить количество загрузок и магазинов.

- Лучше отслеживать возможный набор элементов, измененных разыменованием указателя, уменьшая количество загрузок и хранилищ.

- Встраивание функции в модуль, даже если функция определена в другом модуле.

OBJ-файлы, созданные с помощью **/GL** , не будут доступны для таких служебных программ компоновщика, как [EDITBIN](editbin-reference.md) и [dumpbin](dumpbin-reference.md).

При компиляции программы с помощью **/GL** и [/c](c-compile-without-linking.md)следует использовать параметр компоновщика/LTCG для создания выходного файла.

Параметр [/Zi](z7-zi-zi-debug-information-format.md) не может использоваться с **/GL**

Формат файлов, создаваемых с помощью параметра **/GL** в текущей версии, может быть недоступен для последующих C++версий Visual. Не следует поставлять файл. lib, состоящий из OBJ-файлов, созданных с параметром **/GL** , если вы не готовы поставлять копии LIB-файла для всех версий Visual C++ , которые вы ожидаете использовать, сейчас и в будущем.

OBJ-файлы, созданные с помощью **/GL** и предварительно скомпилированных файлов заголовков, не должны использоваться для сборки файла. lib, если только LIB-файл не будет связан на том же компьютере, который выдал файл **/GL** . obj. Сведения из файла предкомпилированного заголовка OBJ-файла потребуются во время компоновки.

Дополнительные сведения о оптимизациях, доступных в, и об ограничениях оптимизации всей программы см. в разделе [/LTCG](ltcg-link-time-code-generation.md).  **/GL** также делает доступной оптимизацию для профиля; см./ЛТКГ.  При компиляции для оптимизации с профилем и при необходимости сортировки функций в профильной оптимизации необходимо компилировать с параметром [/Gy](gy-enable-function-level-linking.md) или компилятора, который подразумевает/Ги.

### <a name="to-set-this-linker-option-in-the-visual-studio-development-environment"></a>Задание данного параметра компоновщика в среде разработки Visual Studio

1. Сведения о том, как указать **/GL** в среде разработки, см. в разделе [/LTCG (создание кода во время компоновки)](ltcg-link-time-code-generation.md) .

### <a name="to-set-this-linker-option-programmatically"></a>Задание данного параметра компоновщика программным способом

1. См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.WholeProgramOptimization%2A>.

## <a name="see-also"></a>См. также раздел

[Параметры компилятора MSVC](compiler-options.md)<br/>
[Синтаксис командной строки компилятора MSVC](compiler-command-line-syntax.md)
