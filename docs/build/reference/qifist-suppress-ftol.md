---
title: /QIfist (Suppress _ftol)
ms.date: 11/04/2016
f1_keywords:
- /qifist
helpviewer_keywords:
- QIfist compiler option [C++]
- -QIfist compiler option [C++]
- /QIfist compiler option [C++]
ms.assetid: 1afd32a5-f658-4b66-85f4-e0ce4cb955bd
ms.openlocfilehash: 5d6e12a1003ea125b0da4bfef580d8096e97553a
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81336102"
---
# <a name="qifist-suppress-_ftol"></a>/QIfist (Suppress _ftol)

Не рекомендуется. Подавляет вызов вспомогательной функции `_ftol` при необходимости преобразования из типа с плавающей запятой в целочисленный тип.

## <a name="syntax"></a>Синтаксис

```
/QIfist
```

## <a name="remarks"></a>Примечания

> [!NOTE]
> **/Ifist** доступен только в таргетинге компилятора x86; эта опция компилятора недоступна в компиляторах, ориентированных на x64 илиARM.

В дополнение к преобразованию из типа плавающей `_ftol` точки в интегральный тип, функция обеспечивает режим округления блока плавающей точки (FPU) к нулю (truncate), установив биты 10 и 11 контрольного слова. Это гарантирует, что преобразование из типа плавающей точки в интегральный тип происходит, как описано в стандарте ANSI C (фракционная часть числа отбрасывается). При использовании **/ Зифист**, эта гарантия больше не применяется. Режим округления будет одним из четырех, как описано в справочниках Intel:

- Круглый к ближайшему (даже число, если равное)

- Круглый к отрицательной бесконечности

- Круглый к позитивной бесконечности

- Круглый к нулю

Функция [_control87, _controlfp, \__control87_2](../../c-runtime-library/reference/control87-controlfp-control87-2.md) C Run-Time может изменить поведение округления FPU. Режим округления по умолчанию FPU является "Круглый к ближайшему". Использование **/ Зифист** может повысить производительность вашего приложения, но не без риска. Вы должны тщательно протестировать части кода, чувствительные к режимам округления, прежде чем полагаться на код, построенный с **/Ifist** в производственных средах.

[/арка (x86)](arch-x86.md) и **/Зифист** не может быть использован на том же компиляции.

> [!NOTE]
> **/Ifist** не действует по умолчанию, потому что округление битов также влияет на плавающую точку плавающей точки округления (что происходит после каждого расчета), поэтому, когда вы устанавливаете флаги для C-стиля (к нулю) округления, ваши расчеты плавающей точки могут быть разными. **«Ифист** не должен использоваться, если ваш код зависит от ожидаемого поведения усечения фракционной части номера плавающей точки. Если вы не уверены, не используйте **/ Зифист**.

**Опция /Зифист** является универсальная, начиная с Visual Studio 2005. Компилятор внес значительные улучшения в поплавок к скорости преобразования int. Для списка изыхаемых вариантов компилятора **см.** [Compiler Options Listed by Category](compiler-options-listed-by-category.md)

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойства сборки в Visual Studio](../working-with-project-properties.md).

1. Откройте папку **C/C++** .

1. Выберите страницу свойств **Командная строка** .

1. Введите параметр компилятора в поле **Дополнительные параметры** .

### <a name="to-set-this-compiler-option-programmatically"></a>Установка данного параметра компилятора программным способом

- См. раздел <xref:Microsoft.VisualStudio.VCProjectEngine.VCCLCompilerTool.AdditionalOptions%2A>.

## <a name="see-also"></a>См. также раздел

[/- Параметры (операции низкого уровня)](q-options-low-level-operations.md)<br/>
[Параметры компилятора MSVC](compiler-options.md)<br/>
[MSVC Компилятор Командно-линейный синтаксис](compiler-command-line-syntax.md)
