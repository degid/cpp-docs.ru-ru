---
title: /std (определение стандартной версии языка)
description: Параметр компилятора КОМПИЛЯТОРОМ MSVC/STD указывает стандарт языка C или C++, поддерживаемый компилятором.
ms.date: 09/11/2020
f1_keywords:
- /std
- -std
- /std:c++14
- /std:c++17
- /std:c11
- /std:c17
- VC.Project.VCCLCompilerTool.CppLanguageStandard
ms.assetid: 0acb74ba-1aa8-4c05-b96c-682988dc19bd
ms.openlocfilehash: 82f37377dc223bfe3f5e578e1c7f390da91752a1
ms.sourcegitcommit: b492516cc65120250b9ea23f96f7f63f37f99fae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/14/2020
ms.locfileid: "90075833"
---
# <a name="std-specify-language-standard-version"></a>`/std` (Укажите версию Standard языка)

Включить поддерживаемые возможности языка C и C++ из заданной версии стандарта языка C или C++.

## <a name="syntax"></a>Синтаксис

> **`/std:c++14`**\
> **`/std:c++17`**\
> **`/std:c++latest`**\
> **`/std:c11`**\
> **`/std:c17`**

## <a name="remarks"></a>Примечания

Этот **`/std`** параметр доступен в Visual Studio 2017 и более поздних версиях. Он используется для управления стандартными функциями языка программирования ISO C или C++, включенными во время компиляции кода. Этот параметр позволяет отключить поддержку некоторых новых возможностей языка и библиотеки. они могут нарушить существующий код, который соответствует определенной версии стандарта языка.

### <a name="c-standards-support"></a>Поддержка стандартов C++

По умолчанию **`/std:c++14`** указывается, что отключает функции языка и стандартной библиотеки, которые находятся в более поздних версиях стандарта языка C++. Используется  **`/std:c++17`** для включения функций и поведения, характерных для стандарта c++ 17. Чтобы явно включить реализованные в настоящее время компилятор и функции стандартной библиотеки, предлагаемые для следующего черновика Standard, используйте **`/std:c++latest`** . Все компоненты C++ 20 требуются **`/std:c++latest`** ; после завершения реализации **`/std:c++20`** будет включен новый параметр.

Параметр по умолчанию **`/std:c++14`** включает набор функций c++ 14, реализуемых компилятором компилятором MSVC. Этот параметр отключает поддержку компилятора и стандартной библиотеки для компонентов, которые были изменены или новые в более поздних версиях стандарта языка. Некоторые функции C++ 17, уже реализованные в предыдущих выпусках компилятора КОМПИЛЯТОРОМ MSVC, не отключаются. Чтобы избежать критических изменений для пользователей, которые уже применяют зависимости от функций, доступных в или до обновления 2 для Visual Studio 2015, эти функции остаются включенными, если **`/std:c++14`** указан параметр.

- [Правила для `auto` с фигурными скобками (init)](https://wg21.link/n3922)

- [`typename` в шаблоне шаблона — параметры](https://wg21.link/n4051)

- [Удаление триграфов](https://wg21.link/n4086)

- [Атрибуты пространств имен и перечислителей](https://wg21.link/n4266)

- [Символьные литералы u8](https://wg21.link/n4267)

Список функций C++ 14 и C++ 17, включенных при указании параметра **`/std:c++14`** доступно. Дополнительные сведения см. в разделе Примечания в [таблице соответствия языка Microsoft C++](../../overview/visual-cpp-language-conformance.md).

**`/std:c++17`** Параметр включает полный набор функций c++ 17, реализованных компилятором компилятором MSVC. Этот параметр отключает поддержку компилятора и стандартной библиотеки для новых или измененных функций после C++ 17. В том числе после + + 17 изменений в версиях рабочего черновика и дефектных обновлений стандарта C++.

**`/std:c++latest`** Параметр включает функции языка и библиотеки, которые в настоящее время реализованы в компиляторе и библиотеках. Эти функции могут включать изменения из рабочего черновика C++ 20, ошибки, не включенные в C++ 17, и экспериментальные предложения для черновика Standard. Список поддерживаемых возможностей языка и библиотек см. в статье [Новые возможности Visual C++](../../overview/what-s-new-for-visual-cpp-in-visual-studio.md). **`/std:c++latest`** Параметр не включает функции, защищенные **`/experimental`** коммутатором, но может потребоваться для их включения.

> [!IMPORTANT]
> Функции компилятора и библиотеки, включенные, **`/std:c++latest`** представляют функции, которые могут использоваться в будущем стандарте c++, а также утвержденные функции c++ 20. Неутвержденные возможности предоставляются на условиях "как есть", могут удаляться без уведомления либо в них могут вноситься критические изменения.

**`/std`** Параметр, действующий во время компиляции C++, может быть обнаружен с помощью макроса препроцессора [ \_ компилятором MSVC \_ lang](../../preprocessor/predefined-macros.md) . Дополнительные сведения см. в статье [Макросы препроцессора](../../preprocessor/predefined-macros.md).

**`/std:c++14`** Параметры и **`/std:c++latest`** доступны начиная с Visual Studio 2015 с обновлением 3. Этот **`/std:c++17`** параметр доступен начиная с Visual Studio 2017 версии 15,3. Как отмечалось выше, некоторые стандартные поведения C++ 17 включаются **`/std:c++14`** параметром, но все остальные функции c++ 17 включены **`/std:c++17`** . Функции c++ 20 включены **`/std:c++latest`** до тех пор, пока реализация не будет завершена.

> [!NOTE]
> В зависимости от версии или уровня обновления компилятора КОМПИЛЯТОРОМ MSVC компоненты C++ 17 могут быть полностью реализованы или полностью согласованы при указании **`/std:c++17`** параметров. Общие сведения о согласовании языка C++ в Visual C++ по версии выпуска см. в разделе [Таблица соответствия языка Microsoft c++](../../overview/visual-cpp-language-conformance.md).

### <a name="c-standards-support"></a>Поддержка стандартов C

По умолчанию, когда код компилируется как C, компилятор КОМПИЛЯТОРОМ MSVC не соответствует определенному стандарту C. Он реализует C89 ANSI с несколькими расширениями Майкрософт, некоторые из которых являются частью ISO C99. Некоторые расширения Майкрософт могут быть отключены с помощью [`/Za`](za-ze-disable-language-extensions.md) параметра компилятора, но другие остаются в силе. Невозможно задать C89 соответствие.

Начиная с Visual Studio 2019 версии 16,8, вы можете указать **`/std:c11`** или **`/std:c17`** для кода, скомпилированного как C. Эти параметры указывают режимы соответствия стандартам ISO C11 и ISO C17. Поскольку для поддержки этих стандартов требуется новый препроцессор, **`/std:c11`** **`/std:c17`** параметры компилятора и устанавливают [`/Zc:preprocessor`](zc-preprocessor.md) параметр автоматически. Если вы хотите использовать традиционный (устаревший) препроцессор для C11 или C17, необходимо **`/Zc:preprocessor-`** явно задать параметр компилятора. Установка **`/Zc:preprocessor-`** параметра может привести к непредвиденному поведению и не рекомендуется.

> [!NOTE]
> На момент выпуска последние библиотеки Windows SDK и UCRT еще не поддерживают код C11 и C17. Требуется предварительная версия Windows SDK и UCRT. Дополнительные сведения и инструкции по установке см. [в статье Установка поддержки C11 и C17 в Visual Studio](../../overview/install-c17-support.md).

При указании **`/std:c11`** или **`/std:c17`** компилятором MSVC поддерживает все необходимые функции C11 и C17. Параметры компилятора обеспечивают поддержку этих функций:

- **`_Pragma`**

- **`restrict`**

- **`_Noreturn`** перетаскивани \<stdnoreturn.h>

- **`_Alignas`**, **`_Alignof`** и \<stdalign.h>

- **`_Generic`** перетаскивани \<tgmath.h>

- **`_Static_assert`**

В интегрированной среде разработки используются параметры языка C для IntelliSense и выделения кода, если исходные файлы имеют *`.c`* расширение или если указан [`/TC`](tc-tp-tc-tp-specify-source-file-type.md) параметр компилятора. В настоящее время выделение IntelliSense доступно только для ключевых слов, а не для макросов, представленных стандартными заголовками.

Поскольку C17 в основном является исправлением ошибок ISO C11, поддержка КОМПИЛЯТОРОМ MSVC для C11 уже включает все соответствующие отчеты об ошибках. В настоящее время нет различий между версиями C11 и C17, за исключением `__STDC_VERSION__` макроса. Он разворачивается в `201112L` для C11 и `201710L` для C17.

Компилятор не поддерживает дополнительные возможности ISO C11. Некоторые из этих необязательных функций C11 были необходимыми функциями C99, которые КОМПИЛЯТОРОМ MSVC не были реализованы в целях архитектуры. Вы можете использовать макросы тестирования компонентов, например, `__STDC_NO_VLA__` чтобы определить уровни поддержки компилятора для отдельных компонентов. Дополнительные сведения о предопределенных макросах для C см. в разделе [предопределенные макросы](../../preprocessor/predefined-macros.md).

- В выпуске Visual Studio 2019 версии 16,8 не поддерживается многопоточность, атомарная или комплексная поддержка чисел.

- `aligned_alloc` отсутствует поддержка из-за реализации кучи Windows. Альтернативой является использование [`_aligned_malloc`](../../c-runtime-library/reference/aligned-malloc.md) .

- Поддержка DR 400 в настоящее время не реализована для `realloc` , так как это изменение привело бы к нарушению ABI.

- Поддержка массива переменной длины (VLA) не запланирована. Массивы переменной длины зачастую менее эффективны, чем сравнимые массивы фиксированного размера. Они также неэффективны по сравнению с эквивалентным выделением памяти в куче, когда они безопасно и безопасно реализуются. VLA предоставляют векторы атак, сравнимые с `gets()` , которые являются устаревшими и запланированными для удаления.

### <a name="to-set-this-compiler-option-in-the-visual-studio-development-environment"></a>Установка данного параметра компилятора в среде разработки Visual Studio

1. Откройте диалоговое окно **Страницы свойств** проекта. Подробнее см. в статье [Настройка компилятора C++ и свойства сборки в Visual Studio](../working-with-project-properties.md).

1. Выберите **Свойства конфигурации**, **C/C++**, **Язык**.

1. В **стандартном языке C++** (или для языка c, **стандарта c**) выберите языковой стандарт, который требуется поддерживать, из раскрывающегося списка, а затем нажмите кнопку **ОК** или **Применить** , чтобы сохранить изменения.

## <a name="see-also"></a>См. также раздел

[Параметры компилятора MSVC](compiler-options.md)<br/>
[Синтаксис командной строки компилятора КОМПИЛЯТОРОМ MSVC](compiler-command-line-syntax.md)
