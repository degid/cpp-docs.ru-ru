---
title: Использование на международном уровне
ms.date: 11/04/2016
helpviewer_keywords:
- globalization [C++], character sets
- strings [C++], international enabling
- localization [C++], character sets
- MBCS [C++], enabling
- Unicode [C++], enabling
ms.assetid: b077f4ca-5865-40ef-a46e-d9e4d686ef21
ms.openlocfilehash: ff0fb4102a0453b900b5b406739492a9420a5b07
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87228093"
---
# <a name="international-enabling"></a>Использование на международном уровне

В большинстве традиционных кодов C и C++ допущены предположения относительно обработки символов и строк, которые не подходят для международных приложений. Хотя MFC и библиотека времени выполнения поддерживают Юникод или MBCS, вы по-прежнему работаете. В этом разделе объясняется значение «Международная включение» в Visual C++:

- Юникод и MBCS поддерживаются средствами переносимых типов данных в списках параметров функций MFC и возвращаемых типов. Эти типы условно определяются соответствующим образом в зависимости от того, определяет ли ваша сборка символ `_UNICODE` или символ `_MBCS` (то есть DBCS). Различные варианты библиотек MFC автоматически связываются с приложением в зависимости от того, какие из этих символов определяет ваша сборка.

- Код библиотеки классов использует переносимые функции времени выполнения и другие средства для обеспечения правильной работы Юникода или MBCS.

- В коде по-прежнему должны быть обработаны определенные виды многоязыковых задач:

  - Используйте те же переносимые функции времени выполнения, которые делают MFC переносимой в любой среде.

  - Создание строк и символов литералов, переносимых в любой среде, с помощью `_T` макроса. Дополнительные сведения см. [в разделе Универсальные текстовые сопоставления в файле Tchar.h](../text/generic-text-mappings-in-tchar-h.md).

  - Предпримите меры предосторожности при анализе строк в MBCS. Эти меры предосторожности не требуются в Юникоде. Дополнительные сведения см. в разделе [Советы по программированию MBCS](../text/mbcs-programming-tips.md).

  - Примите во внимание, если в приложении сочетаются символы ANSI (8-разрядные) и Юникод (16-разрядных). Можно использовать символы ANSI в некоторых частях программы и символы Юникода в других, но нельзя смешивать их в одной строке.

  - Не следует жестко кодировать строки в приложении. Вместо этого сделайте их ресурсами STRINGTABLE, добавив их в RC-файл приложения. Приложение может быть локализовано без изменения исходного кода или повторной компиляции. Дополнительные сведения о ресурсах STRINGTABLE см. в разделе [Редактор строк](../windows/string-editor.md).

> [!NOTE]
> В европейских и многобайтовых кодировках есть некоторые символы, например буквы с диакритическими знаками, превышающие 0x80. Поскольку в большинстве кодов используются символы со знаком, эти символы, превышающие 0x80, при преобразовании в преобразуются **`int`** . Это проблема при индексировании массива, так как символы расширенного знака, являющиеся отрицательными, индексы за пределами массива. Языки, использующие многобайтовую кодировку, например японский, также являются уникальными. Поскольку символ может состоять из 1 или 2 байт, необходимо всегда манипулировать обоими байтами одновременно.

## <a name="see-also"></a>См. также статью

[Юникод и многобайтовая кодировка](../text/unicode-and-mbcs.md)<br/>
[Стратегии интернационализации](../text/internationalization-strategies.md)
