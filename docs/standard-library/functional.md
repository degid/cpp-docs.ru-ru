---
title: '&lt;functional&gt;'
ms.date: 02/21/2019
f1_keywords:
- <functional>
- functional/std::<functional>
- std::<functional>
helpviewer_keywords:
- functors
- functional header
ms.assetid: 7dd463e8-a29f-49bc-aedd-8fa53b54bfbc
ms.openlocfilehash: 9f1eaf69f49a449877b9013dca62ab49cb8a5b48
ms.sourcegitcommit: ec6dd97ef3d10b44e0fedaa8e53f41696f49ac7b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/25/2020
ms.locfileid: "88838052"
---
# <a name="ltfunctionalgt"></a>&lt;functional&gt;

Определяет функции стандартной библиотеки C++, которые помогают конструировать *объекты функций*, также известные как *операторов*, и их связыватели. Объект-функция — это объект типа, который определяет `operator()`. Объект-функция может быть указателем на функцию, но, как правило, он используется для хранения дополнительных сведений, которые могут потребоваться при вызове функции.

## <a name="requirements"></a>Требования

**Заголовок:**\<functional>

**Пространство имен:** std

## <a name="remarks"></a>Примечания

Для алгоритмов требуются два типа объектов функций: *Унарные* и *двоичные*. Унарным объектам-функциям требуется один аргумент, и бинарным — два аргумента. Объект-функция и указатели на функции могут передаваться как предикат для алгоритма, но объекты-функции также могут настраиваться и расширяют область, а также повышают гибкость и эффективность стандартной библиотеки C++. Если, например, требуется привязать значение к функции перед передачей алгоритму, указатель на функцию не может использоваться. Адаптеры функций преобразуют указатели на функции в гибкие объекты-функции, которые можно привязать к значению. Заголовок \<functional> также содержит адаптеры функций элементов, которые позволяют вызывать функции элементов как адаптируемые объекты функций. Функции могут настраиваться, если у них есть объявления вложенных типов, указывающие типы аргументов и типы возвращаемого значения. Объекты-функции и их адаптеры позволяют стандартной библиотеке C++ обновить существующие приложения и облегчают интеграцию библиотеки в среду программирования C++.

Реализация объектов функций в \<functional> включает в себя *прозрачный оператор операторов*. которые являются специализацией стандартных объектов функций и не имеют параметров шаблона и выполняют точную пересылку аргументов функции и идеально возвращают результат. Эти специализации шаблона не требуют указывать типы аргументов при вызове функторов арифметических операций, операций сравнения, логических операций и функторов побитовых операторов. Вы можете перегружать арифметические, логические, побитовые операторы и операторы сравнения для собственных типов или сочетания разнородных типов, а затем использовать прозрачные функторы операторов в качестве аргументов функции. Например, если тип *MyType* реализует `operator<`, вы можете вызвать `sort(my_collection.begin(), my_collection.end(), less<>())` вместо явного указания типа `sort(my_collection.begin(), my_collection.end(), less<MyType>())`.

В C++ 11, C++ 14 и C++ 17 добавлены следующие функции:

- *Сигнатура вызова* — имя типа возвращаемого значения, за которым следует список разделенных запятыми из нуля или более типов аргументов, заключенный в круглые скобки.

- *Вызываемый тип* — это указатель на функцию, указатель на функцию-член, указатель на данные-член или тип класса, объекты которого могут размещаться непосредственно слева от оператора вызова функции.

- *Вызываемый объект* — это объект вызываемого типа.

- *Тип оболочки вызова* — это тип, который содержит вызываемый объект и поддерживает операцию вызова, которая перенаправляет на этот объект.

- *Оболочка вызова* — это объект типа оболочки вызова.

- *Целевой объект* — это вызываемый объект, который содержится в объекте оболочки вызова.

Псевдофункция `INVOKE(f, t1, t2, ..., tN)` означает одно из следующего:

- `(t1.*f)(t2, ..., tN)`, если `f` — это указатель на функцию-член класса `T`, а `t1` — это объект типа `T`, ссылка на объект типа `T` или ссылка на объект типа, производного от `T`.

- `((*t1).*f)(t2, ..., tN)`, если `f` — это указатель на функцию-член класса `T`, а `t1` не является одним из типов, описанных в предыдущем пункте.

- `t1.*f`, если N == 1, а `f` — это указатель на данные-член класса `T` и `t1` — это объект типа `T`, ссылка на объект типа `T` или ссылка на объект типа, производного от `T`.

- `(*t1).*f`, если N == 1, а `f` — это указатель на данные-член класса `T` и `t1` не является одним из типов, описанных в предыдущем пункте.

- `f(t1, t2, ..., tN)` — во всех остальных случаях.

Псевдофункция `INVOKE(f, t1, t2, ..., tN, R)` означает `INVOKE(f, t1, t2, ..., tN)`, неявно преобразованный в `R`.

Если у оболочки вызова есть *слабый результирующий тип*, тип его члена `result_type` основан на типе `T` целевого объекта оболочки, как показано ниже:

- Если `T` — указатель на функцию, `result_type` — это синоним возвращаемого типа `T`.

- Если `T` — указатель на функцию-член, `result_type` — это синоним возвращаемого типа `T`.

- Если `T` — тип класса с типом члена `result_type`, `result_type` — это синоним `T::result_type`.

- В противном случае член `result_type` не существует.

У каждой оболочки вызова есть конструктор перемещения и конструктор копирования. *Простая оболочка вызова* — это оболочка с оператором присваивания, конструктор копирования, конструктор перемещения и оператор присваивания которой не вызывают исключений. *Пересылающая оболочка вызова* — это оболочка, которая может вызываться с помощью списка произвольных аргументов и которая предоставляет аргументы вызываемому объекту в оболочке в виде ссылок. Все аргументы rvalue предоставляются как ссылки rvalue, а аргументы lvalue — как ссылки lvalue.

## <a name="members"></a>Элементы

### <a name="classes"></a>Классы

|Имя|Описание|
|-|-|
|[bad_function_call](../standard-library/bad-function-call-class.md)|Класс, который описывает исключение, указывающий, что вызов `operator()` в объекте-[function](../standard-library/function-class.md) завершился ошибкой, так как объект был пуст.|
|[binary_negate](../standard-library/binary-negate-class.md)|Шаблон класса, предоставляющий функцию-член, которая инвертирует возвращаемое значение заданной двоичной функции.<br/> (Не рекомендуется в C++ 17.) |
|[binder1st](../standard-library/binder1st-class.md)|Шаблон класса, предоставляющий конструктор, который преобразует объект бинарной функции в объект унарной функции путем привязки первого аргумента бинарной функции к заданному значению.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[binder2nd](../standard-library/binder2nd-class.md)|Шаблон класса, предоставляющий конструктор, который преобразует объект бинарной функции в объект унарной функции путем привязки второго аргумента бинарной функции к заданному значению.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[boyer_moore_horspool_searcher](../standard-library/boyer-moore-horspool-searcher-class.md)||
|[boyer_moore_searcher](../standard-library/boyer-moore-searcher-class.md)||
|[const_mem_fun_ref_t](../standard-library/const-mem-fun-ref-t-class.md)|Класс адаптера, который позволяет вызывать функцию-член-константу, не принимающую аргументы, как объект унарной функции при инициализации с ссылочным аргументом.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[const_mem_fun_t](../standard-library/const-mem-fun-t-class.md)|Класс адаптера, который позволяет вызывать функцию-член-константу, не принимающую аргументы, как объект унарной функции при инициализации с аргументом указателя.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[const_mem_fun1_ref_t](../standard-library/const-mem-fun1-ref-t-class.md)|Класс адаптера, который позволяет вызывать функцию-член-константу, принимающую один аргумент, как объект бинарной функции при инициализации с ссылочным аргументом.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[const_mem_fun1_t](../standard-library/const-mem-fun1-t-class.md)|Класс адаптера, который позволяет вызывать функцию-член-константу, принимающую один аргумент, как объект бинарной функции при инициализации с аргументом указателя.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[default_searcher](../standard-library/default-searcher-class.md)||
|[function](../standard-library/function-class.md)|Класс, создающий оболочку для вызываемого объекта.|
|[hash](../standard-library/hash-class.md)|Класс, который вычисляет хэш-код для значения.|
|[is_bind_expression](../standard-library/is-bind-expression-class.md)|Класс, который проверяет, можно ли создать определенный тип, вызывая `bind`.|
|[is_placeholder](../standard-library/is-placeholder-class.md)|Класс, который проверяет, является ли определенный тип заполнителем.|
|[mem_fun_ref_t](../standard-library/mem-fun-ref-t-class.md)|Класс адаптера, который позволяет `non_const` вызывать функцию-член, которая не принимает аргументов, как объект унарной функции при инициализации с ссылочным аргументом.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[mem_fun_t](../standard-library/mem-fun-t-class.md)|Класс адаптера, который позволяет `non_const` вызывать функцию-член, которая не принимает аргументов, как объект унарной функции при инициализации с помощью аргумента указателя.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[mem_fun1_ref_t](../standard-library/mem-fun1-ref-t-class.md)|Класс адаптера, который позволяет `non_const` вызывать функцию-член, которая принимает один аргумент, как объект бинарной функции при инициализации со ссылочным аргументом.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[mem_fun1_t](../standard-library/mem-fun1-t-class.md)|Класс адаптера, который позволяет `non_const` вызывать функцию-член, которая принимает один аргумент, как объект бинарной функции при инициализации с помощью аргумента указателя.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[pointer_to_binary_function](../standard-library/pointer-to-binary-function-class.md)|Преобразует указатель на бинарную функцию в адаптируемую бинарную функцию.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[pointer_to_unary_function](../standard-library/pointer-to-unary-function-class.md)|Преобразует указатель на унарную функцию в адаптируемую унарную функцию.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[reference_wrapper](../standard-library/reference-wrapper-class.md)|Класс, который создает оболочку для ссылки.|
|[unary_negate](../standard-library/unary-negate-class.md)|Шаблон класса, предоставляющий функцию-член, которая инвертирует возвращаемое значение заданной унарной функции.<br/> (Не рекомендуется в C++ 17.)  |

### <a name="functions"></a>Функции

|Имя|Описание|
|-|-|
|[bind](../standard-library/functional-functions.md#bind)|Привязывает аргументы к вызываемому объекту.|
|[bind1st](../standard-library/functional-functions.md#bind1st)|Вспомогательная функция шаблона, которая создает адаптер для преобразования объекта бинарной функции в объект унарной функции, привязывая первый аргумент бинарной функции к указанному значению.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[bind2nd](../standard-library/functional-functions.md#bind2nd)|Вспомогательная функция шаблона, которая создает адаптер для преобразования объекта бинарной функции в объект унарной функции, привязывая второй аргумент бинарной функции к указанному значению.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[bit_and](../standard-library/functional-functions.md#bit_and)|Возвращает результат применения побитовой логической операции И (бинарный оператор &) между двумя параметрами.|
|[bit_not](../standard-library/functional-functions.md#bit_not)|Возвращает результат применения логического дополнения (оператор ~) к параметру.<br/> (Добавлено в C++ 14.) |
|[bit_or](../standard-library/functional-functions.md#bit_or)|Возвращает результат применения логической операции ИЛИ (оператор &#124;) между двумя параметрами.|
|[bit_xor](../standard-library/functional-functions.md#bit_xor)|Возвращает результат применения логической операции ИСКЛЮЧАЮЩЕЕ ИЛИ (оператор ^) между двумя параметрами.|
|[cref](../standard-library/functional-functions.md#cref)|Создает конструкцию `reference_wrapper` из аргумента.|
|[invoke](../standard-library/functional-functions.md#invoke)||
|[mem_fn](../standard-library/functional-functions.md#mem_fn)|Создает простую оболочку вызова.|
|[mem_fun](../standard-library/functional-functions.md#mem_fun)|Вспомогательные функции шаблона, которые используются для создания адаптеров объекта-функции для функций-членов при инициализации с аргументами указателя.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[mem_fun_ref](../standard-library/functional-functions.md#mem_fun_ref)|Вспомогательная функция шаблона, которая используется для создания адаптеров объекта-функции для функций-членов при инициализации с ссылочными аргументами.|
|[not1](../standard-library/functional-functions.md#not1)|Возвращает дополнение унарного предиката.<br/> (Не рекомендуется в C++ 17.) |
|[not2](../standard-library/functional-functions.md#not2)|Возвращает дополнение бинарного предиката.<br/> (Не рекомендуется в C++ 17.) |
|[not_fn](../standard-library/functional-functions.md#not_fn)|Возвращает дополнение результата объекта функции.<br/> (Добавлено в C++ 17.) |
|[ptr_fun](../standard-library/functional-functions.md#ptr_fun)|Вспомогательная функция шаблона, которая используется для преобразования указателей на унарные и бинарные функция в унарные и бинарные адаптируемые функции соответственно.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[ref](../standard-library/functional-functions.md#ref)|Создает `reference_wrapper` из аргумента.|
|[swap](../standard-library/functional-functions.md#swap)|Меняет местами два объекта `function`.|

### <a name="structs"></a>Структуры

|Имя|Описание|
|-|-|
|[binary_function](../standard-library/binary-function-struct.md)|Пустой базовый класс, определяющий типы, которые могут наследоваться производным классом, предоставляющим объект бинарной функции.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |
|[divides](../standard-library/divides-struct.md)|Этот класс предоставляет стандартный объект-функцию, который выполняет арифметическую операцию деления элементов заданного типа значения.|
|[equal_to](../standard-library/equal-to-struct.md)|Бинарный предикат, который проверяет, равно ли значение заданного типа другому значению этого типа.|
|[greater](../standard-library/greater-struct.md)|Бинарный предикат, который проверяет, больше ли значение заданного типа другого значения этого типа.|
|[greater_equal](../standard-library/greater-equal-struct.md)|Бинарный предикат, который проверяет, больше или равно ли значение заданного типа другого значения этого типа.|
|[less](../standard-library/less-struct.md)|Бинарный предикат, который проверяет, меньше ли значение заданного типа другого значения этого типа.|
|[less_equal](../standard-library/less-equal-struct.md)|Бинарный предикат, который проверяет, меньше или равно ли значение заданного типа другого значения этого типа.|
|[logical_and](../standard-library/logical-and-struct.md)|Этот класс предоставляет стандартный объект-функцию, который применяет логическую операцию конъюнкции к элементам заданного типа значения и проверяет истинность или ложность результата.|
|[logical_not](../standard-library/logical-not-struct.md)|Этот класс предоставляет стандартный объект-функцию, который применяет логическую операцию отрицания к элементам заданного типа значения и проверяет истинность или ложность результата.|
|[logical_or](../standard-library/logical-or-struct.md)|Этот класс предоставляет стандартный объект-функцию, который применяет логическую операцию логического сложения к элементам заданного типа значения и проверяет истинность или ложность результата.|
|[minus](../standard-library/minus-struct.md)|Этот класс предоставляет стандартный объект-функцию, который выполняет арифметическую операцию вычитания для элементов заданного типа значения.|
|[модул](../standard-library/modulus-struct.md)|Этот класс предоставляет стандартный объект-функцию, который выполняет арифметическую операцию модуля для элементов заданного типа значения.|
|[multiplies](../standard-library/multiplies-struct.md)|Этот класс предоставляет стандартный объект-функцию, который выполняет арифметическую операцию умножения для элементов заданного типа значения.|
|[negate](../standard-library/negate-struct.md)|Этот класс предоставляет стандартный объект-функцию, который возвращает отрицательное значение элемента.|
|[not_equal_to](../standard-library/not-equal-to-struct.md)|Бинарный предикат, который проверяет, не равно ли значение заданного типа другому значению этого типа.|
|[plus](../standard-library/plus-struct.md)|Этот класс предоставляет стандартный объект-функцию, который выполняет арифметическую операцию сложения для элементов заданного типа значения.|
|[unary_function](../standard-library/unary-function-struct.md)|Пустой базовый класс, определяющий типы, которые могут наследоваться производным классом, предоставляющим объект унарной функции.<br/> (Не рекомендуется в C++ 11, удалено в C++ 17.) |

### <a name="objects"></a>Объекты

|Имя|Описание|
|-|-|
|[_1.._M](../standard-library/1-object.md)|Заполнители для подстановочных аргументов.|

### <a name="operators"></a>Операторы

|Имя|Описание|
|-|-|
|[operator==](../standard-library/functional-operators.md#op_eq_eq)|Запрещает сравнение вызываемых объектов на равенство.|
|[operator!=](../standard-library/functional-operators.md#op_neq)|Запрещает сравнение вызываемых объектов на неравенство.|

## <a name="see-also"></a>См. также раздел

[Справочник по файлам заголовков](../standard-library/cpp-standard-library-header-files.md)\
[Безопасность потоков в стандартной библиотеке C++](../standard-library/thread-safety-in-the-cpp-standard-library.md)\
[Справочник по стандартной библиотеке C++](../standard-library/cpp-standard-library-reference.md)
