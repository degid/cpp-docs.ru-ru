---
title: Объекты функции в стандартной библиотеке C++
ms.date: 03/15/2019
helpviewer_keywords:
- functors
- C++ Standard Library, functors
- C++ Standard Library, function objects
- function objects
ms.assetid: 85f8a735-2c7b-4f10-9c4d-95c666ec4192
ms.openlocfilehash: ed413b2bcdcda8f65794b10c792b10358564420a
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87215742"
---
# <a name="function-objects-in-the-c-standard-library"></a>Объекты функции в стандартной библиотеке C++

*Объект функции*(или *функтор*) — это любой тип, реализующий operator(). Этот оператор называется *оператором вызова* или иногда *оператором приложения*. Стандартная библиотека C++ использует объекты функций главным образом в качестве критериев сортировки для контейнеров и в алгоритмах.

Объекты функций обеспечивают два основных преимущества по сравнению с прямым вызовом функций. Во-первых, объект функции может содержать состояние. Во-вторых, объект функции является типом и поэтому может использоваться в качестве параметра шаблона.

## <a name="creating-a-function-object"></a>Создание объекта функции

Чтобы создать объект функции, создайте тип и реализуйте operator(), например:

```cpp
class Functor
{
public:
    int operator()(int a, int b)
    {
        return a < b;
    }
};

int main()
{
    Functor f;
    int a = 5;
    int b = 7;
    int ans = f(a, b);
}
```

Последняя строка функции `main` демонстрирует способ вызов объекта функции. Этот вызов похож на вызов функции, но фактически вызывает operator() типа функтор. Сходство между вызовом объекта функции и вызовом функции заключается в том, как появляется термин "объект функции".

## <a name="function-objects-and-containers"></a>Объекты функций и контейнеры

Стандартная библиотека C++ содержит несколько объектов функций в [\<functional>](../standard-library/functional.md) файле заголовка. Один из этих объектов функций применяется как критерий сортировки для контейнеров. Например, контейнер `set` объявляется следующим образом:

```cpp
template <class Key,
    class Traits=less<Key>,
    class Allocator=allocator<Key>>
class set
```

Второй аргумент шаблона — объект функции `less`. Этот объект функции возвращает значение, **`true`** Если первый параметр меньше второго параметра. Так как некоторые контейнеры сортируют свои элементы, контейнеру требуется способ сравнения двух элементов. Сравнение выполняется с помощью объекта функции. Можно определить собственные критерии сортировки для контейнеров, создав объект функции и указав его в списке шаблонов для контейнера.

## <a name="function-objects-and-algorithms"></a>Объекты функций и алгоритмы

Объекты функций также используются в алгоритмах. Например, алгоритм `remove_if` объявляется следующим образом:

```cpp
template <class ForwardIterator, class Predicate>
ForwardIterator remove_if(
    ForwardIterator first,
    ForwardIterator last,
    Predicate pred);
```

Последний аргумент `remove_if` является объектом функции, который возвращает логическое значение ( *предикат*). Если результат объекта функции — **`true`** , то элемент удаляется из контейнера, к которому обращаются итераторы `first` и `last` . Можно использовать любой объект функции, объявленный в [\<functional>](../standard-library/functional.md) заголовке аргумента, `pred` или создать собственный.

## <a name="see-also"></a>См. также раздел

[Справочник по стандартной библиотеке C++](../standard-library/cpp-standard-library-reference.md)
