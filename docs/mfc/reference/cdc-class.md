---
title: CDC, класс
ms.date: 11/19/2018
f1_keywords:
- CDC
- AFXWIN/CDC
- AFXWIN/CDC::CDC
- AFXWIN/CDC::AbortDoc
- AFXWIN/CDC::AbortPath
- AFXWIN/CDC::AddMetaFileComment
- AFXWIN/CDC::AlphaBlend
- AFXWIN/CDC::AngleArc
- AFXWIN/CDC::Arc
- AFXWIN/CDC::ArcTo
- AFXWIN/CDC::Attach
- AFXWIN/CDC::BeginPath
- AFXWIN/CDC::BitBlt
- AFXWIN/CDC::Chord
- AFXWIN/CDC::CloseFigure
- AFXWIN/CDC::CreateCompatibleDC
- AFXWIN/CDC::CreateDC
- AFXWIN/CDC::CreateIC
- AFXWIN/CDC::DeleteDC
- AFXWIN/CDC::DeleteTempMap
- AFXWIN/CDC::Detach
- AFXWIN/CDC::DPtoHIMETRIC
- AFXWIN/CDC::DPtoLP
- AFXWIN/CDC::Draw3dRect
- AFXWIN/CDC::DrawDragRect
- AFXWIN/CDC::DrawEdge
- AFXWIN/CDC::DrawEscape
- AFXWIN/CDC::DrawFocusRect
- AFXWIN/CDC::DrawFrameControl
- AFXWIN/CDC::DrawIcon
- AFXWIN/CDC::DrawState
- AFXWIN/CDC::DrawText
- AFXWIN/CDC::DrawTextEx
- AFXWIN/CDC::Ellipse
- AFXWIN/CDC::EndDoc
- AFXWIN/CDC::EndPage
- AFXWIN/CDC::EndPath
- AFXWIN/CDC::EnumObjects
- AFXWIN/CDC::Escape
- AFXWIN/CDC::ExcludeClipRect
- AFXWIN/CDC::ExcludeUpdateRgn
- AFXWIN/CDC::ExtFloodFill
- AFXWIN/CDC::ExtTextOut
- AFXWIN/CDC::FillPath
- AFXWIN/CDC::FillRect
- AFXWIN/CDC::FillRgn
- AFXWIN/CDC::FillSolidRect
- AFXWIN/CDC::FlattenPath
- AFXWIN/CDC::FloodFill
- AFXWIN/CDC::FrameRect
- AFXWIN/CDC::FrameRgn
- AFXWIN/CDC::FromHandle
- AFXWIN/CDC::GetArcDirection
- AFXWIN/CDC::GetAspectRatioFilter
- AFXWIN/CDC::GetBkColor
- AFXWIN/CDC::GetBkMode
- AFXWIN/CDC::GetBoundsRect
- AFXWIN/CDC::GetBrushOrg
- AFXWIN/CDC::GetCharABCWidths
- AFXWIN/CDC::GetCharABCWidthsI
- AFXWIN/CDC::GetCharacterPlacement
- AFXWIN/CDC::GetCharWidth
- AFXWIN/CDC::GetCharWidthI
- AFXWIN/CDC::GetClipBox
- AFXWIN/CDC::GetColorAdjustment
- AFXWIN/CDC::GetCurrentBitmap
- AFXWIN/CDC::GetCurrentBrush
- AFXWIN/CDC::GetCurrentFont
- AFXWIN/CDC::GetCurrentPalette
- AFXWIN/CDC::GetCurrentPen
- AFXWIN/CDC::GetCurrentPosition
- AFXWIN/CDC::GetDCBrushColor
- AFXWIN/CDC::GetDCPenColor
- AFXWIN/CDC::GetDeviceCaps
- AFXWIN/CDC::GetFontData
- AFXWIN/CDC::GetFontLanguageInfo
- AFXWIN/CDC::GetGlyphOutline
- AFXWIN/CDC::GetGraphicsMode
- AFXWIN/CDC::GetHalftoneBrush
- AFXWIN/CDC::GetKerningPairs
- AFXWIN/CDC::GetLayout
- AFXWIN/CDC::GetMapMode
- AFXWIN/CDC::GetMiterLimit
- AFXWIN/CDC::GetNearestColor
- AFXWIN/CDC::GetOutlineTextMetrics
- AFXWIN/CDC::GetOutputCharWidth
- AFXWIN/CDC::GetOutputTabbedTextExtent
- AFXWIN/CDC::GetOutputTextExtent
- AFXWIN/CDC::GetOutputTextMetrics
- AFXWIN/CDC::GetPath
- AFXWIN/CDC::GetPixel
- AFXWIN/CDC::GetPolyFillMode
- AFXWIN/CDC::GetROP2
- AFXWIN/CDC::GetSafeHdc
- AFXWIN/CDC::GetStretchBltMode
- AFXWIN/CDC::GetTabbedTextExtent
- AFXWIN/CDC::GetTextAlign
- AFXWIN/CDC::GetTextCharacterExtra
- AFXWIN/CDC::GetTextColor
- AFXWIN/CDC::GetTextExtent
- AFXWIN/CDC::GetTextExtentExPointI
- AFXWIN/CDC::GetTextExtentPointI
- AFXWIN/CDC::GetTextFace
- AFXWIN/CDC::GetTextMetrics
- AFXWIN/CDC::GetViewportExt
- AFXWIN/CDC::GetViewportOrg
- AFXWIN/CDC::GetWindow
- AFXWIN/CDC::GetWindowExt
- AFXWIN/CDC::GetWindowOrg
- AFXWIN/CDC::GetWorldTransform
- AFXWIN/CDC::GradientFill
- AFXWIN/CDC::GrayString
- AFXWIN/CDC::HIMETRICtoDP
- AFXWIN/CDC::HIMETRICtoLP
- AFXWIN/CDC::IntersectClipRect
- AFXWIN/CDC::InvertRect
- AFXWIN/CDC::InvertRgn
- AFXWIN/CDC::IsPrinting
- AFXWIN/CDC::LineTo
- AFXWIN/CDC::LPtoDP
- AFXWIN/CDC::LPtoHIMETRIC
- AFXWIN/CDC::MaskBlt
- AFXWIN/CDC::ModifyWorldTransform
- AFXWIN/CDC::MoveTo
- AFXWIN/CDC::OffsetClipRgn
- AFXWIN/CDC::OffsetViewportOrg
- AFXWIN/CDC::OffsetWindowOrg
- AFXWIN/CDC::PaintRgn
- AFXWIN/CDC::PatBlt
- AFXWIN/CDC::Pie
- AFXWIN/CDC::PlayMetaFile
- AFXWIN/CDC::PlgBlt
- AFXWIN/CDC::PolyBezier
- AFXWIN/CDC::PolyBezierTo
- AFXWIN/CDC::PolyDraw
- AFXWIN/CDC::Polygon
- AFXWIN/CDC::Polyline
- AFXWIN/CDC::PolylineTo
- AFXWIN/CDC::PolyPolygon
- AFXWIN/CDC::PolyPolyline
- AFXWIN/CDC::PtVisible
- AFXWIN/CDC::RealizePalette
- AFXWIN/CDC::Rectangle
- AFXWIN/CDC::RectVisible
- AFXWIN/CDC::ReleaseAttribDC
- AFXWIN/CDC::ReleaseOutputDC
- AFXWIN/CDC::ResetDC
- AFXWIN/CDC::RestoreDC
- AFXWIN/CDC::RoundRect
- AFXWIN/CDC::SaveDC
- AFXWIN/CDC::ScaleViewportExt
- AFXWIN/CDC::ScaleWindowExt
- AFXWIN/CDC::ScrollDC
- AFXWIN/CDC::SelectClipPath
- AFXWIN/CDC::SelectClipRgn
- AFXWIN/CDC::SelectObject
- AFXWIN/CDC::SelectPalette
- AFXWIN/CDC::SelectStockObject
- AFXWIN/CDC::SetAbortProc
- AFXWIN/CDC::SetArcDirection
- AFXWIN/CDC::SetAttribDC
- AFXWIN/CDC::SetBkColor
- AFXWIN/CDC::SetBkMode
- AFXWIN/CDC::SetBoundsRect
- AFXWIN/CDC::SetBrushOrg
- AFXWIN/CDC::SetColorAdjustment
- AFXWIN/CDC::SetDCBrushColor
- AFXWIN/CDC::SetDCPenColor
- AFXWIN/CDC::SetGraphicsMode
- AFXWIN/CDC::SetLayout
- AFXWIN/CDC::SetMapMode
- AFXWIN/CDC::SetMapperFlags
- AFXWIN/CDC::SetMiterLimit
- AFXWIN/CDC::SetOutputDC
- AFXWIN/CDC::SetPixel
- AFXWIN/CDC::SetPixelV
- AFXWIN/CDC::SetPolyFillMode
- AFXWIN/CDC::SetROP2
- AFXWIN/CDC::SetStretchBltMode
- AFXWIN/CDC::SetTextAlign
- AFXWIN/CDC::SetTextCharacterExtra
- AFXWIN/CDC::SetTextColor
- AFXWIN/CDC::SetTextJustification
- AFXWIN/CDC::SetViewportExt
- AFXWIN/CDC::SetViewportOrg
- AFXWIN/CDC::SetWindowExt
- AFXWIN/CDC::SetWindowOrg
- AFXWIN/CDC::SetWorldTransform
- AFXWIN/CDC::StartDoc
- AFXWIN/CDC::StartPage
- AFXWIN/CDC::StretchBlt
- AFXWIN/CDC::StrokeAndFillPath
- AFXWIN/CDC::StrokePath
- AFXWIN/CDC::TabbedTextOut
- AFXWIN/CDC::TextOut
- AFXWIN/CDC::TransparentBlt
- AFXWIN/CDC::UpdateColors
- AFXWIN/CDC::WidenPath
- AFXWIN/CDC::m_hAttribDC
- AFXWIN/CDC::m_hDC
helpviewer_keywords:
- CDC [MFC], CDC
- CDC [MFC], AbortDoc
- CDC [MFC], AbortPath
- CDC [MFC], AddMetaFileComment
- CDC [MFC], AlphaBlend
- CDC [MFC], AngleArc
- CDC [MFC], Arc
- CDC [MFC], ArcTo
- CDC [MFC], Attach
- CDC [MFC], BeginPath
- CDC [MFC], BitBlt
- CDC [MFC], Chord
- CDC [MFC], CloseFigure
- CDC [MFC], CreateCompatibleDC
- CDC [MFC], CreateDC
- CDC [MFC], CreateIC
- CDC [MFC], DeleteDC
- CDC [MFC], DeleteTempMap
- CDC [MFC], Detach
- CDC [MFC], DPtoHIMETRIC
- CDC [MFC], DPtoLP
- CDC [MFC], Draw3dRect
- CDC [MFC], DrawDragRect
- CDC [MFC], DrawEdge
- CDC [MFC], DrawEscape
- CDC [MFC], DrawFocusRect
- CDC [MFC], DrawFrameControl
- CDC [MFC], DrawIcon
- CDC [MFC], DrawState
- CDC [MFC], DrawText
- CDC [MFC], DrawTextEx
- CDC [MFC], Ellipse
- CDC [MFC], EndDoc
- CDC [MFC], EndPage
- CDC [MFC], EndPath
- CDC [MFC], EnumObjects
- CDC [MFC], Escape
- CDC [MFC], ExcludeClipRect
- CDC [MFC], ExcludeUpdateRgn
- CDC [MFC], ExtFloodFill
- CDC [MFC], ExtTextOut
- CDC [MFC], FillPath
- CDC [MFC], FillRect
- CDC [MFC], FillRgn
- CDC [MFC], FillSolidRect
- CDC [MFC], FlattenPath
- CDC [MFC], FloodFill
- CDC [MFC], FrameRect
- CDC [MFC], FrameRgn
- CDC [MFC], FromHandle
- CDC [MFC], GetArcDirection
- CDC [MFC], GetAspectRatioFilter
- CDC [MFC], GetBkColor
- CDC [MFC], GetBkMode
- CDC [MFC], GetBoundsRect
- CDC [MFC], GetBrushOrg
- CDC [MFC], GetCharABCWidths
- CDC [MFC], GetCharABCWidthsI
- CDC [MFC], GetCharacterPlacement
- CDC [MFC], GetCharWidth
- CDC [MFC], GetCharWidthI
- CDC [MFC], GetClipBox
- CDC [MFC], GetColorAdjustment
- CDC [MFC], GetCurrentBitmap
- CDC [MFC], GetCurrentBrush
- CDC [MFC], GetCurrentFont
- CDC [MFC], GetCurrentPalette
- CDC [MFC], GetCurrentPen
- CDC [MFC], GetCurrentPosition
- CDC [MFC], GetDCBrushColor
- CDC [MFC], GetDCPenColor
- CDC [MFC], GetDeviceCaps
- CDC [MFC], GetFontData
- CDC [MFC], GetFontLanguageInfo
- CDC [MFC], GetGlyphOutline
- CDC [MFC], GetGraphicsMode
- CDC [MFC], GetHalftoneBrush
- CDC [MFC], GetKerningPairs
- CDC [MFC], GetLayout
- CDC [MFC], GetMapMode
- CDC [MFC], GetMiterLimit
- CDC [MFC], GetNearestColor
- CDC [MFC], GetOutlineTextMetrics
- CDC [MFC], GetOutputCharWidth
- CDC [MFC], GetOutputTabbedTextExtent
- CDC [MFC], GetOutputTextExtent
- CDC [MFC], GetOutputTextMetrics
- CDC [MFC], GetPath
- CDC [MFC], GetPixel
- CDC [MFC], GetPolyFillMode
- CDC [MFC], GetROP2
- CDC [MFC], GetSafeHdc
- CDC [MFC], GetStretchBltMode
- CDC [MFC], GetTabbedTextExtent
- CDC [MFC], GetTextAlign
- CDC [MFC], GetTextCharacterExtra
- CDC [MFC], GetTextColor
- CDC [MFC], GetTextExtent
- CDC [MFC], GetTextExtentExPointI
- CDC [MFC], GetTextExtentPointI
- CDC [MFC], GetTextFace
- CDC [MFC], GetTextMetrics
- CDC [MFC], GetViewportExt
- CDC [MFC], GetViewportOrg
- CDC [MFC], GetWindow
- CDC [MFC], GetWindowExt
- CDC [MFC], GetWindowOrg
- CDC [MFC], GetWorldTransform
- CDC [MFC], GradientFill
- CDC [MFC], GrayString
- CDC [MFC], HIMETRICtoDP
- CDC [MFC], HIMETRICtoLP
- CDC [MFC], IntersectClipRect
- CDC [MFC], InvertRect
- CDC [MFC], InvertRgn
- CDC [MFC], IsPrinting
- CDC [MFC], LineTo
- CDC [MFC], LPtoDP
- CDC [MFC], LPtoHIMETRIC
- CDC [MFC], MaskBlt
- CDC [MFC], ModifyWorldTransform
- CDC [MFC], MoveTo
- CDC [MFC], OffsetClipRgn
- CDC [MFC], OffsetViewportOrg
- CDC [MFC], OffsetWindowOrg
- CDC [MFC], PaintRgn
- CDC [MFC], PatBlt
- CDC [MFC], Pie
- CDC [MFC], PlayMetaFile
- CDC [MFC], PlgBlt
- CDC [MFC], PolyBezier
- CDC [MFC], PolyBezierTo
- CDC [MFC], PolyDraw
- CDC [MFC], Polygon
- CDC [MFC], Polyline
- CDC [MFC], PolylineTo
- CDC [MFC], PolyPolygon
- CDC [MFC], PolyPolyline
- CDC [MFC], PtVisible
- CDC [MFC], RealizePalette
- CDC [MFC], Rectangle
- CDC [MFC], RectVisible
- CDC [MFC], ReleaseAttribDC
- CDC [MFC], ReleaseOutputDC
- CDC [MFC], ResetDC
- CDC [MFC], RestoreDC
- CDC [MFC], RoundRect
- CDC [MFC], SaveDC
- CDC [MFC], ScaleViewportExt
- CDC [MFC], ScaleWindowExt
- CDC [MFC], ScrollDC
- CDC [MFC], SelectClipPath
- CDC [MFC], SelectClipRgn
- CDC [MFC], SelectObject
- CDC [MFC], SelectPalette
- CDC [MFC], SelectStockObject
- CDC [MFC], SetAbortProc
- CDC [MFC], SetArcDirection
- CDC [MFC], SetAttribDC
- CDC [MFC], SetBkColor
- CDC [MFC], SetBkMode
- CDC [MFC], SetBoundsRect
- CDC [MFC], SetBrushOrg
- CDC [MFC], SetColorAdjustment
- CDC [MFC], SetDCBrushColor
- CDC [MFC], SetDCPenColor
- CDC [MFC], SetGraphicsMode
- CDC [MFC], SetLayout
- CDC [MFC], SetMapMode
- CDC [MFC], SetMapperFlags
- CDC [MFC], SetMiterLimit
- CDC [MFC], SetOutputDC
- CDC [MFC], SetPixel
- CDC [MFC], SetPixelV
- CDC [MFC], SetPolyFillMode
- CDC [MFC], SetROP2
- CDC [MFC], SetStretchBltMode
- CDC [MFC], SetTextAlign
- CDC [MFC], SetTextCharacterExtra
- CDC [MFC], SetTextColor
- CDC [MFC], SetTextJustification
- CDC [MFC], SetViewportExt
- CDC [MFC], SetViewportOrg
- CDC [MFC], SetWindowExt
- CDC [MFC], SetWindowOrg
- CDC [MFC], SetWorldTransform
- CDC [MFC], StartDoc
- CDC [MFC], StartPage
- CDC [MFC], StretchBlt
- CDC [MFC], StrokeAndFillPath
- CDC [MFC], StrokePath
- CDC [MFC], TabbedTextOut
- CDC [MFC], TextOut
- CDC [MFC], TransparentBlt
- CDC [MFC], UpdateColors
- CDC [MFC], WidenPath
- CDC [MFC], m_hAttribDC
- CDC [MFC], m_hDC
ms.assetid: 715b3334-cb2b-4c9c-8067-02eb7c66c8b2
ms.openlocfilehash: 432d560da0ae3459ba43faed9a50b9771b0de5d1
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87212557"
---
# <a name="cdc-class"></a>CDC, класс

Определяет класс объектов контекста устройства.

## <a name="syntax"></a>Синтаксис

```
class CDC : public CObject
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|[CDC:: CDC](#cdc)|Формирует объект `CDC`.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CDC:: Абортдок](#abortdoc)|Завершает текущее задание печати, удаляя все, что приложение записало на устройство с момента последнего вызова `StartDoc` функции члена.|
|[CDC:: Абортпас](#abortpath)|Закрывает и удаляет все пути в контексте устройства.|
|[CDC:: Аддметафилекоммент](#addmetafilecomment)|Копирует комментарий из буфера в заданный метафайл расширенного формата.|
|[CDC:: Алфабленд](#alphablend)|Отображает растровые изображения, имеющие прозрачные или полупрозрачные пиксели.|
|[CDC:: Англеарк](#anglearc)|Рисует сегмент линии и дугу и перемещает текущую позицию в конечную точку дуги.|
|[CDC:: дуга](#arc)|Рисование эллиптической дуги.|
|[CDC:: аркто](#arcto)|Рисование эллиптической дуги. Эта функция аналогична функции `Arc` , за исключением того, что текущая позицией обновляется.|
|[CDC:: Attach](#attach)|Присоединяет контекст устройства Windows к этому `CDC` объекту.|
|[CDC:: Бегинпас](#beginpath)|Открывает скобку пути в контексте устройства.|
|[CDC::BitBlt](#bitblt)|Копирует растровое изображение из указанного контекста устройства.|
|[CDC:: Аккорд](#chord)|Рисование аккорда (замкнутая фигура, ограниченная пересечением эллипса и сегмента линии).|
|[CDC:: Клосефигуре](#closefigure)|Закрывает открытую фигуру в контуре.|
|[CDC:: Креатекомпатибледк](#createcompatibledc)|Создает контекст устройства памяти, совместимый с другим контекстом устройства. Его можно использовать для подготовки образов в памяти.|
|[CDC:: Креатедк](#createdc)|Создает контекст устройства для конкретного устройства.|
|[CDC:: Create](#createic)|Создает информационный контекст для конкретного устройства. Это обеспечивает быстрый способ получения сведений об устройстве без создания контекста устройства.|
|[CDC::D Елетедк](#deletedc)|Удаляет контекст устройства Windows, связанный с этим `CDC` объектом.|
|[CDC::D Елететемпмап](#deletetempmap)|Вызывается `CWinApp` обработчиком времени простоя для удаления любого временного `CDC` объекта, созданного `FromHandle` . Также отсоединяет контекст устройства.|
|[CDC::D етач](#detach)|Отсоединяет контекст устройства Windows от этого `CDC` объекта.|
|[CDC::D Птохиметрик](#dptohimetric)|Преобразует единицы устройства в единицы HIMETRIC.|
|[CDC::D Птолп](#dptolp)|Преобразует единицы устройства в логические устройства.|
|[CDC::D raw3dRect](#draw3drect)|Рисует трехмерный прямоугольник.|
|[CDC::D Равдрагрект](#drawdragrect)|Стирает и перерисовывает прямоугольник при его перетаскивании.|
|[CDC::D Раведже](#drawedge)|Рисует края прямоугольника.|
|[CDC::D Равескапе](#drawescape)|Обращается к возможностям отображения видео, которые недоступны напрямую через интерфейс графических устройств (GDI).|
|[CDC::D Равфокусрект](#drawfocusrect)|Рисует прямоугольник в стиле, используемом для обозначения фокуса.|
|[CDC::D Равфрамеконтрол](#drawframecontrol)|Нарисуйте элемент управления Frame.|
|[CDC::D Равикон](#drawicon)|Рисует значок.|
|[CDC::D Равстате](#drawstate)|Отображает изображение и применяет визуальный эффекты для обозначения состояния.|
|[CDC::DrawText](#drawtext)|Рисует форматированный текст в указанном прямоугольнике.|
|[CDC::D Равтекстекс](#drawtextex)|Рисует форматированный текст в указанном прямоугольнике, используя дополнительные форматы.|
|[CDC:: эллипс](#ellipse)|Рисование эллипса.|
|[CDC:: Енддок](#enddoc)|Завершает задание печати, запущенное `StartDoc` функцией-членом.|
|[CDC:: EndPage](#endpage)|Информирует драйвер устройства о том, что страница заканчивается.|
|[CDC:: Ендпас](#endpath)|Закрывает скобку пути и выбирает путь, определенный скобкой, в контекст устройства.|
|[CDC:: Енумобжектс](#enumobjects)|Перечисляет перья и кисти, доступные в контексте устройства.|
|[CDC:: Escape](#escape)|Позволяет приложениям получать доступ к средствам, которые недоступны напрямую с определенного устройства через GDI. Также разрешает доступ к функциям escape-функций Windows. Escape-вызовы, выполняемые приложением, преобразуются и отправляются в драйвер устройства.|
|[CDC:: Ексклудеклипрект](#excludecliprect)|Создает новую область отсечения, состоящую из существующей области отсечения, за вычетом указанного прямоугольника.|
|[CDC:: Ексклудеупдатергн](#excludeupdatergn)|Запрещает прорисовку в недопустимых областях окна, исключая обновленную область в окне из вырезанной области.|
|[CDC:: Екстфлудфилл](#extfloodfill)|Заполняет область текущей кистью. Обеспечивает большую гибкость, чем функция члена [CDC:: флудфилл](#floodfill) .|
|[CDC:: ExtTextOut](#exttextout)|Записывает строку символов в прямоугольной области, используя выбранный в данный момент шрифт.|
|[CDC:: Филлпас](#fillpath)|Закрывает все открытые фигуры в текущем контуре и заполняет внутреннюю часть пути, используя текущую кисть и режим заливки многоугольников.|
|[CDC:: Филлрект](#fillrect)|Заполняет заданный прямоугольник с помощью определенной кисти.|
|[CDC:: Филлргн](#fillrgn)|Заполняет определенный регион указанной кистью.|
|[CDC:: Филлсолидрект](#fillsolidrect)|Заполняет прямоугольник сплошным цветом.|
|[CDC:: Флаттенпас](#flattenpath)|Преобразует все кривые в пути, выбранном в текущий контекст устройства, и превращает каждую кривую в последовательность строк.|
|[CDC:: Флудфилл](#floodfill)|Заполняет область текущей кистью.|
|[CDC:: Фрамерект](#framerect)|Рисование границы вокруг прямоугольника.|
|[CDC:: Фрамергн](#framergn)|Рисует границу вокруг определенного региона с помощью кисти.|
|[CDC:: FromHandle](#fromhandle)|Возвращает указатель на `CDC` объект при наличии маркера для контекста устройства. Если объект `CDC` не прикреплен к дескриптору, создается и прикрепляется временный объект `CDC`.|
|[CDC:: Жетаркдиректион](#getarcdirection)|Возвращает текущее направление дуги для контекста устройства.|
|[CDC:: Жетаспектратиофилтер](#getaspectratiofilter)|Извлекает параметр для текущего фильтра пропорций.|
|[CDC:: Жетбкколор](#getbkcolor)|Извлекает текущий цвет фона.|
|[CDC:: Жетбкмоде](#getbkmode)|Возвращает фоновый режим.|
|[CDC:: Жетбаундсрект](#getboundsrect)|Возвращает текущий накопленный ограничивающий прямоугольник для указанного контекста устройства.|
|[CDC:: Жетбрушорг](#getbrushorg)|Извлекает источник текущей кисти.|
|[CDC:: Жетчарабквидсс](#getcharabcwidths)|Получает значения ширины (в логических единицах) последовательных символов в заданном диапазоне от текущего шрифта.|
|[CDC:: Жетчарабквидсси](#getcharabcwidthsi)|Извлекает ширину в логических единицах последовательных индексов глифов в указанном диапазоне из текущего шрифта TrueType.|
|[CDC:: Жетчарактерплацемент](#getcharacterplacement)|Извлекает различные типы данных в символьной строке.|
|[CDC:: Жетчарвидс](#getcharwidth)|Получает дробную ширину последовательных символов в заданном диапазоне от текущего шрифта.|
|[CDC:: Жетчарвидси](#getcharwidthi)|Получает значения ширины (в логических координатах) последовательных индексов глифов в указанном диапазоне из текущего шрифта.|
|[CDC:: Жетклипбокс](#getclipbox)|Получает размеры ограничивающего прямоугольника вокруг текущей границы обрезки.|
|[CDC:: Жетколораджустмент](#getcoloradjustment)|Получает значения коррекции цвета для контекста устройства.|
|[CDC:: Жеткуррентбитмап](#getcurrentbitmap)|Возвращает указатель на текущий выбранный `CBitmap` объект.|
|[CDC:: Жеткуррентбруш](#getcurrentbrush)|Возвращает указатель на текущий выбранный `CBrush` объект.|
|[CDC:: Жеткуррентфонт](#getcurrentfont)|Возвращает указатель на текущий выбранный `CFont` объект.|
|[CDC:: Жеткуррентпалетте](#getcurrentpalette)|Возвращает указатель на текущий выбранный `CPalette` объект.|
|[CDC:: Жеткуррентпен](#getcurrentpen)|Возвращает указатель на текущий выбранный `CPen` объект.|
|[CDC:: Жеткуррентпоситион](#getcurrentposition)|Извлекает текущую точку пера (в логических координатах).|
|[CDC:: Жетдкбрушколор](#getdcbrushcolor)|Получает текущий цвет кисти.|
|[CDC:: Жетдкпенколор](#getdcpencolor)|Получает текущий цвет пера.|
|[CDC:: Жетдевицекапс](#getdevicecaps)|Извлекает указанные сведения о конкретных возможностях устройства для конкретного устройства.|
|[CDC:: Жетфонтдата](#getfontdata)|Получает сведения о метриках шрифта из масштабируемого файла шрифта. Сведения для извлечения определяются путем указания смещения в файле шрифта и длины возвращаемых данных.|
|[CDC:: Жетфонтлангуажеинфо](#getfontlanguageinfo)|Возвращает сведения о выбранном в данный момент шрифте для указанного контекста вывода.|
|[CDC:: Жетглифаутлине](#getglyphoutline)|Получает кривую или точечную карту для символа структуры в текущем шрифте.|
|[CDC:: Жетграфиксмоде](#getgraphicsmode)|Извлекает текущий графический режим для указанного контекста устройства.|
|[CDC:: Жесалфтонебруш](#gethalftonebrush)|Извлекает полутоновую кисть.|
|[CDC:: Жеткернингпаирс](#getkerningpairs)|Извлекает пары знаков кернинга для шрифта, выбранного в данный момент в указанном контексте устройства.|
|[CDC:: AutoLayout](#getlayout)|Извлекает макет контекста устройства (DC). Макет может принимать значение слева направо (по умолчанию) или справа налево (зеркальное отображение).|
|[CDC:: Жетмапмоде](#getmapmode)|Возвращает текущий режим сопоставления.|
|[CDC:: Жетмитерлимит](#getmiterlimit)|Возвращает предел среза для контекста устройства.|
|[CDC:: Жетнеарестколор](#getnearestcolor)|Получает ближайший логический цвет к указанному логическому цвету, который может представлять данное устройство.|
|[CDC:: Жетаутлинетекстметрикс](#getoutlinetextmetrics)|Получает сведения о метрике шрифта для шрифтов TrueType.|
|[CDC:: Жетаутпутчарвидс](#getoutputcharwidth)|Получает ширину отдельных символов в последовательных группах символов из текущего шрифта с помощью контекста выходного устройства.|
|[CDC:: Жетаутпуттаббедтекстекстент](#getoutputtabbedtextextent)|Вычисление ширины и высоты символьной строки в контексте устройства вывода.|
|[CDC:: Жетаутпуттекстекстент](#getoutputtextextent)|Вычисление ширины и высоты строки текста в контексте устройства вывода с использованием текущего шрифта для определения измерений.|
|[CDC:: Жетаутпуттекстметрикс](#getoutputtextmetrics)|Извлекает метрики для текущего шрифта из контекста выходного устройства.|
|[CDC:: путь](#getpath)|Получает координаты, определяющие конечные точки линий и контрольные точки кривых, обнаруженные в пути, выбранном в контексте устройства.|
|[CDC:: с точкой](#getpixel)|Извлекает значение цвета RGB пикселя в указанной точке.|
|[CDC:: Жетполифиллмоде](#getpolyfillmode)|Извлекает текущий режим заполнения многоугольников.|
|[CDC:: GetROP2](#getrop2)|Извлекает текущий режим рисования.|
|[CDC:: Жетсафехдк](#getsafehdc)|Возвращает [CDC:: m_hDC](#m_hdc), выходной контекст устройства.|
|[CDC:: Жетстретчблтмоде](#getstretchbltmode)|Извлекает текущий режим растяжения растрового изображения.|
|[CDC:: Жеттаббедтекстекстент](#gettabbedtextextent)|Вычисление ширины и высоты символьной строки в контексте устройства атрибута.|
|[CDC:: Жеттексталигн](#gettextalign)|Получает флаги выравнивания текста.|
|[CDC:: Жеттекстчарактерекстра](#gettextcharacterextra)|Извлекает текущее значение для интервала между символами.|
|[CDC:: Жеттекстколор](#gettextcolor)|Извлекает текущий цвет текста.|
|[CDC:: Жеттекстекстент](#gettextextent)|Вычисление ширины и высоты строки текста в контексте устройства атрибута с использованием текущего шрифта для определения измерений.|
|[CDC:: Жеттекстекстентекспоинти](#gettextextentexpointi)|Извлекает количество символов в указанной строке, которые помещаются в указанном пространстве, и заполняет массив строкой текста для каждого из этих символов.|
|[CDC:: Жеттекстекстентпоинти](#gettextextentpointi)|Получает ширину и высоту указанного массива индексов глифа.|
|[CDC:: Жеттекстфаце](#gettextface)|Копирует имя гарнитуры текущего шрифта в буфер как строку, завершающуюся нулем.|
|[CDC:: Жеттекстметрикс](#gettextmetrics)|Извлекает метрики для текущего шрифта из контекста устройства атрибута.|
|[CDC:: Жетвиевпортекст](#getviewportext)|Извлекает экстенты x и y окна просмотра.|
|[CDC:: Жетвиевпорторг](#getviewportorg)|Получает координаты x и y источника окна просмотра.|
|[CDC::/Window](#getwindow)|Возвращает окно, связанное с контекстом дисплея устройства.|
|[CDC:: Жетвиндовекст](#getwindowext)|Извлекает экстенты по оси x и y связанного окна.|
|[CDC:: Жетвиндоворг](#getwindoworg)|Получает координаты x и y источника связанного окна.|
|[CDC:: Жетворлдтрансформ](#getworldtransform)|Извлекает текущее мировое пространство для преобразования страничного пространства.|
|[CDC:: Градиентфилл](#gradientfill)|Выполняет заливку прямоугольников и структур треугольников цветом градатинг.|
|[CDC:: Грайстринг](#graystring)|Рисует затененный (серый) текст в заданном месте.|
|[CDC:: Химетриктодп](#himetrictodp)|Преобразует единицы HIMETRIC в единицы устройства.|
|[CDC:: Химетриктолп](#himetrictolp)|Преобразует единицы HIMETRIC в логические устройства.|
|[CDC:: Интерсектклипрект](#intersectcliprect)|Создает новую область обрезки, формируя пересечение текущей области и прямоугольника.|
|[CDC:: Инвертрект](#invertrect)|Инвертирует содержимое прямоугольника.|
|[CDC:: Инвертргн](#invertrgn)|Инвертирует цвета в регионе.|
|[CDC:: Print](#isprinting)|Определяет, используется ли контекст устройства для печати.|
|[CDC:: LineTo](#lineto)|Рисует линию из текущей позиции вплоть до точки.|
|[CDC:: Лптодп](#lptodp)|Преобразует логические устройства в единицы устройства.|
|[CDC:: Лптохиметрик](#lptohimetric)|Преобразует логические устройства в HIMETRIC единицы.|
|[CDC:: Маскблт](#maskblt)|Объединяет цветовые данные исходного и целевого точечных рисунков с помощью заданной операции маскирования и растрового изображения.|
|[CDC:: Модифиворлдтрансформ](#modifyworldtransform)|Изменяет универсальное преобразование для контекста устройства в указанном режиме.|
|[CDC:: MoveTo](#moveto)|Перемещает текущую точку.|
|[CDC:: Оффсетклипргн](#offsetcliprgn)|Перемещает область обрезки данного устройства.|
|[CDC:: Оффсетвиевпорторг](#offsetviewportorg)|Изменяет источник окна просмотра относительно координат текущего источника окна просмотра.|
|[CDC:: Оффсетвиндоворг](#offsetwindoworg)|Изменяет начальное положение окна относительно координат текущего исходного окна.|
|[CDC::P Аинтргн](#paintrgn)|Заполняет область выбранной кистью.|
|[CDC::P Атблт](#patblt)|Создает битовый шаблон.|
|[CDC::P IE](#pie)|Рисует сектор с круговой фигурой.|
|[CDC::P Лайметафиле](#playmetafile)|Воспроизводит содержимое указанного метафайла на заданном устройстве. В улучшенной версии `PlayMetaFile` отображается изображение, сохраненное в заданном метафайле расширенного формата. Метафайл может воспроизводиться любое количество раз.|
|[CDC::P Лгблт](#plgblt)|Выполняет побитовую блокировку битов данных цвета из указанного прямоугольника в контексте исходного устройства на заданный параллелограмм в данном контексте устройства.|
|[CDC::P Олибезиер](#polybezier)|Рисует одну или несколько Бзиер линий. Текущая позицией не используется и не обновляется.|
|[CDC::P Олибезиерто](#polybezierto)|Рисует одну или несколько Бзиер сплайнов и перемещает текущую позицию в конечную точку последнего Бзиерного сплайна.|
|[CDC::P Олидрав](#polydraw)|Рисует набор сегментов линий и Бзиерных линий. Эта функция обновляет текущую точку.|
|[CDC::P олигон](#polygon)|Рисует многоугольник, состоящий из двух или более точек (вершин), Соединенных линиями.|
|[CDC::P олилине](#polyline)|Рисует набор сегментов линии, соединяющих указанные точки.|
|[CDC::P Олилинето](#polylineto)|Рисует одну или несколько прямых линий и перемещает текущую позицию в конечную точку последней строки.|
|[CDC::P Олиполигон](#polypolygon)|Создает два или более многоугольников, заполненных с помощью текущего режима заполнения многоугольников. Многоугольники могут быть несвязанными, или они могут перекрываться.|
|[CDC::P Олиполилине](#polypolyline)|Рисует несколько рядов Соединенных линейных сегментов. Текущая позицией не используется и не обновляется этой функцией.|
|[CDC::P Твисибле](#ptvisible)|Указывает, находится ли заданная точка в области отсечения.|
|[CDC:: Реализепалетте](#realizepalette)|Сопоставляет записи палитры в текущей логической палитре с системной палитрой.|
|[CDC:: Rectangle](#rectangle)|Рисует прямоугольник, используя текущее перо, и заполняет его с помощью текущей кисти.|
|[CDC:: Ректвисибле](#rectvisible)|Определяет, находится ли какая либо часть данного прямоугольника в вырезанной области.|
|[CDC:: Релеасеаттрибдк](#releaseattribdc)|Выпуски `m_hAttribDC` — контекст устройства атрибута.|
|[CDC:: Релеасеаутпутдк](#releaseoutputdc)|Выпуски `m_hDC` , контекст выходного устройства.|
|[CDC:: Ресетдк](#resetdc)|Обновляет `m_hAttribDC` контекст устройства.|
|[CDC:: Ресторедк](#restoredc)|Восстанавливает контекст устройства до предыдущего состояния, сохраненного с помощью `SaveDC` .|
|[CDC:: Раундрект](#roundrect)|Рисование прямоугольника с закругленными углами с помощью текущего пера и заполнение с помощью текущей кисти.|
|[CDC:: Саведк](#savedc)|Сохраняет текущее состояние контекста устройства.|
|[CDC:: Скалевиевпортекст](#scaleviewportext)|Изменяет экстент окна просмотра относительно текущих значений.|
|[CDC:: Скалевиндовекст](#scalewindowext)|Изменяет экстенты окна относительно текущих значений.|
|[CDC:: Скроллдк](#scrolldc)|Прокручивает прямоугольник битов по горизонтали и вертикали.|
|[CDC:: Селектклиппас](#selectclippath)|Выбирает текущий путь в качестве вырезанной области для контекста устройства, объединяя новый регион с любой существующей областью отсечения, используя указанный режим.|
|[CDC:: Селектклипргн](#selectcliprgn)|Объединяет заданную область с текущей вырезанной областью с использованием указанного режима.|
|[CDC::SelectObject](#selectobject)|Выбирает графический объект GDI, например перо.|
|[CDC:: Селектпалетте](#selectpalette)|Выбирает логическую палитру.|
|[CDC::SelectStockObject](#selectstockobject)|Выбирает одно из стандартных геоакций, кистей или шрифтов, предоставляемых Windows.|
|[CDC:: SetAbortProc](#setabortproc)|Задает предоставляемую программистом функцию обратного вызова, которая вызывается Windows, если задание печати должно быть прервано.|
|[CDC:: Сетаркдиректион](#setarcdirection)|Задает направление рисования, которое будет использоваться для функций дуги и Rectangle.|
|[CDC:: Сетаттрибдк](#setattribdc)|Задает `m_hAttribDC` контекст устройства атрибута.|
|[CDC:: Сетбкколор](#setbkcolor)|Задает текущий цвет фона.|
|[CDC:: Сетбкмоде](#setbkmode)|Задает фоновый режим.|
|[CDC:: Сетбаундсрект](#setboundsrect)|Управляет накоплением данных ограничивающего прямоугольника для указанного контекста устройства.|
|[CDC:: Сетбрушорг](#setbrushorg)|Указывает источник для следующей кисти, выбранной в контексте устройства.|
|[CDC:: Сетколораджустмент](#setcoloradjustment)|Задает значения коррекции цвета для контекста устройства, используя указанные значения.|
|[CDC:: Сетдкбрушколор](#setdcbrushcolor)|Задает текущий цвет кисти.|
|[CDC:: Сетдкпенколор](#setdcpencolor)|Задает текущий цвет пера.|
|[CDC:: Сетграфиксмоде](#setgraphicsmode)|Задает текущий графический режим для указанного контекста устройства.|
|[CDC:: Сетлайаут](#setlayout)|Изменяет макет контекста устройства (DC).|
|[CDC:: Сетмапмоде](#setmapmode)|Задает текущий режим сопоставления.|
|[CDC:: Сетмапперфлагс](#setmapperflags)|Изменяет алгоритм, используемый средством сопоставления шрифтов при сопоставлении логических шрифтов с физическими шрифтами.|
|[CDC:: Сетмитерлимит](#setmiterlimit)|Задает ограничение длины угловых соединений для контекста устройства.|
|[CDC:: Сетаутпутдк](#setoutputdc)|Задает `m_hDC` контекст выходного устройства.|
|[CDC:: SetPixel](#setpixel)|Устанавливает пиксел в указанной точке в ближайшее приближение указанного цвета.|
|[CDC:: Сетпикселв](#setpixelv)|Задает пиксель с заданными координатами до ближайшей аппроксимации указанного цвета. `SetPixelV`работает быстрее, чем `SetPixel` потому, что не требуется возвращать значение цвета, нарисованное точкой.|
|[CDC:: Сетполифиллмоде](#setpolyfillmode)|Задает режим заполнения многоугольников.|
|[CDC:: SetROP2](#setrop2)|Задает текущий режим рисования.|
|[CDC:: Сетстретчблтмоде](#setstretchbltmode)|Задает режим растяжения растрового изображения.|
|[CDC:: Сеттексталигн](#settextalign)|Задает флаги выравнивания текста.|
|[CDC:: Сеттекстчарактерекстра](#settextcharacterextra)|Задает расстояние между символами.|
|[CDC:: Сеттекстколор](#settextcolor)|Задает цвет текста.|
|[CDC:: Сеттекстжустификатион](#settextjustification)|Добавляет пробел к символам разрыва в строке.|
|[CDC:: Сетвиевпортекст](#setviewportext)|Задает экстенты x и y окна просмотра.|
|[CDC:: Сетвиевпорторг](#setviewportorg)|Задает источник окна просмотра.|
|[CDC:: Сетвиндовекст](#setwindowext)|Задает экстенты x и y связанного окна.|
|[CDC:: Сетвиндоворг](#setwindoworg)|Задает происхождение окна контекста устройства.|
|[CDC:: Сетворлдтрансформ](#setworldtransform)|Устанавливает текущее мировое пространство для преобразования страничного пространства.|
|[CDC:: Стартдок](#startdoc)|Информирует драйвер устройства о запуске нового задания печати.|
|[CDC:: StartPage](#startpage)|Информирует драйвер устройства о запуске новой страницы.|
|[CDC:: Стретчблт](#stretchblt)|Перемещает растровое изображение из исходного прямоугольника и устройства в прямоугольник назначения, растягивание или сжатие растрового изображения, если это необходимо, чтобы вместить размеры прямоугольника назначения.|
|[CDC:: Строкеандфиллпас](#strokeandfillpath)|Закрывает все открытые фигуры в контуре, разменяя контур контура, используя текущее перо, и заполняет внутреннюю часть с помощью текущей кисти.|
|[CDC:: Строкепас](#strokepath)|Отображает указанный путь с помощью текущего пера.|
|[CDC:: Таббедтекстаут](#tabbedtextout)|Записывает строку символов в указанном месте, расширяя знаки табуляции на значения, указанные в массиве позиций табуляции.|
|[CDC:: текстовое поле](#textout)|Записывает строку символов в указанном месте, используя текущий выбранный шрифт.|
|[CDC:: Транспарентблт](#transparentblt)|Передает битовый блок данных о цвете из указанного исходного контекста устройства в контекст целевого устройства, выводит заданный цвет прозрачным цветом при передаче.|
|[CDC:: Упдатеколорс](#updatecolors)|Обновляет клиентскую область контекста устройства, сопоставляя текущие цвета в клиентской области с системной палитрой в зависимости от пикселя.|
|[CDC:: Виденпас](#widenpath)|Переопределяет текущий путь в качестве области, которая будет окрашена, если контур был штрих с использованием пера, выбранного в данный момент в контексте устройства.|

### <a name="public-operators"></a>Открытые операторы

|Имя|Описание|
|----------|-----------------|
|[CDC::operator HDC](#operator_hdc)|Получает маркер контекста устройства.|

### <a name="public-data-members"></a>Открытые члены данных

|Имя|Описание|
|----------|-----------------|
|[CDC:: m_hAttribDC](#m_hattribdc)|Контекст атрибута-устройства, используемый этим `CDC` объектом.|
|[CDC:: m_hDC](#m_hdc)|Контекст вывода устройства, используемый этим `CDC` объектом.|

## <a name="remarks"></a>Примечания

`CDC`Объект предоставляет функции-члены для работы с контекстом устройства, например дисплеем или принтером, а также членами для работы с контекстом экрана, связанным с клиентской областью окна.

Все рисование с помощью функций-членов `CDC` объекта. Класс предоставляет функции-члены для операций контекста устройства, работы с инструментами рисования, выбора объектов GDI и работы с цветами и палитрами. Он также предоставляет функции элементов для получения и установки атрибутов рисования, сопоставления, работы с окном просмотра, работы с областью окна, преобразования координат, работы с регионами, обрезки, рисования линий и рисования простых фигур, эллипсов и многоугольников. Функции-члены также предоставляются для рисования текста, работы со шрифтами, использования escape-символов принтера, прокрутки и воспроизведения метафайлов.

Чтобы использовать `CDC` объект, создайте его, а затем вызовите его функции-члены, которые используют параллельные функции Windows, использующие контексты устройств.

> [!NOTE]
> В Windows 95/98 все экранные координаты ограничены 16 битами. Таким образом, **`int`** переданный `CDC` функции-члену значение должно находиться в диапазоне от-32768 до 32767.

Для конкретных применений библиотека Microsoft Foundation Class предоставляет несколько классов, производных от `CDC` . `CPaintDC`инкапсулирует вызовы функций `BeginPaint` и `EndPaint` . `CClientDC`управляет контекстом вывода, связанным с клиентской областью окна. `CWindowDC`управляет контекстом вывода, связанным со всем окном, включая его фрейм и элементы управления. `CMetaFileDC`связывает контекст устройства с метафайлом.

`CDC`предоставляет две функции-члены- [компоновки](#getlayout) и [сетлайаут](#setlayout)для обратного размещения контекста устройства, который не наследует его макет из окна. Ориентация справа налево необходима для приложений, написанных для языков и региональных параметров, таких как арабский или иврит, в которых макет символов не является европейским стандартом.

`CDC`содержит два контекста устройств: [m_hDC](#m_hdc) и [m_hAttribDC](#m_hattribdc), которые при создании объекта ссылаются на одно и то `CDC` же устройство. `CDC`направляет все выходные вызовы GDI в `m_hDC` и большинство вызовов GDI атрибута в `m_hAttribDC` . (Пример вызова атрибута — `GetTextColor` , тогда как `SetTextColor` является выходным вызовом.)

Например, платформа использует эти два контекста устройств для реализации `CMetaFileDC` объекта, который будет передавать выходные данные в метафайл при чтении атрибутов физического устройства. Предварительный просмотр реализуется в платформе аналогичным образом. Вы также можете использовать два контекста устройств аналогичным образом в коде, зависящем от приложения.

Иногда может потребоваться информация о метриках из контекстов `m_hDC` `m_hAttribDC` устройств и. Эта возможность обеспечивается следующими парами функций:

|Использует m_hAttribDC|Использует m_hDC|
|-----------------------|-----------------|
|[жеттекстекстент](#gettextextent)|[жетаутпуттекстекстент](#getoutputtextextent)|
|[жеттаббедтекстекстент](#gettabbedtextextent)|[жетаутпуттаббедтекстекстент](#getoutputtabbedtextextent)|
|[жеттекстметрикс](#gettextmetrics)|[жетаутпуттекстметрикс](#getoutputtextmetrics)|
|[жетчарвидс](#getcharwidth)|[жетаутпутчарвидс](#getoutputcharwidth)|

Дополнительные сведения о см `CDC` . в разделе [контексты устройств](../../mfc/device-contexts.md).

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

`CDC`

## <a name="requirements"></a>Требования

**Заголовок:** afxwin.h

## <a name="cdcabortdoc"></a><a name="abortdoc"></a>CDC:: Абортдок

Завершает текущее задание печати и стирает все приложение, записанное на устройство, с момента последнего вызова функции члена [стартдок](#startdoc) .

```
int AbortDoc();
```

### <a name="return-value"></a>Возвращаемое значение

Значение, большее или равное 0 в случае успеха, или отрицательное значение, если произошла ошибка. В следующем списке приведены распространенные значения ошибок и их значения.

- SP_ERROR общая ошибка.

- SP_OUTOFDISK на данный момент недостаточно места на диске для очереди печати, и больше места не будет доступно.

- SP_OUTOFMEMORY недостаточно памяти для буферизации.

- SP_USERABORT пользователь прервал задание с помощью диспетчера печати.

### <a name="remarks"></a>Примечания

Эта функция-член заменяет escape-последовательность принтера АБОРТДОК.

`AbortDoc`должен использоваться для завершения следующего:

- Операции печати, не указывающие функцию Abort с помощью [SetAbortProc](#setabortproc).

- Операции печати, которые еще не достигли первого НЕВФРАМЕ или НЕКСТБАНДного вызова Escape.

Если приложение обнаруживает ошибку печати или отмененную операцию печати, не следует пытаться завершить операцию с помощью функций [енддок](#enddoc) или `AbortDoc` member класса `CDC` . GDI автоматически прерывает операцию, прежде чем возвращать значение ошибки.

Если приложение отображает диалоговое окно, позволяющее пользователю отменить операцию печати, оно должно вызвать `AbortDoc` перед уничтожением диалогового окна.

Если диспетчер печати использовался для запуска задания печати, при вызове `AbortDoc` удаляется все задание из очереди, а принтер не получает никаких результатов. Если диспетчер печати не использовался для запуска задания печати, данные могли быть отправлены на принтер до `AbortDoc` вызова метода. В этом случае драйвер принтера будет сбрасывать принтер (по возможности) и закрыл задание печати.

### <a name="example"></a>Пример

  См. пример для [CDC:: стартдок](#startdoc).

## <a name="cdcabortpath"></a><a name="abortpath"></a>CDC:: Абортпас

Закрывает и удаляет все пути в контексте устройства.

```
BOOL AbortPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если в контексте устройства есть открывающая скобка пути, скобка пути закрывается, а путь отбрасывается. Если в контексте устройства есть закрытый путь, то путь отбрасывается.

## <a name="cdcaddmetafilecomment"></a><a name="addmetafilecomment"></a>CDC:: Аддметафилекоммент

Копирует комментарий из буфера в заданный метафайл расширенного формата.

```
BOOL AddMetaFileComment(
    UINT nDataSize,
    const BYTE* pCommentData);
```

### <a name="parameters"></a>Параметры

*ндатасизе*<br/>
Задает длину буфера комментариев в байтах.

*пкомментдата*<br/>
Указывает на буфер, содержащий комментарий.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Комментарий может содержать любые частные сведения, например источник изображения и дату создания. Комментарий должен начинаться с сигнатуры приложения, за которым следуют данные. Комментарии не должны содержать данные, относящиеся к положению. Данные, относящиеся к положению, определяют расположение записи и не должны включаться, поскольку один метафайл может быть внедрен в другой метафайл. Эта функция может использоваться только с расширенными метафайлами.

## <a name="cdcalphablend"></a><a name="alphablend"></a>CDC:: Алфабленд

Вызовите эту функцию члена, чтобы отобразить точечные рисунки, имеющие прозрачные или полупрозрачные пиксели.

```
BOOL AlphaBlend(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    BLENDFUNCTION blend);
```

### <a name="parameters"></a>Параметры

*ксдест*<br/>
Задает координату по оси x (в логических единицах) верхнего левого угла прямоугольника назначения.

*идест*<br/>
Задает координату по оси y (в логических единицах) верхнего левого угла прямоугольника назначения.

*ндествидс*<br/>
Задает ширину (в логических единицах) прямоугольника назначения.

*ндессеигхт*<br/>
Задает высоту (в логических единицах) прямоугольника назначения.

*псркдк*<br/>
Указатель на контекст исходного устройства.

*кссрк*<br/>
Задает координату по оси x (в логических единицах) верхнего левого угла исходного прямоугольника.

*исрк*<br/>
Задает координату по оси y (в логических единицах) верхнего левого угла исходного прямоугольника.

*нсрквидс*<br/>
Задает ширину (в логических единицах) исходного прямоугольника.

*нсрчеигхт*<br/>
Задает высоту (в логических единицах) исходного прямоугольника.

*Blend*<br/>
Задает структуру [блендфунктион](/windows/win32/api/wingdi/ns-wingdi-blendfunction) .

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Дополнительные сведения см. в разделе [алфабленд](/windows/win32/api/wingdi/nf-wingdi-alphablend) в Windows SDK.

## <a name="cdcanglearc"></a><a name="anglearc"></a>CDC:: Англеарк

Рисует сегмент линии и дугу.

```
BOOL AngleArc(
    int x,
    int y,
    int nRadius,
    float fStartAngle,
    float fSweepAngle);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x центра окружности.

*&*<br/>
Задает логическую координату по оси y центра окружности.

*нрадиус*<br/>
Задает радиус круга в логических единицах. Это значение должно быть положительным.

*фстартангле*<br/>
Задает начальный угол в градусах относительно оси x.

*фсвипангле*<br/>
Задает угол поворота в градусах относительно начального угла.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Сегмент линии рисуется от текущей позицией до начала дуги. Дуга рисуется вдоль периметра круга с заданным радиусом и центром. Длина дуги определяется с помощью заданных углов начала и поворота.

`AngleArc`перемещает текущую позицию в конечную точку дуги. Дуга, нарисованная этой функцией, может выглядеть как эллиптическая, в зависимости от текущего режима преобразования и сопоставления. Перед рисованием дуги эта функция рисует отрезок линии от текущей позицией до начала дуги. Дуга рисуется путем создания мнимой окружности с заданным радиусом вокруг указанной центральной точки. Начальная точка дуги определяется измерением против часовой стрелки от оси x круга до числа градусов в начальном углу. Конечная точка аналогична расположению, измеряя значение угла поворота против часовой стрелки от начальной точки к числу градусов.

Если угол поворота больше 360 градусов, дуга очистка несколько раз. Эта функция рисует линии с помощью текущего пера. Фигура не заполнена.

## <a name="cdcarc"></a><a name="arc"></a>CDC:: дуга

Рисование эллиптической дуги.

```
BOOL Arc(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Arc(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*Y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*штук*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*Y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*x3*<br/>
Задает координату по оси x точки, определяющей начальную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*Y3*<br/>
Указывает координату y точки, определяющей начальную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*X4*<br/>
Задает координату по оси x точки, определяющей конечную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*Y4*<br/>
Указывает координату y точки, определяющей конечную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*лпрект*<br/>
Задает ограничивающий прямоугольник (в логических устройствах). Для этого параметра можно передать объект ЛПРЕКТ или [крект](../../atl-mfc-shared/reference/crect-class.md) .

*птстарт*<br/>
Задает координаты x и y точки, определяющей начальную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги. Для этого параметра можно передать либо структуру [Point](/windows/win32/api/windef/ns-windef-point) , либо объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*птенд*<br/>
Задает координаты x и y точки, определяющей конечную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Дуга, изображенная с помощью функции, является сегментом эллипса, определенного заданным ограничивающим прямоугольником.

Фактическая начальная точка дуги — это точка, в которой луч, нарисованный из центра ограничивающего прямоугольника через указанную начальную точку, пересекает эллипс. Фактическая конечная точка дуги — это точка, в которой луч, нарисованный из центра ограничивающего прямоугольника через указанную конечную точку, пересекает эллипс. Дуга рисуется в направлении против часовой стрелки. Так как дуга не является замкнутой, она не заполняется. Ширина и высота прямоугольника должны быть больше 2 единиц и меньше 32 767 единиц.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#29](../../mfc/codesnippet/cpp/cdc-class_1.cpp)]

## <a name="cdcarcto"></a><a name="arcto"></a>CDC:: аркто

Рисование эллиптической дуги.

```
BOOL ArcTo(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL ArcTo(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*Y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*штук*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*Y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*x3*<br/>
Задает координату по оси x точки, определяющей начальную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*Y3*<br/>
Указывает координату y точки, определяющей начальную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*X4*<br/>
Задает координату по оси x точки, определяющей конечную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*Y4*<br/>
Указывает координату y точки, определяющей конечную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*лпрект*<br/>
Задает ограничивающий прямоугольник (в логических устройствах). Для этого параметра можно передать либо указатель на структуру данных [Rect](/windows/win32/api/windef/ns-windef-rect) , либо объект [крект](../../atl-mfc-shared/reference/crect-class.md) .

*птстарт*<br/>
Задает координаты x и y точки, определяющей начальную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги. Для этого параметра можно передать либо структуру данных [Point](/windows/win32/api/windef/ns-windef-point) , либо объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*птенд*<br/>
Задает координаты x и y точки, определяющей конечную точку дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги. `POINT`Для этого параметра можно передать либо структуру данных, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция аналогична функции `CDC::Arc` , за исключением того, что текущая позицией обновляется. Точки ( *x1*, *Y1*) и ( *x2*, *Y2*) определяют ограничивающий прямоугольник. Эллипс, сформированный заданным ограничивающим прямоугольником, определяет кривую дуги. Дуга расширяется против часовой стрелки (направление дуги по умолчанию) от точки пересечения радиальной линии от центра ограничивающего прямоугольника до ( *X3*, *Y3*). Дуга заканчивается на пересечении радиальной линии от центра ограничивающего прямоугольника до ( *X4*, *Y4*). Если начальная и конечная точки совпадают, рисуется законченный эллипс.

Линия рисуется от текущей позиции до начальной точки дуги. Если ошибка не возникает, текущая позиция устанавливается на конечную точку дуги. Дуга рисуется с использованием текущего пера; Он не заполнен.

## <a name="cdcattach"></a><a name="attach"></a>CDC:: Attach

Используйте эту функцию члена для присоединения *HDC* к `CDC` объекту.

```
BOOL Attach(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Контекст устройства Windows.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Параметр *HDC* хранится как в контексте устройства вывода, так `m_hDC` и в контексте `m_hAttribDC` устройства атрибута.

## <a name="cdcbeginpath"></a><a name="beginpath"></a>CDC:: Бегинпас

Открывает скобку пути в контексте устройства.

```
BOOL BeginPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

После открытия скобки пути приложение может начать вызывать функции рисования GDI для определения точек, находящихся в пути. Приложение может закрыть открывающую скобку пути, вызвав `EndPath` функцию члена. При вызове приложения `BeginPath` все предыдущие пути отбрасываются.

Список функций рисования, определяющих точки в пути, см. в разделе [бегинпас](/windows/win32/api/wingdi/nf-wingdi-beginpath) в Windows SDK.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#30](../../mfc/codesnippet/cpp/cdc-class_2.cpp)]

## <a name="cdcbitblt"></a><a name="bitblt"></a>CDC:: BitBlt

Копирует точечный рисунок из контекста исходного устройства в этот текущий контекст устройства.

```
BOOL BitBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x верхнего левого угла прямоугольника назначения.

*&*<br/>
Задает логическую координату по оси y верхнего левого угла прямоугольника назначения.

*нвидс*<br/>
Задает ширину (в логических единицах) прямоугольника назначения и исходного растрового изображения.

*нхеигхт*<br/>
Задает высоту (в логических единицах) прямоугольника назначения и исходного растрового изображения.

*псркдк*<br/>
Указатель на `CDC` объект, определяющий контекст устройства, из которого будет скопирован точечный рисунок. Он должен иметь значение NULL, если *двроп* указывает операцию точечной операции, которая не включает источник.

*кссрк*<br/>
Задает логическую координату по оси x верхнего левого угла исходного растрового изображения.

*исрк*<br/>
Задает логическую координату по оси y верхнего левого угла исходного растрового изображения.

*dwRop*<br/>
Определяет подлежащую выполнению растровую операцию. Коды операций с растровыми операциями определяют, как GDI объединяет цвета в операциях вывода, в которых задействована текущая кисть, возможные исходные растровые изображения и точечные рисунки назначения. Список кодов растровых операций для *двроп* и их описание см. в разделе [BitBlt](/windows/win32/api/wingdi/nf-wingdi-bitblt) в Windows SDK.

Полный список кодов операций с растровыми изображениями см. в разделе [о растровых кодах операций](/windows/win32/gdi/raster-operation-codes) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Приложение может выстроить области окна или клиента на границах байтов, чтобы обеспечить выполнение `BitBlt` операций в прямоугольниках с выводе по байтам. (Задайте флаги CS_BYTEALIGNWINDOW или CS_BYTEALIGNCLIENT при регистрации классов окон.)

`BitBlt`операции над прямоугольниками с выкрашенными по байтам выполняются значительно быстрее, чем `BitBlt` операции с прямоугольниками, не поддерживающими округление по байтам. Если вы хотите задать стили классов, такие как выравнивание байтов для собственного контекста устройства, необходимо зарегистрировать класс окна, а не полагаться на классы Microsoft Foundation для вас. Используйте глобальную функцию [афксрегистервндкласс](../../mfc/reference/application-information-and-management.md#afxregisterwndclass).

GDI преобразует *нвидс* и *нхеигхт*, один раз, используя контекст целевого устройства, и один раз, используя контекст исходного устройства. Если результирующие экстенты не совпадают, GDI использует `StretchBlt` функцию Windows для сжатия или растяжения исходного растрового изображения по мере необходимости.

Если точечные рисунки назначения, источника и шаблона имеют разные форматы цвета, `BitBlt` функция преобразует растровые рисунки источника и шаблона в соответствии с назначением. Цвет переднего плана и фона целевого растрового изображения используются при преобразовании.

Когда `BitBlt` функция преобразует монохромное растровое изображение в цвет, оно устанавливает белые биты (1) в цвет фона и черные биты (0) в цвет переднего плана. Используются цвет переднего плана и фона конечного контекста устройства. Чтобы преобразовать цвет в монохромный `BitBlt` режим, устанавливает Пиксели, соответствующие цвету фона, белым, и устанавливает все остальные Пиксели в черные. `BitBlt`использует цвета переднего плана и фона контекста цветового устройства для преобразования цвета в монохромный режим.

Обратите внимание, что не все контексты устройств поддерживаются `BitBlt` . Чтобы проверить, поддерживает ли данный контекст устройства `BitBlt` , используйте функцию- `GetDeviceCaps` член и укажите индекс растеркапс.

### <a name="example"></a>Пример

  См. пример для [CDC:: креатекомпатибледк](#createcompatibledc).

## <a name="cdccdc"></a><a name="cdc"></a>CDC:: CDC

Формирует объект `CDC`.

```
CDC();
```

## <a name="cdcchord"></a><a name="chord"></a>CDC:: Аккорд

Рисование аккорда (замкнутая фигура, ограниченная пересечением эллипса и сегмента линии).

```
BOOL Chord(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Chord(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника аккорда (в логических единицах).

*Y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника аккорда (в логических единицах).

*штук*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника аккорда (в логических единицах).

*Y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника аккорда (в логических единицах).

*x3*<br/>
Задает координату по оси x точки, определяющей начальную точку аккорда (в логических единицах).

*Y3*<br/>
Указывает координату y точки, определяющей начальную точку аккорда (в логических единицах).

*X4*<br/>
Задает координату по оси x точки, определяющей конечную точку аккорда (в логических единицах).

*Y4*<br/>
Указывает координату y точки, определяющей конечную точку аккорда (в логических единицах).

*лпрект*<br/>
Задает ограничивающий прямоугольник (в логических устройствах). Для этого параметра можно передать объект ЛПРЕКТ или [крект](../../atl-mfc-shared/reference/crect-class.md) .

*птстарт*<br/>
Задает координаты x и y точки, определяющей начальную точку аккорда (в логических единицах). Эта точка не обязательно должна находиться точно в соответствии с аккордом. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

*птенд*<br/>
Задает координаты x и y точки, определяющей конечную точку аккорда (в логических единицах). Эта точка не обязательно должна находиться точно в соответствии с аккордом. Для этого параметра можно передать либо структуру [Point](/windows/win32/api/windef/ns-windef-point) , либо объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Параметры ( *x1*, *Y1*) и ( *x2*, *Y2*) задают верхний левый и нижний правый уголки прямоугольника, ограничивающего эллипс, который является частью аккорда. Параметры ( *X3*, *Y3*) и ( *X4*, *Y4*) указывают конечные точки линии, пересекающие эллипс. Аккорд рисуется с помощью выбранного пера и заполняется с помощью выбранной кисти.

Фигура, изображенная `Chord` функцией, расширяется до, но не включает в себя правую и нижнюю координаты. Это означает, что высота фигуры — *Y2*  -  *Y1* , а ширина фигуры — *x2*  -  *x1*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#31](../../mfc/codesnippet/cpp/cdc-class_3.cpp)]

## <a name="cdcclosefigure"></a><a name="closefigure"></a>CDC:: Клосефигуре

Закрывает открытую фигуру в контуре.

```
BOOL CloseFigure();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Функция закрывает рисунок, рисуя линию от текущей позиции до первой точки фигуры (обычно это точка, заданная в последнем вызове `MoveTo` функции-члена), и соединяет линии с помощью стиля соединения линий. Если фигура закрыта с помощью функции- `LineTo` члена, а не `CloseFigure` , то для создания угла вместо объединения используются конечные точки. `CloseFigure`должен вызываться только в том случае, если в контексте устройства есть открывающая скобка пути.

Рисунок в пути открыт, если он явно не закрыт с помощью этой функции. (Фигура может быть открыта, даже если текущая и начальная точки фигуры совпадают.) Любая линия или кривая, добавленная в путь после `CloseFigure` начала новой фигуры.

## <a name="cdccreatecompatibledc"></a><a name="createcompatibledc"></a>CDC:: Креатекомпатибледк

Создает контекст устройства памяти, совместимый с устройством, указанным с помощью *PDC*.

```
BOOL CreateCompatibleDC(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*Хозяин*<br/>
Указатель на контекст устройства. Если параметр *PDC* имеет значение null, функция создает контекст устройства памяти, совместимый с системным отображением.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства памяти — это блок памяти, представляющий поверхность отображения. Его можно использовать для подготовки образов в памяти перед их копированием на фактическую поверхность устройства совместимого устройства.

При создании контекста устройства памяти GDI автоматически выбирает для него точечный рисунок объемом 1 на 1 Монохромный. Функции вывода GDI можно использовать с контекстом устройства памяти только в том случае, если точечный рисунок был создан и выбран в этом контексте.

Эта функция может использоваться только для создания совместимых контекстов устройств для устройств, поддерживающих растровые операции. Сведения о передаче битовых блоков между контекстами устройств см. в описании функции-члена [CDC:: BitBlt](#bitblt) . Чтобы определить, поддерживает ли контекст устройства растровые операции, см. раздел RC_BITBLT растровая возможность в функции-члене `CDC::GetDeviceCaps` .

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#32](../../mfc/codesnippet/cpp/cdc-class_4.cpp)]

## <a name="cdccreatedc"></a><a name="createdc"></a>CDC:: Креатедк

Создает контекст устройства для указанного устройства.

```
BOOL CreateDC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>Параметры

*лпсздривернаме*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя файла (без расширения) драйвера устройства (например, "EPSON"). Также можно передать `CString` объект для этого параметра.

*лпсздевиценаме*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя конкретного устройства, которое должно поддерживаться (например, "EPSON FX-80"). Параметр *лпсздевиценаме* используется, если модуль поддерживает более одного устройства. Также можно передать `CString` объект для этого параметра.

*лпсзаутпут*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя файла или устройства для физического выходного носителя (порт File или Output). Также можно передать `CString` объект для этого параметра.

*лпинитдата*<br/>
Указывает на `DEVMODE` структуру, содержащую данные инициализации для драйвера устройства. Функция Windows `DocumentProperties` извлекает эту структуру, заполненную для данного устройства. Параметр *лпинитдата* должен иметь значение null, если драйвер устройства использует инициализацию по умолчанию (если таковая имеется), указанную пользователем с помощью панели управления.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Печать. Если используется структура [DEVMODE](/windows/win32/api/wingdi/ns-wingdi-devmodea) , требуется файл заголовка H.

Имена устройств соответствуют следующим соглашениям: конечное двоеточие (:) рекомендуется, но необязательно. Windows удаляет завершающее двоеточие таким образом, что имя устройства, заканчивающееся двоеточием, сопоставляется с одним и тем же именем порта без двоеточия. Имена драйверов и портов не должны содержать начальные и конечные пробелы. Функции вывода GDI не могут использоваться с контекстами сведений.

## <a name="cdccreateic"></a><a name="createic"></a>CDC:: Create

Создает информационный контекст для указанного устройства.

```
BOOL CreateIC(
    LPCTSTR lpszDriverName,
    LPCTSTR lpszDeviceName,
    LPCTSTR lpszOutput,
    const void* lpInitData);
```

### <a name="parameters"></a>Параметры

*лпсздривернаме*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя файла (без расширения) драйвера устройства (например, "EPSON"). `CString`Для этого параметра можно передать объект.

*лпсздевиценаме*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя конкретного устройства, которое должно поддерживаться (например, "EPSON FX-80"). Параметр *лпсздевиценаме* используется, если модуль поддерживает более одного устройства. `CString`Для этого параметра можно передать объект.

*лпсзаутпут*<br/>
Указывает на строку, завершающуюся нулем, которая указывает имя файла или устройства для физического выходного носителя (файла или порта). `CString`Для этого параметра можно передать объект.

*лпинитдата*<br/>
Указывает на данные инициализации драйвера устройства для конкретных устройств. Параметр *лпинитдата* должен иметь значение null, если драйвер устройства использует инициализацию по умолчанию (если таковая имеется), указанную пользователем с помощью панели управления. См `CreateDC` . раздел для формата данных инициализации для конкретного устройства.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Информационный контекст предоставляет быстрый способ получения сведений об устройстве без создания контекста устройства.

Имена устройств соответствуют следующим соглашениям: конечное двоеточие (:) рекомендуется, но необязательно. Windows удаляет завершающее двоеточие таким образом, что имя устройства, заканчивающееся двоеточием, сопоставляется с одним и тем же именем порта без двоеточия. Имена драйверов и портов не должны содержать начальные и конечные пробелы. Функции вывода GDI не могут использоваться с контекстами сведений.

## <a name="cdcdeletedc"></a><a name="deletedc"></a>CDC::D Елетедк

Как правило, не следует вызывать эту функцию. деструктор сделает это самостоятельно.

```
BOOL DeleteDC();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция успешно завершена; в противном случае — 0.

### <a name="remarks"></a>Примечания

`DeleteDC`Функция члена удаляет контексты устройств Windows, связанные с `m_hDC` текущим `CDC` объектом. Если этот `CDC` объект является последним активным контекстом устройства для данного устройства, устройство получает уведомления, а все системные ресурсы, используемые устройством, освобождаются.

Приложение не должно вызывать метод `DeleteDC` , если объекты были выбраны в контексте устройства. Прежде чем удалить объекты, их необходимо выбрать из контекста устройства.

Приложение не должно удалять контекст устройства, маркер которого был получен путем вызова [CWnd:: GetDC](../../mfc/reference/cwnd-class.md#getdc). Вместо этого он должен вызвать [CWnd:: релеаседк](../../mfc/reference/cwnd-class.md#releasedc) , чтобы освободить контекст устройства. Для создания оболочки этой функции предоставляются классы [кклиентдк](../../mfc/reference/cclientdc-class.md) и [квиндовдк](../../mfc/reference/cwindowdc-class.md) .

Эта `DeleteDC` функция обычно используется для удаления контекстов устройств, созданных с помощью [креатедк](#createdc), [CREATE](#createic)или [креатекомпатибледк](#createcompatibledc).

### <a name="example"></a>Пример

  См. пример для [кпринтдиалог:: жетпринтердк](../../mfc/reference/cprintdialog-class.md#getprinterdc).

## <a name="cdcdeletetempmap"></a><a name="deletetempmap"></a>CDC::D Елететемпмап

Автоматически вызывается `CWinApp` обработчиком времени простоя, `DeleteTempMap` удаляет все временные `CDC` объекты, созданные `FromHandle` , но не уничтожает дескрипторы контекста устройства, `hDC` которые временно связаны с `CDC` объектами.

```
static void PASCAL DeleteTempMap();
```

## <a name="cdcdetach"></a><a name="detach"></a>CDC::D етач

Вызовите эту функцию, чтобы отсоединить `m_hDC` (контекст устройства вывода) от `CDC` объекта и установить оба параметра `m_hDC` и `m_hAttribDC` в NULL.

```
HDC Detach();
```

### <a name="return-value"></a>Возвращаемое значение

Контекст устройства Windows.

## <a name="cdcdptohimetric"></a><a name="dptohimetric"></a>CDC::D Птохиметрик

Эта функция используется при присвоении HIMETRIC размеров OLE, преобразовании пикселей в HIMETRIC.

```cpp
void DPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*лпсизе*<br/>
Указывает на структуру [размера](/windows/win32/api/windef/ns-windef-size) или объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Если режим сопоставления объекта контекста устройства — MM_LOENGLISH, MM_HIENGLISH, MM_LOMETRIC или MM_HIMETRIC, то преобразование основано на количестве пикселей в физическом дюйме. Если режим сопоставления является одним из других режимов без ограничений (например, MM_TEXT), то преобразование основано на количестве пикселей в логическом дюйме.

## <a name="cdcdptolp"></a><a name="dptolp"></a>CDC::D Птолп

Преобразует единицы устройства в логические устройства.

```cpp
void DPtoLP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void DPtoLP(LPRECT lpRect) const;
void DPtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур [точек](/windows/win32/api/windef/ns-windef-point) или объектов [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*нкаунт*<br/>
Количество точек в массиве.

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) . Этот параметр используется для простого преобразования одного прямоугольника из точек устройства в логические точки.

*лпсизе*<br/>
Указывает на структуру [размера](/windows/win32/api/windef/ns-windef-size) или объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Функция сопоставляет координаты каждой точки или измерения размера от системы координат устройства в логическую систему координат GDI. Преобразование зависит от текущего режима сопоставления и параметров источников и экстентов для окна устройства и окна просмотра.

## <a name="cdcdraw3drect"></a><a name="draw3drect"></a>CDC::D raw3dRect

Вызовите эту функцию-член для рисования трехмерного прямоугольника.

```cpp
void Draw3dRect(
    LPCRECT lpRect,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);

void Draw3dRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clrTopLeft,
    COLORREF clrBottomRight);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Задает ограничивающий прямоугольник (в логических устройствах). Для этого параметра можно передать либо указатель на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) , либо объект [крект](../../atl-mfc-shared/reference/crect-class.md) .

*клртоплефт*<br/>
Задает цвет верхней и левой сторон трехмерного прямоугольника.

*клрботтомригхт*<br/>
Задает цвет нижней и правой сторон трехмерного прямоугольника.

*x*<br/>
Задает логическую координату по оси x левого верхнего угла трехмерного прямоугольника.

*&*<br/>
Задает логическую координату по оси y верхнего левого угла трехмерного прямоугольника.

*/CX*<br/>
Задает ширину трехмерного прямоугольника.

*CY*<br/>
Задает высоту трехмерного прямоугольника.

### <a name="remarks"></a>Примечания

Прямоугольник будет нарисован с верхней и левой сторон в цвете, заданном параметром *клртоплефт* , а нижняя и правая — в цвете, заданном параметром *клрботтомригхт*.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#33](../../mfc/codesnippet/cpp/cdc-class_5.cpp)]

## <a name="cdcdrawdragrect"></a><a name="drawdragrect"></a>CDC::D Равдрагрект

Вызывайте эту функцию-член многократно, чтобы перерисовать прямоугольник перетаскивания.

```cpp
void DrawDragRect(
    LPCRECT lpRect,
    SIZE size,
    LPCRECT lpRectLast,
    SIZE sizeLast,
    CBrush* pBrush = NULL,
    CBrush* pBrushLast = NULL);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , указывающий логические координаты прямоугольника — в данном случае конечную точку перерисовки прямоугольника.

*size*<br/>
Задает смещение от верхнего левого угла внешней границы до верхнего левого угла внутренней границы (то есть толщины границы) прямоугольника.

*лпректласт*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , указывающий логические координаты позиции прямоугольника (в данном случае — исходное расположение прямоугольника, который перерисовывается).

*сизеласт*<br/>
Задает смещение от верхнего левого угла внешней границы до верхнего левого угла внутренней границы (то есть толщины границы) исходного прямоугольника, который перерисовывается.

*пбруш*<br/>
Указатель на объект Brush. Задайте значение NULL, чтобы использовать кисть полутонов по умолчанию.

*пбрушласт*<br/>
Указатель на последний использованный объект Brush. Задайте значение NULL, чтобы использовать кисть полутонов по умолчанию.

### <a name="remarks"></a>Примечания

Вызовите его в цикле, как показано в примере расположения мыши, чтобы дать визуальную обратную связь. При вызове `DrawDragRect` предыдущий прямоугольник удаляется и рисуется новый. Например, при перетаскивании прямоугольника по экрану `DrawDragRect` он удаляет исходный прямоугольник и перерисовывает новый в новом положении. По умолчанию `DrawDragRect` рисует прямоугольник с помощью кисти полутонов для устранения мерцания и создания внешнего вида плавно движущихся прямоугольников.

При первом вызове `DrawDragRect` параметр *лпректласт* должен иметь значение null.

## <a name="cdcdrawedge"></a><a name="drawedge"></a>CDC::D Раведже

Вызовите эту функцию-член, чтобы нарисовать границы прямоугольника указанного типа и стиля.

```
BOOL DrawEdge(
    LPRECT lpRect,
    UINT nEdge,
    UINT nFlags);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указатель на `RECT` структуру, содержащую логические координаты прямоугольника.

*недже*<br/>
Указывает тип внутреннего и внешнего краев для рисования. Этот параметр должен быть сочетанием одного флага внутренней границы и одного флага внешней границы. См. раздел [драведже](/windows/win32/api/winuser/nf-winuser-drawedge) в Windows SDK для таблицы типов параметра.

*нфлагс*<br/>
Флаги, указывающие тип рисуемой границы. См `DrawEdge` . раздел Windows SDK для таблицы со значениями параметра. Для диагональных линий флаги BF_RECT задают конечную точку вектора, ограниченного параметром Rectangle.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

## <a name="cdcdrawescape"></a><a name="drawescape"></a>CDC::D Равескапе

Обращается к возможностям отображения видео, которые недоступны напрямую через интерфейс графических устройств (GDI).

```
int DrawEscape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData);
```

### <a name="parameters"></a>Параметры

*нескапе*<br/>
Задает выполняемую управляющую функцию.

*нинпутсизе*<br/>
Указывает число байтов данных, на которые указывает параметр *лпсзинпутдата* .

*лпсзинпутдата*<br/>
Указывает на входную структуру, необходимую для заданной escape-последовательности.

### <a name="return-value"></a>Возвращаемое значение

Указывает результат функции. Больше нуля в случае успеха, за исключением escape-последовательности КУЕРЕСКСУППОРТ, которая проверяет только реализацию; или нуль, если escape-последовательность не реализована; или меньше нуля, если произошла ошибка.

### <a name="remarks"></a>Примечания

Когда приложение вызывает `DrawEscape` , данные, идентифицируемые *Нинпутсизе* и *лпсзинпутдата* , передаются непосредственно в указанный драйвер экрана.

## <a name="cdcdrawfocusrect"></a><a name="drawfocusrect"></a>CDC::D Равфокусрект

Рисует прямоугольник в стиле, который указывает, что прямоугольник имеет фокус.

```cpp
void DrawFocusRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , указывающий логические координаты прямоугольника для рисования.

### <a name="remarks"></a>Примечания

Поскольку это логическая функция XOR, вызов этой функции во второй раз с тем же прямоугольником удаляет прямоугольник из экрана. Невозможно прокрутить прямоугольник, нарисованный этой функцией. Для прокрутки области, содержащей прямоугольник, рисуемый этой функцией, сначала необходимо вызвать метод, `DrawFocusRect` чтобы удалить прямоугольник из отображения, затем прокрутить область и затем вызвать `DrawFocusRect` еще раз, чтобы нарисовать прямоугольник в новой должности.

> [!CAUTION]
> `DrawFocusRect`работает только в режиме MM_TEXT. В других режимах эта функция не рисует прямоугольник фокуса правильно, но не возвращает значения ошибок.

## <a name="cdcdrawframecontrol"></a><a name="drawframecontrol"></a>CDC::D Равфрамеконтрол

Вызовите эту функцию-член, чтобы нарисовать элемент управления Frame с указанным типом и стилем.

```
BOOL DrawFrameControl(
    LPRECT lpRect,
    UINT nType,
    UINT nState);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указатель на `RECT` структуру, содержащую логические координаты прямоугольника.

*nType*<br/>
Задает тип элемента управления фрейма для рисования. Список возможных значений этого параметра см. в параметре *утипе* в [дравфрамеконтрол](/windows/win32/api/winuser/nf-winuser-drawframecontrol) в Windows SDK.

*Nсведения*<br/>
Задает начальное состояние элемента управления Frame. Может быть одним или несколькими значениями, описанными для параметра *устате* в `DrawFrameControl` в Windows SDK. Используйте значение *nсведения* DFCS_ADJUSTRECT, чтобы изменить ограничивающий прямоугольник, чтобы исключить окружающую границу кнопки.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

В некоторых случаях *nсведения* зависит от параметра *nуведомления* . В следующем списке показана связь между четырьмя *nуведомления* значениями и *nсведения*:

- DFC_BUTTON

  - Кнопка DFCS_BUTTON3STATE с тремя состояниями

  - Флажок DFCS_BUTTONCHECK

  - Кнопка отправки DFCS_BUTTONPUSH

  - Переключатель DFCS_BUTTONRADIO

  - DFCS_BUTTONRADIOIMAGE изображение для переключателя (изображение с неквадратными требованиями)

  - Маска DFCS_BUTTONRADIOMASK для переключателя (неквадратная маска необходимости)

- DFC_CAPTION

  - Кнопка "Закрыть" DFCS_CAPTIONCLOSE

  - Кнопка "Справка" DFCS_CAPTIONHELP

  - Кнопка "развернуть" DFCS_CAPTIONMAX

  - Кнопка "DFCS_CAPTIONMIN"

  - Кнопка восстановления DFCS_CAPTIONRESTORE

- DFC_MENU

  - Стрелка подменю DFCS_MENUARROW

  - Маркер DFCS_MENUBULLET

  - DFCS_MENUCHECK галочка

- DFC_SCROLL

  - DFCS_SCROLLCOMBOBOX полосы прокрутки поля со списком

  - DFCS_SCROLLDOWN стрелка вниз в полосе прокрутки

  - DFCS_SCROLLLEFT стрелка влево на полосе прокрутки

  - Стрелка вправо DFCS_SCROLLRIGHT полосы прокрутки

  - Захват DFCS_SCROLLSIZEGRIPного размера в правом нижнем углу окна

  - DFCS_SCROLLUP стрелка вверх в полосе прокрутки

### <a name="example"></a>Пример

Этот код выводит область захвата размера в правом нижнем углу окна. Он подходит для `OnPaint` обработчика диалогового окна, в котором нет стилей и обычно не содержит других элементов управления (например, строки состояния), которые могут дать ему захват размера.

[!code-cpp[NVC_MFCDocView#34](../../mfc/codesnippet/cpp/cdc-class_6.cpp)]

## <a name="cdcdrawicon"></a><a name="drawicon"></a>CDC::D Равикон

Рисует значок на устройстве, представленном текущим `CDC` объектом.

```
BOOL DrawIcon(
    int x,
    int y,
    HICON hIcon);

BOOL DrawIcon(
    POINT point,
    HICON hIcon);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x верхнего левого угла значка.

*&*<br/>
Задает логическую координату по оси y верхнего левого угла значка.

*hIcon*<br/>
Определяет маркер значка, который должен быть нарисован.

*точки*<br/>
Задает логические координаты x и y верхнего левого угла значка. Для этого параметра можно передать структуру [точек](/windows/win32/api/windef/ns-windef-point) или объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция успешно завершена; в противном случае — 0.

### <a name="remarks"></a>Примечания

Функция помещает верхний левый угол значка в расположение, заданное *x* и *y*. Расположение подчиняется текущему режиму сопоставления контекста устройства.

Ресурс значка должен быть ранее загружен с помощью функций `CWinApp::LoadIcon` , `CWinApp::LoadStandardIcon` или `CWinApp::LoadOEMIcon` . `MM_TEXT`Перед использованием этой функции необходимо выбрать режим сопоставления.

### <a name="example"></a>Пример

  См. пример для [CWnd:: «Icon](../../mfc/reference/cwnd-class.md#isiconic)».

## <a name="cdcdrawstate"></a><a name="drawstate"></a>CDC::D Равстате

Вызовите эту функцию-член для отображения изображения и примените визуальный элемент, чтобы указать состояние, например отключенное или состояние по умолчанию.

> [!NOTE]
> Для всех состояний *нфлаг* , кроме DSS_NORMAL, изображение преобразуется в монохромный режим перед применением визуального эффекты.

```
BOOL DrawState(
    CPoint pt,
    CSize size,
    HBITMAP hBitmap,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    CBitmap* pBitmap,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    HICON hIcon,
    UINT nFlags,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    LPCTSTR lpszText,
    UINT nFlags,
    BOOL bPrefixText = TRUE,
    int nTextLen = 0,
    CBrush* pBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    HBRUSH hBrush = NULL);

BOOL DrawState(
    CPoint pt,
    CSize size,
    DRAWSTATEPROC lpDrawProc,
    LPARAM lData,
    UINT nFlags,
    CBrush* pBrush = NULL);
```

### <a name="parameters"></a>Параметры

*лутор*<br/>
Указывает расположение изображения.

*size*<br/>
Задает размер изображения.

*хбитмап*<br/>
Маркер точечного рисунка.

*нфлагс*<br/>
Флаги, указывающие тип и состояние изображения. Возможные типы и состояния *нфлагс* см. в разделе [дравстате](/windows/win32/api/winuser/nf-winuser-drawstatew) в Windows SDK.

*хбруш*<br/>
Дескриптор кисти.

*пбитмап*<br/>
Указатель на объект CBitmap.

*пбруш*<br/>
Указатель на объект Кбруш.

*hIcon*<br/>
Дескриптор для значка.

*lpszText*<br/>
Указатель на текст.

*бпрефикстекст*<br/>
Текст, который может содержать сочетание клавиш. Параметр *лдата* задает адрес строки, а параметр *нтекстлен* задает длину. Если *нтекстлен* имеет значение 0, предполагается, что строка завершается нулем.

*нтекстлен*<br/>
Длина текстовой строки, на которую указывает параметр *лпсзтекст*. Если *нтекстлен* имеет значение 0, предполагается, что строка завершается нулем.

*лпдравпрок*<br/>
Указатель на функцию обратного вызова, используемую для отрисовки изображения. Этот параметр является обязательным, если тип изображения в *нфлагс* — DST_COMPLEX. Он является необязательным и может иметь значение NULL, если тип изображения — DST_TEXT. Для всех остальных типов изображений этот параметр игнорируется. Дополнительные сведения о функции обратного вызова см. в описании функции [дравстатепрок](/windows/win32/api/winuser/nc-winuser-drawstateproc) в Windows SDK.

*лдата*<br/>
Указывает сведения об образе. Значение этого параметра зависит от типа изображения.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

## <a name="cdcdrawtext"></a><a name="drawtext"></a>CDC::D Равтекст

Вызывайте эту функцию члена для форматирования текста в заданном прямоугольнике. Чтобы указать дополнительные параметры форматирования, используйте [CDC::D равтекстекс](#drawtextex).

```
virtual int DrawText(
    LPCTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat);

int DrawText(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat);
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на строку, которая должна быть выведена. Если *нкаунт* имеет значение-1, строка должна завершаться нулем.

*нкаунт*<br/>
Указывает число символов в строке. Если *нкаунт* имеет значение-1, то предполагается, что *лпсзстринг* является длинным указателем на строку, завершающуюся нулем, и `DrawText` автоматически подсчитывает число символов.

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , содержащий прямоугольник (в логических координатах), в котором должен быть отформатирован текст.

*str*<br/>
Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий указанные символы для рисования.

*нформат*<br/>
Задает метод форматирования текста. Это может быть любое сочетание значений, описанных для параметра *UFormat* в [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext) в Windows SDK. (объединение с использованием побитового оператора OR):

> [!NOTE]
> Некоторые сочетания флагов *UFormat* могут привести к изменению передаваемой строки. Использование DT_MODIFYSTRING с DT_END_ELLIPSIS или DT_PATH_ELLIPSIS может привести к изменению строки, что приведет к утверждению в `CString` переопределении. Значения DT_CALCRECT, DT_EXTERNALLEADING, DT_INTERNAL, DT_NOCLIP и DT_NOPREFIX нельзя использовать со значением DT_TABSTOP.

### <a name="return-value"></a>Возвращаемое значение

Высота текста при успешном выполнении функции.

### <a name="remarks"></a>Примечания

Он форматирует текст путем расширения табуляции в соответствующие пробелы, выравнивание текста по левому краю, правому или центру данного прямоугольника, а также разбиение текста на строки, попадающие в пределах данного прямоугольника. Тип форматирования задается параметром *нформат*.

Эта функция члена использует выбранный шрифт, цвет текста и цвет фона для рисования текста в контексте устройства. Если не используется формат DT_NOCLIP, `DrawText` обрезает текст таким образом, чтобы текст не выходил за пределы данного прямоугольника. Предполагается, что все форматирование имеет несколько строк, если не задан формат DT_SINGLELINE.

Если выбранный шрифт слишком велик для указанного прямоугольника, `DrawText` функция-член не пытается заменить шрифт меньшего размера.

Если указан флаг DT_CALCRECT, то прямоугольник, заданный параметром *лпрект* , будет обновлен для отражения ширины и высоты, необходимых для отрисовки текста.

Если установлен флаг выравнивания текста TA_UPDATECP (см. раздел [CDC:: сеттексталигн](#settextalign)), `DrawText` будет отображаться текст, начиная с текущей позиции, а не слева от данного прямоугольника. `DrawText`не будет переносить текст, если установлен флаг TA_UPDATECP (то есть флаг DT_WORDBREAK не будет оказывать никакого влияния).

Цвет текста может быть задан с помощью [CDC:: сеттекстколор](#settextcolor).

## <a name="cdcdrawtextex"></a><a name="drawtextex"></a>CDC::D Равтекстекс

Форматирует текст в заданном прямоугольнике.

```
virtual int DrawTextEx(
    LPTSTR lpszString,
    int nCount,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);

int DrawTextEx(
    const CString& str,
    LPRECT lpRect,
    UINT nFormat,
    LPDRAWTEXTPARAMS lpDTParams);
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на строку, которая должна быть выведена. Если *нкаунт* имеет значение-1, строка должна завершаться нулем.

*нкаунт*<br/>
Указывает число символов в строке. Если *нкаунт* имеет значение-1, то предполагается, что *лпсзстринг* является длинным указателем на строку, завершающуюся нулем, и `DrawText` автоматически подсчитывает число символов.

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , содержащий прямоугольник (в логических координатах), в котором должен быть отформатирован текст.

*str*<br/>
Объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) , содержащий указанные символы для рисования.

*нформат*<br/>
Задает метод форматирования текста. Это может быть любое сочетание значений, описанных для параметра *UFormat* в [DrawText](/windows/win32/api/winuser/nf-winuser-drawtext) в Windows SDK. (Объединение с использованием побитового оператора **or** ):

> [!NOTE]
> Некоторые сочетания флагов *UFormat* могут привести к изменению передаваемой строки. Использование DT_MODIFYSTRING с DT_END_ELLIPSIS или DT_PATH_ELLIPSIS может привести к изменению строки, что приведет к утверждению в `CString` переопределении. Значения DT_CALCRECT, DT_EXTERNALLEADING, DT_INTERNAL, DT_NOCLIP и DT_NOPREFIX нельзя использовать со значением DT_TABSTOP.

*лпдтпарамс*<br/>
Указатель на структуру [дравтекстпарамс](/windows/win32/api/winuser/ns-winuser-drawtextparams) , указывающую дополнительные параметры форматирования. Этот параметр может иметь значение NULL.

### <a name="remarks"></a>Примечания

Он форматирует текст путем расширения табуляции в соответствующие пробелы, выравнивание текста по левому краю, правому или центру данного прямоугольника, а также разбиение текста на строки, попадающие в пределах данного прямоугольника. Тип форматирования задается *нформат* и *лпдтпарамс*. Дополнительные сведения см. в разделе [CDC::D равтекст](#drawtext) и [дравтекстекс](/windows/win32/api/winuser/nf-winuser-drawtextexw) в Windows SDK.

Цвет текста может быть задан с помощью [CDC:: сеттекстколор](#settextcolor).

## <a name="cdcellipse"></a><a name="ellipse"></a>CDC:: эллипс

Рисование эллипса.

```
BOOL Ellipse(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Ellipse(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает логическую координату по оси x верхнего левого угла ограничивающего прямоугольника эллипса.

*Y1*<br/>
Задает логическую координату по оси y верхнего левого угла ограничивающего прямоугольника эллипса.

*штук*<br/>
Задает логическую координату по оси x правого нижнего угла ограничивающего прямоугольника эллипса.

*Y2*<br/>
Задает логическую координату по оси y правого нижнего угла ограничивающего прямоугольника эллипса.

*лпрект*<br/>
Задает ограничивающий прямоугольник эллипса. Для этого параметра также можно передать объект [крект](../../atl-mfc-shared/reference/crect-class.md) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Центр эллипса — это центр ограничивающего прямоугольника, заданный в *x1*, *Y1*, *x2*и *Y2*или *лпрект*. Эллипс рисуется с помощью текущего пера, а его внутренняя часть заполняется текущей кистью.

Фигура, изображенная этой функцией, расширяется до, но не включает, правую и нижнюю координаты. Это означает, что высота фигуры — *Y2*  -  *Y1* , а ширина фигуры — *x2*  -  *x1*.

Если ширина или высота ограничивающего прямоугольника равна 0, эллипс не рисуется.

## <a name="cdcenddoc"></a><a name="enddoc"></a>CDC:: Енддок

Завершает задание печати, запущенное вызовом функции-члена [стартдок](#startdoc) .

```
int EndDoc();
```

### <a name="return-value"></a>Возвращаемое значение

Больше или равно 0, если функция выполнена успешно, или отрицательное значение, если произошла ошибка.

### <a name="remarks"></a>Примечания

Эта функция-член заменяет escape-последовательность принтера ЕНДДОК и должна вызываться сразу после завершения успешного задания печати.

Если приложение сталкивается с ошибкой печати или отмененной операцией печати, она не должна пытаться завершить операцию с помощью либо `EndDoc` или [абортдок](#abortdoc). GDI автоматически прерывает операцию, прежде чем возвращать значение ошибки.

Эта функция не должна использоваться внутри метафайлов.

### <a name="example"></a>Пример

  См. пример для [CDC:: стартдок](#startdoc).

## <a name="cdcendpage"></a><a name="endpage"></a>CDC:: EndPage

Информирует устройство о том, что приложение завершило запись на страницу.

```
int EndPage();
```

### <a name="return-value"></a>Возвращаемое значение

Больше или равно 0, если функция выполнена успешно, или отрицательное значение, если произошла ошибка.

### <a name="remarks"></a>Примечания

Эта функция-член обычно используется для направления перехода драйвера устройства на новую страницу.

Эта функция-член заменяет escape-последовательность принтера НЕВФРАМЕ. В отличие от НЕВФРАМЕ эта функция всегда вызывается после печати страницы.

### <a name="example"></a>Пример

  См. пример для [CDC:: стартдок](#startdoc).

## <a name="cdcendpath"></a><a name="endpath"></a>CDC:: Ендпас

Закрывает скобку пути и выбирает путь, определенный скобкой, в контекст устройства.

```
BOOL EndPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="example"></a>Пример

  См. пример для [CDC:: бегинпас](#beginpath).

## <a name="cdcenumobjects"></a><a name="enumobjects"></a>CDC:: Енумобжектс

Перечисляет перья и кисти, доступные в контексте устройства.

```
int EnumObjects(
    int nObjectType,
    int (CALLBACK* lpfn)(
    LPVOID,
    LPARAM),
    LPARAM lpData);
```

### <a name="parameters"></a>Параметры

*нобжекттипе*<br/>
Указывает тип объекта. Он может иметь значения OBJ_BRUSH или OBJ_PEN.

*лпфн*<br/>
Адрес процедуры-экземпляра функции обратного вызова, предоставляемой приложением. См. раздел "Примечания" ниже.

*лпдата*<br/>
Указывает на данные, предоставляемые приложением. Данные передаются в функцию обратного вызова вместе со сведениями об объекте.

### <a name="return-value"></a>Возвращаемое значение

Задает Последнее значение, возвращенное [функцией обратного вызова](callback-functions-used-by-mfc.md#enum_objects). Его значение определяется пользователем.

### <a name="remarks"></a>Примечания

Для каждого объекта данного типа передаваемая функция обратного вызова вызывается со сведениями для этого объекта. Система вызывает функцию обратного вызова до тех пор, пока не будет больше объектов или функция обратного вызова не возвратит значение 0.

Обратите внимание, что новые функции Microsoft Visual C++ позволяют использовать обычную функцию в качестве функции, передаваемой в `EnumObjects` . Адрес, переданный в `EnumObjects` , является указателем на функцию, экспортированную с помощью **экспорта** , и с соглашением о вызовах Pascal. В приложениях, защищенных в режиме защиты, не нужно создавать эту функцию с помощью функции Windows МакепроЦинстанце или освобождать функцию после использования с функцией ФрипроЦинстанце Windows.

Кроме того, не нужно экспортировать имя функции в инструкции **EXPORTS** в файле определения модуля приложения. Вместо этого можно использовать модификатор функции **экспорта** , как в

**Экспорт обратного вызова int** Афунктион **(LPSTR**, **LPSTR);**

значение, чтобы компилятор выдавал правильную запись экспорта для экспорта по имени без присвоения псевдонимов. Это подходит для большинства задач. В некоторых особых случаях, например при экспорте функции по порядковому номеру или псевдониму экспорта, по-прежнему необходимо использовать инструкцию **EXPORTS** в файле определения модуля.

Для компиляции программ Microsoft Foundation обычно используются параметры компилятора/GA и/жес. Параметр компилятора/GW не используется с классами Microsoft Foundation. (Если вы используете функцию Windows, необходимо `MakeProcInstance` явным образом привести возвращаемый указатель функции из фарпрок к типу, который требуется в этом API.) Интерфейсы регистрации обратного вызова теперь являются типобезопасными (необходимо передать указатель на функцию, указывающий на правильный тип функции для конкретного обратного вызова).

Также обратите внимание, что все функции обратного вызова должны перехватывать исключения Microsoft Foundation перед возвратом в Windows, так как исключения не могут быть вызваны через границы обратного вызова. Дополнительные сведения об исключениях см. в статье [исключения](../../mfc/exception-handling-in-mfc.md).

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#35](../../mfc/codesnippet/cpp/cdc-class_7.cpp)]

## <a name="cdcescape"></a><a name="escape"></a>CDC:: Escape

Эта функция-член является практически устаревшей для программирования в Win32.

```
virtual int Escape(
    int nEscape,
    int nCount,
    LPCSTR lpszInData,
    LPVOID lpOutData);

int Escape(
    int nEscape,
    int nInputSize,
    LPCSTR lpszInputData,
    int nOutputSize,
    LPSTR lpszOutputData);
```

### <a name="parameters"></a>Параметры

*нескапе*<br/>
Задает выполняемую управляющую функцию.

Полный список escape-функций см. в разделе [escape](/windows/win32/api/wingdi/nf-wingdi-escape) в Windows SDK.

*нкаунт*<br/>
Указывает число байтов данных, на которые указывает *лпсзиндата*.

*лпсзиндата*<br/>
Указывает на структуру входных данных, необходимую для этой escape-последовательности.

*лпаутдата*<br/>
Указывает на структуру, которая получает выходные данные из этой escape-последовательности. Если данные не возвращаются, параметр *лпаутдата* имеет значение null.

*нинпутсизе*<br/>
Указывает число байтов данных, на которые указывает параметр *лпсзинпутдата* .

*лпсзинпутдата*<br/>
Указывает на входную структуру, необходимую для заданной escape-последовательности.

*наутпутсизе*<br/>
Указывает число байтов данных, на которые указывает параметр *лпсзаутпутдата* .

*лпсзаутпутдата*<br/>
Указывает на структуру, получающую выходные данные из этой escape-последовательности. Если данные не возвращаются, этот параметр должен иметь значение NULL.

### <a name="return-value"></a>Возвращаемое значение

Положительное значение возвращается, если функция выполнена успешно, за исключением escape-последовательности КУЕРЕСКСУППОРТ, которая проверяет только реализацию. Если escape-последовательность не реализована, возвращается ноль. При возникновении ошибки возвращается отрицательное значение. Ниже приведены распространенные значения ошибок.

- SP_ERROR общая ошибка.

- SP_OUTOFDISK на данный момент недостаточно места на диске для очереди печати, и больше места не будет доступно.

- SP_OUTOFMEMORY недостаточно памяти для буферизации.

- SP_USERABORT пользователь завершил задание с помощью диспетчера печати.

### <a name="remarks"></a>Примечания

Из оригинальных escape-версий, для приложений Win32 поддерживается только КУЕРЕСКСУППОРТ. Все остальные escape-последовательности принтера устарели и поддерживаются только для совместимости с 16-разрядными приложениями.

Для программирования в Win32 `CDC` теперь предоставляет шесть функций-членов, которые заменяют соответствующие escape-последовательности принтера:

- [CDC:: Абортдок](#abortdoc)

- [CDC:: Енддок](#enddoc)

- [CDC:: EndPage](#endpage)

- [CDC:: SetAbortProc](#setabortproc)

- [CDC:: Стартдок](#startdoc)

- [CDC:: StartPage](#startpage)

Кроме того, [CDC:: жетдевицекапс](#getdevicecaps) поддерживает индексы Win32, заменяющие другие escape-последовательности принтера. Дополнительные сведения см. в разделе [жетдевицекапс](/windows/win32/api/wingdi/nf-wingdi-getdevicecaps) в Windows SDK.

Эта функция-член позволяет приложениям получать доступ к отдельным устройствам, которые недоступны напрямую через GDI.

Используйте первую версию, если приложение использует предопределенные escape-значения. Используйте вторую версию, если приложение определяет закрытые escape-значения. Дополнительные сведения о второй версии см. в разделе [екстескапе](/windows/win32/api/wingdi/nf-wingdi-extescape) в Windows SDK.

## <a name="cdcexcludecliprect"></a><a name="excludecliprect"></a>CDC:: Ексклудеклипрект

Создает новую область отсечения, состоящую из существующей области отсечения, за вычетом указанного прямоугольника.

```
int ExcludeClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int ExcludeClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает логическую координату по оси x верхнего левого угла прямоугольника.

*Y1*<br/>
Задает логическую координату по оси y верхнего левого угла прямоугольника.

*штук*<br/>
Задает логическую координату по оси x правого нижнего угла прямоугольника.

*Y2*<br/>
Задает логическую координату по оси y правого нижнего угла прямоугольника.

*лпрект*<br/>
Задает прямоугольник. Также может быть `CRect` объектом.

### <a name="return-value"></a>Возвращаемое значение

Задает тип новой области отсечения. В качестве такой точки может выступать любой из следующих вариантов:

- КОМПЛЕКСРЕГИОН. область содержит перекрывающиеся границы.

- Ошибка: регион не создан.

- НУЛЛРЕГИОН. регион пуст.

- СИМПЛЕРЕГИОН. в области нет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Ширина прямоугольника, заданная абсолютным значением *x2*  -  *x1*, не должна превышать 32 767 единиц. Это ограничение применяется также к высоте прямоугольника.

## <a name="cdcexcludeupdatergn"></a><a name="excludeupdatergn"></a>CDC:: Ексклудеупдатергн

Запрещает прорисовку в недопустимых областях окна, исключая обновленную область в окне из области обрезки, связанной с `CDC` объектом.

```
int ExcludeUpdateRgn(CWnd* pWnd);
```

### <a name="parameters"></a>Параметры

*Приводится*<br/>
Указывает на объект Window, окно которого обновляется.

### <a name="return-value"></a>Возвращаемое значение

Тип исключенного региона. Это может быть одно из следующих значений:

- КОМПЛЕКСРЕГИОН. область содержит перекрывающиеся границы.

- Ошибка: регион не создан.

- НУЛЛРЕГИОН. регион пуст.

- СИМПЛЕРЕГИОН. в области нет перекрывающихся границ.

## <a name="cdcextfloodfill"></a><a name="extfloodfill"></a>CDC:: Екстфлудфилл

Заполняет область области отображения текущей кистью.

```
BOOL ExtFloodFill(
    int x,
    int y,
    COLORREF crColor,
    UINT nFillType);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x точки, с которой начинается заполнение.

*&*<br/>
Задает логическую координату y точки, с которой начинается заполнение.

*крколор*<br/>
Задает цвет границы или области для заполнения. Интерпретация *крколор* зависит от значения *нфиллтипе*.

*нфиллтипе*<br/>
Указывает тип заполняемой переполнения. Оно должно иметь одно из следующих значений:

- ФЛУДФИЛЛБОРДЕР область заливки ограничена цветом, заданным параметром *крколор*. Этот стиль идентичен заполнению, выполняемому `FloodFill` .

- ФЛУДФИЛЛСУРФАЦЕ область заполнения определяется цветом, заданным параметром *крколор*. Заполнение выполняется наружу во всех направлениях, пока встречается цвет. Этот стиль удобен для заполнения областей с многоцветными границами.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае 0, если заливка не может быть завершена, если заданная точка имеет цвет границы, заданный параметром *крколор* (если флудфиллбордер был запрошен), если у данной точки нет цвета, заданного *крколор* (если запрос флудфиллсурфаце был запрошен), или если точка находится за пределами вырезанной области.

### <a name="remarks"></a>Примечания

Эта функция-член обеспечивает большую гибкость `FloodFill` , чем, поскольку в *нфиллтипе*можно указать тип заливки.

Если для *нфиллтипе* задано значение флудфиллбордер, предполагается, что область полностью ограничена цветом, заданным параметром *крколор*. Функция начинается с точки, заданной *x* и *y* , и заполняет все направления на цветовую границу.

Если для *нфиллтипе* задано значение флудфиллсурфаце, функция начинается в точке, заданной *x* и *y* , и продолжается во всех направлениях, заполняя все смежные области, содержащие цвет, заданный параметром *крколор*.

Только контексты устройств памяти и устройства, поддерживающие поддержку технологии растрового изображения `ExtFloodFill` . Дополнительные сведения см. в описании функции члена [жетдевицекапс](#getdevicecaps) .

## <a name="cdcexttextout"></a><a name="exttextout"></a>CDC:: ExtTextOut

Вызовите эту функцию-член для записи строки символов в прямоугольной области с помощью выбранного шрифта.

```
virtual BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    LPCTSTR lpszString,
    UINT nCount,
    LPINT lpDxWidths);

BOOL ExtTextOut(
    int x,
    int y,
    UINT nOptions,
    LPCRECT lpRect,
    const CString& str,
    LPINT lpDxWidths);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x ячейки символов для первого символа в указанной строке.

*&*<br/>
Задает логическую координату по оси y верхнего значения ячейки символов для первого символа в указанной строке.

*ноптионс*<br/>
Задает тип прямоугольника. Этот параметр может быть одним, обоим или не иметь ни одного из следующих значений:

- ETO_CLIPPED Указывает, что текст обрезается по прямоугольнику.

- ETO_OPAQUE указывает, что текущий цвет фона заполняет прямоугольник. (Можно задать и запросить текущий цвет фона с помощью функций-членов [сетбкколор](#setbkcolor) и [жетбкколор](#getbkcolor) .)

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) , определяющую размеры прямоугольника. Этот параметр может иметь значение NULL. Для этого параметра также можно передать объект [крект](../../atl-mfc-shared/reference/crect-class.md) .

*лпсзстринг*<br/>
Указывает на указанную строку символов для рисования. Для этого параметра также можно передать объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

*нкаунт*<br/>
Указывает количество знаков в строке.

*лпдксвидсс*<br/>
Указывает на массив значений, указывающих расстояние между источниками смежных ячеек символов. Например, логические устройства *лпдксвидсс*[ *i*] будут разделять исходные символы в ячейке символов *i* и character в ячейке *i + 1* . Если *лпдксвидсс* имеет значение null, `ExtTextOut` использует интервал по умолчанию между символами.

*str*<br/>
`CString`Объект, содержащий указанные символы для рисования.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Прямоугольная область может быть непрозрачной (закрашена текущим цветом фона) и может быть вырезанной областью.

Если *ноптионс* равен 0, а *лпрект* имеет значение null, функция записывает текст в контекст устройства без использования прямоугольной области. По умолчанию текущая позиция не используется и не обновляется функцией. Если приложению необходимо обновить текущую точку при вызове `ExtTextOut` , приложение может вызвать `CDC` функцию члена [сеттексталигн](#settextalign) с параметром *нфлагс* , для которого задано значение TA_UPDATECP. Если этот флаг установлен, Windows игнорирует *x* и *y* при последующих вызовах `ExtTextOut` и использует текущую точку. Если приложение использует TA_UPDATECP для обновления текущей позицией, `ExtTextOut` устанавливает текущую точку в конец предыдущей строки текста или в расположение, указанное последним элементом массива, на который указывает *лпдксвидсс*, в зависимости от того, какое значение больше.

## <a name="cdcfillpath"></a><a name="fillpath"></a>CDC:: Филлпас

Закрывает все открытые фигуры в текущем контуре и заполняет внутреннюю часть пути, используя текущую кисть и режим заливки многоугольников.

```
BOOL FillPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

После заполнения его внутренней области путь отбрасывается из контекста устройства.

## <a name="cdcfillrect"></a><a name="fillrect"></a>CDC:: Филлрект

Вызовите эту функцию-член для заполнения заданного прямоугольника, используя указанную кисть.

```cpp
void FillRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) , содержащую логические координаты прямоугольника для заполнения. Для этого параметра также можно передать объект [крект](../../atl-mfc-shared/reference/crect-class.md) .

*пбруш*<br/>
Определяет кисть, используемую для заполнения прямоугольника.

### <a name="remarks"></a>Примечания

Функция заполняет полный прямоугольник, включая левую и верхнюю границы, но не заполняет правую и нижнюю границы.

Необходимо либо создать кисть с помощью функций члена [Кбруш](../../mfc/reference/cbrush-class.md) [креатехатчбруш](../../mfc/reference/cbrush-class.md#createhatchbrush), [креатепаттернбруш](../../mfc/reference/cbrush-class.md#createpatternbrush)и [креатесолидбруш](../../mfc/reference/cbrush-class.md#createsolidbrush), либо получить с помощью `GetStockObject` функции Windows.

При заполнении указанного прямоугольника `FillRect` не включает правую и нижнюю стороны прямоугольника. GDI заполняет прямоугольник вплоть до, но не включает, правый столбец и нижнюю строку независимо от текущего режима сопоставления. `FillRect`Сравнивает значения `top` `bottom` элементов,, `left` и `right` указанного прямоугольника. Если `bottom` значение параметра меньше или равно или `top` `right` меньше или равно `left` , прямоугольник не рисуется.

`FillRect`аналогичен [CDC:: филлсолидрект](#fillsolidrect); Однако `FillRect` принимает кисть и, следовательно, может использоваться для заливки прямоугольника сплошным цветом, раскрашенным цветом, заштрихованными кистями или шаблоном. `FillSolidRect`использует только сплошные цвета (обозначенные параметром COLORREF). `FillRect`обычно медленнее, чем `FillSolidRect` .

## <a name="cdcfillrgn"></a><a name="fillrgn"></a>CDC:: Филлргн

Заполняет область, указанную параметром *пргн* , на кисть, заданную параметром *пбруш*.

```
BOOL FillRgn(
    CRgn* pRgn,
    CBrush* pBrush);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Указатель на область, которую необходимо заполнить. Координаты для данного региона указываются в логических единицах.

*пбруш*<br/>
Определяет кисть, используемую для заполнения области.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Кисть необходимо создать либо с помощью `CBrush` функций элементов `CreateHatchBrush` ,, `CreatePatternBrush` или, `CreateSolidBrush` извлекаемых `GetStockObject` .

### <a name="example"></a>Пример

  См. пример для [кргн:: креатераундректргн](../../mfc/reference/crgn-class.md#createroundrectrgn).

## <a name="cdcfillsolidrect"></a><a name="fillsolidrect"></a>CDC:: Филлсолидрект

Вызовите эту функцию члена для заполнения данного прямоугольника заданным сплошным цветом.

```cpp
void FillSolidRect(
    LPCRECT lpRect,
    COLORREF clr);

void FillSolidRect(
    int x,
    int y,
    int cx,
    int cy,
    COLORREF clr);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Задает ограничивающий прямоугольник (в логических устройствах). Для этого параметра можно передать либо указатель на структуру данных [Rect](/windows/win32/api/windef/ns-windef-rect) , либо `CRect` объект.

*Среда CLR* Задает цвет, используемый для заполнения прямоугольника.

*x*<br/>
Задает логическую координату по оси x верхнего левого угла прямоугольника.

*&*<br/>
Задает логическую координату по оси y верхнего левого угла прямоугольника назначения.

*/CX*<br/>
Задает ширину прямоугольника.

*CY*<br/>
Задает высоту прямоугольника.

### <a name="remarks"></a>Примечания

`FillSolidRect`очень похож на [CDC:: филлрект](#fillrect); Однако `FillSolidRect` использует только сплошные цвета (обозначенные параметром COLORREF), в то время как `FillRect` принимает кисть и, следовательно, может использоваться для заполнения прямоугольника сплошным цветом, раскрашенным цветом, заштрихованными кистями или шаблоном. `FillSolidRect`обычно выполняется быстрее, чем `FillRect` .

> [!NOTE]
> При вызове `FillSolidRect` цвет фона, который был ранее задан с помощью [сетбкколор](#setbkcolor), задается цветом, указанным в *CLR*.

## <a name="cdcflattenpath"></a><a name="flattenpath"></a>CDC:: Флаттенпас

Преобразует все кривые в пути, выбранном в текущий контекст устройства, и превращает каждую кривую в последовательность строк.

```
BOOL FlattenPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

## <a name="cdcfloodfill"></a><a name="floodfill"></a>CDC:: Флудфилл

Заполняет область области отображения текущей кистью.

```
BOOL FloodFill(
    int x,
    int y,
    COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x точки, с которой начинается заполнение.

*&*<br/>
Задает логическую координату y точки, с которой начинается заполнение.

*крколор*<br/>
Задает цвет границы.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае возвращается 0, если не удалось завершить заполнение, заданная точка имеет цвет границы, заданный параметром *крколор*, или точка находится за пределами вырезанной области.

### <a name="remarks"></a>Примечания

Предполагается, что область ограничена, как указано в *крколор*. `FloodFill`Функция начинается с точки, заданной *x* и *y* , и продолжается во всех направлениях до границы цвета.

Функция-член поддерживает только контексты устройств памяти и устройства, поддерживающие технологию растровой изображения `FloodFill` . Сведения о функции RC_BITBLT см. в разделе `GetDeviceCaps` функция члена.

`ExtFloodFill`Функция предоставляет аналогичные возможности, но большую гибкость.

## <a name="cdcframerect"></a><a name="framerect"></a>CDC:: Фрамерект

Рисует границу вокруг прямоугольника, заданного параметром *лпрект*.

```cpp
void FrameRect(
    LPCRECT lpRect,
    CBrush* pBrush);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , который содержит логические координаты левого верхнего и правого нижнего угла прямоугольника. Также можно передать `CRect` объект для этого параметра.

*пбруш*<br/>
Определяет кисть, используемую для формирования обрамления прямоугольника.

### <a name="remarks"></a>Примечания

Функция использует заданную кисть для рисования границы. Ширина и Высота границы всегда имеют одну логическую единицу.

Если `bottom` координата прямоугольника меньше или равна `top` , или если `right` меньше или равно `left` , прямоугольник не рисуется.

Граница, нарисованная, `FrameRect` находится в той же области, что и граница, нарисованная `Rectangle` функцией-членом с теми же координатами (если `Rectangle` использует перо, равное 1 логической единице). Внутренняя часть прямоугольника не заполняется `FrameRect` .

## <a name="cdcframergn"></a><a name="framergn"></a>CDC:: Фрамергн

Рисует границу вокруг области, заданной параметром *пргн* , с помощью кисти, заданной параметром *пбруш*.

```
BOOL FrameRgn(
    CRgn* pRgn,
    CBrush* pBrush,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Указывает на `CRgn` объект, определяющий область, которая должна быть заключена в границу. Координаты для данного региона указываются в логических единицах.

*пбруш*<br/>
Указывает на `CBrush` объект, определяющий кисть, используемую для рисования границы.

*нвидс*<br/>
Задает ширину границы в единицах измерения для вертикальных кистей.

*нхеигхт*<br/>
Задает высоту границы в единицах устройства в горизонтальной кисти.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="example"></a>Пример

  См. пример для [кргн:: комбинергн](../../mfc/reference/crgn-class.md#combinergn).

## <a name="cdcfromhandle"></a><a name="fromhandle"></a>CDC:: FromHandle

Возвращает указатель на `CDC` объект при наличии маркера для контекста устройства.

```
static CDC* PASCAL FromHandle(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Содержит маркер для контекста устройства Windows.

### <a name="return-value"></a>Возвращаемое значение

Указатель может быть временным и не должен храниться после немедленного использования.

### <a name="remarks"></a>Примечания

Если объект `CDC` не прикреплен к дескриптору, создается и прикрепляется временный объект `CDC`.

### <a name="example"></a>Пример

  См. пример для [кпринтдиалог:: жетпринтердк](../../mfc/reference/cprintdialog-class.md#getprinterdc).

## <a name="cdcgetarcdirection"></a><a name="getarcdirection"></a>CDC:: Жетаркдиректион

Возвращает текущее направление дуги для контекста устройства.

```
int GetArcDirection() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указывает текущее направление дуги в случае успеха. Ниже приведены допустимые возвращаемые значения.

- AD_COUNTERCLOCKWISE дуги и прямоугольники, нарисованные против часовой стрелки.

- AD_CLOCKWISE дуги и прямоугольники, нарисованные по часовой стрелке.

При возникновении ошибки возвращаемое значение равно нулю.

### <a name="remarks"></a>Примечания

Функции дуги и Rectangle используют направление дуги.

## <a name="cdcgetaspectratiofilter"></a><a name="getaspectratiofilter"></a>CDC:: Жетаспектратиофилтер

Извлекает параметр для текущего фильтра пропорций.

```
CSize GetAspectRatioFilter() const;
```

### <a name="return-value"></a>Возвращаемое значение

`CSize`Объект, представляющий пропорцию, используемую текущим фильтром пропорций.

### <a name="remarks"></a>Примечания

Пропорции — это соотношение, формируемое шириной и высотой пикселей устройства. Сведения о пропорции устройства используются при создании, выделении и отображении шрифтов. Windows предоставляет специальный фильтр, фильтр пропорций, для выбора шрифтов, предназначенных для определенного пропорций, из всех доступных шрифтов. Фильтр использует пропорции, указанные `SetMapperFlags` функцией члена.

## <a name="cdcgetbkcolor"></a><a name="getbkcolor"></a>CDC:: Жетбкколор

Возвращает текущий цвет фона.

```
COLORREF GetBkColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение цвета RGB.

### <a name="remarks"></a>Примечания

Если фоновый режим непрозрачен, система использует цвет фона для заполнения зазоров в строках в стиле, зазоров между заштрихованными линиями в кистях и фона в ячейках символов. Система также использует цвет фона при преобразовании точечных рисунков между цветом и монохромными контекстами устройств.

## <a name="cdcgetbkmode"></a><a name="getbkmode"></a>CDC:: Жетбкмоде

Возвращает фоновый режим.

```
int GetBkMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий фоновый режим, который может быть непрозрачным или ПРОЗРАЧным.

### <a name="remarks"></a>Примечания

Фоновый режим определяет, будут ли система удалять существующие цвета фона на поверхности рисования перед рисованием текста, штриховыми кистями или любым стилем пера, который не является сплошной линией.

## <a name="cdcgetboundsrect"></a><a name="getboundsrect"></a>CDC:: Жетбаундсрект

Возвращает текущий накопленный ограничивающий прямоугольник для указанного контекста устройства.

```
UINT GetBoundsRect(
    LPRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>Параметры

*лпректбаундс*<br/>
Указывает на буфер, который будет принимать текущий ограничивающий прямоугольник. Прямоугольник возвращается в логических координатах.

*flags*<br/>
Указывает, следует ли очищать ограничивающий прямоугольник после его возвращения. Этот параметр должен равняться нулю или иметь следующее значение:

- DCB_RESET принудительно удаляет ограничивающий прямоугольник после его возвращения.

### <a name="return-value"></a>Возвращаемое значение

Указывает текущее состояние ограничивающего прямоугольника, если функция выполнена успешно. Это может быть сочетание следующих значений:

- ЗаDCB_ACCUMULATEся накопление ограничивающего прямоугольника.

- Ограничивающий прямоугольник DCB_RESET пуст.

- Ограничивающий прямоугольник DCB_SET не пуст.

- Накопление DCB_ENABLE с границей.

- DCB_DISABLEное накопление с границей отключено.

## <a name="cdcgetbrushorg"></a><a name="getbrushorg"></a>CDC:: Жетбрушорг

Извлекает источник (в единицах устройства) кисти, выбранной в данный момент для контекста устройства.

```
CPoint GetBrushOrg() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий источник кисти (в единицах устройства) как объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="remarks"></a>Примечания

Начальным источником кисти является точка (0, 0) клиентской области. Возвращаемое значение указывает эту точку в единицах устройства относительно источника окна рабочего стола.

## <a name="cdcgetcharacterplacement"></a><a name="getcharacterplacement"></a>CDC:: Жетчарактерплацемент

Извлекает различные типы данных в символьной строке.

```
DWORD GetCharacterPlacement(
    LPCTSTR lpString,
    int nCount,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;

DWORD GetCharacterPlacement(
    CString& str,
    int nMaxExtent,
    LPGCP_RESULTS lpResults,
    DWORD dwFlags) const;
```

### <a name="parameters"></a>Параметры

*лпстринг*<br/>
Указатель на символьную строку для обработки.

*нкаунт*<br/>
Задает длину строки. Для версии ANSI это число БАЙТОВ, а для функции Юникода это число слов. Дополнительные сведения см. в разделе [жетчарактерплацемент](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw).

*нмаксекстент*<br/>
Указывает максимальный экстент (в логических единицах), на который обрабатывается строка. Символы, которые, если они обработаны, будут игнорироваться. Вычисления для любого необходимого порядка или массивов глифов применяются только к включенным символам. Этот параметр используется только в том случае, если значение GCP_MAXEXTENT указано в параметре *dwFlags* . Когда функция обрабатывает входную строку, каждый символ и его экстент добавляются к выходу, экстенту и другим массивам, только если общий экстент еще не превысил максимальное значение. По достижении предела обработка будет прервана.

*лпресултс*<br/>
Указатель на структуру [GCP_Results](/windows/win32/api/wingdi/ns-wingdi-gcp_resultsw) , которая получает результаты функции.

*dwFlags*<br/>
Указывает способ обработки строки в требуемых массивах. Этот параметр может быть одним или несколькими значениями, перечисленными в разделе *dwFlags* раздела [жетчарактерплацемент](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw) .

*str*<br/>
Указатель на объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) для обработки.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполняется удачно, возвращаемое значение является шириной и высотой строки в логических единицах.

Если функция выполняется неудачно, возвращается нулевое значение.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетчарактерплацемент](/windows/win32/api/wingdi/nf-wingdi-getcharacterplacementw), как описано в Windows SDK.

## <a name="cdcgetcharabcwidths"></a><a name="getcharabcwidths"></a>CDC:: Жетчарабквидсс

Получает ширину последовательных символов в указанном диапазоне из текущего шрифта TrueType.

```
BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABC lpabc) const;

BOOL GetCharABCWidths(
    UINT nFirstChar,
    UINT nLastChar,
    LPABCFLOAT lpABCF) const;
```

### <a name="parameters"></a>Параметры

*нфирстчар*<br/>
Задает первый символ в диапазоне символов от текущего шрифта, для которого возвращаются значения ширины символов.

*нластчар*<br/>
Задает последний символ в диапазоне символов от текущего шрифта, для которого возвращаются значения ширины символов.

*лпабк*<br/>
Указывает на массив структур [ABC](/windows/win32/api/wingdi/ns-wingdi-abc) , которые получают ширину символов при возврате функции. Этот массив должен содержать по меньшей мере столько структур, сколько `ABC` символов в диапазоне, указанном параметрами *Нфирстчар* и *нластчар* .

*лпабкф*<br/>
Указывает на предоставляемый приложением буфер с массивом структур [ABCFLOAT](/windows/win32/api/wingdi/ns-wingdi-abcfloat) для получения ширины символов при возврате функции. Ширина, возвращаемая этой функцией, находится в формате IEEE с плавающей запятой.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Значения ширины возвращаются в логических единицах. Эта функция выполнена только со шрифтами TrueType.

Средство программной прорисовки TrueType предоставляет знак "ABC" после выбора определенного размера точки. "А" интервал — это расстояние, которое добавляется в текущую позицию перед размещением глифа. «Б» интервал — это ширина черной части глифа. В текущую точку добавляется интервал "C", чтобы учитывать пробелы справа от глифа. Общая Расширенная ширина задается + B + C.

Когда `GetCharABCWidths` функция-член получает отрицательные значения ширины "A" или "C" для символа, этот символ включает в себя зависание или перестает отвечать.

Чтобы преобразовать ширину ABC в единицы проектирования шрифта, приложение должно создать шрифт, высота которого (как указано в элементе `lfHeight` структуры [LOGFONT](/windows/win32/api/wingdi/ns-wingdi-logfontw) ), равна значению, хранящемуся в элементе `ntmSizeEM` структуры [невтекстметрик](/windows/win32/api/wingdi/ns-wingdi-newtextmetricw) . (Значение `ntmSizeEM` члена можно получить, вызвав функцию Windows [EnumFontFamilies](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesw) .)

Ширина ABC символа по умолчанию используется для символов, находящихся за пределами диапазона текущего выбранного шрифта.

Чтобы получить ширину символов в шрифтах, отличных от TrueType, приложения должны использовать функцию Windows [жетчарвидс](/windows/win32/api/wingdi/nf-wingdi-getcharwidthw) .

## <a name="cdcgetcharabcwidthsi"></a><a name="getcharabcwidthsi"></a>CDC:: Жетчарабквидсси

Извлекает ширину в логических единицах последовательных индексов глифов в указанном диапазоне из текущего шрифта TrueType.

```
BOOL GetCharABCWidthsI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPABC lpabc) const;
```

### <a name="parameters"></a>Параметры

*гифирст*<br/>
Задает первый индекс глифа в группе последовательных индексов глифов из текущего шрифта. Этот параметр используется только в том случае, если параметр *PGI* имеет значение null.

*содержал*<br/>
Указывает число индексов глифов.

*PGI*<br/>
Указатель на массив, содержащий индексы глифа. Если значение равно NULL, вместо него используется параметр *гифирст* . Параметр *CGI* указывает количество индексов глифов в этом массиве.

*лпабк*<br/>
Указатель на массив [ABC](/windows/win32/api/wingdi/ns-wingdi-abc) , принимающий ширину символов. Этот массив должен содержать по меньшей мере столько структур, сколько `ABC` индексов глифов, заданных параметром *CGI* .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетчарабквидсси](/windows/win32/api/wingdi/nf-wingdi-getcharabcwidthsi), как описано в Windows SDK.

## <a name="cdcgetcharwidth"></a><a name="getcharwidth"></a>CDC:: Жетчарвидс

Получает ширину отдельных символов в последовательных группах символов из текущего шрифта, используя `m_hAttribDC` , контекст входного устройства.

```
BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;

BOOL GetCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    float* lpFloatBuffer) const;
```

### <a name="parameters"></a>Параметры

*нфирстчар*<br/>
Задает первый символ в последовательных группах символов в текущем шрифте.

*нластчар*<br/>
Задает последний символ в последовательных группах символов в текущем шрифте.

*лпбуффер*<br/>
Указывает на буфер, который будет принимать значения ширины для последовательных групп символов в текущем шрифте.

*лпфлоатбуффер*<br/>
Указывает на буфер для получения ширины символов. Возвращаемые значения ширины находятся в 32-разрядном формате IEEE с плавающей запятой. (Ширина измеряется вдоль базовой строки символов.)

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Например, если *нфирстчар* определяет букву "a", а *нластчар* определяет букву "z", функция получает ширину всех символов нижнего регистра.

Функция сохраняет значения в буфере, на который указывает *лпбуффер*. Этот буфер должен быть достаточно большим, чтобы вместить все значения ширины. Это значит, что в указанном примере должно быть по крайней мере 26 записей.

Если символ в последовательной группе символов не существует в определенном шрифте, ему будет присвоено значение Width символа по умолчанию.

## <a name="cdcgetcharwidthi"></a><a name="getcharwidthi"></a>CDC:: Жетчарвидси

Получает значения ширины (в логических координатах) последовательных индексов глифов в указанном диапазоне из текущего шрифта.

```
BOOL GetCharWidthI(
    UINT giFirst,
    UINT cgi,
    LPWORD pgi,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>Параметры

*гифирст*<br/>
Задает первый индекс глифа в группе последовательных индексов глифов из текущего шрифта. Этот параметр используется только в том случае, если параметр *PGI* имеет значение null.

*содержал*<br/>
Указывает число индексов глифов.

*PGI*<br/>
Указатель на массив, содержащий индексы глифа. Если значение равно NULL, вместо него используется параметр *гифирст* . Параметр *CGI* указывает количество индексов глифов в этом массиве.

*лпбуффер*<br/>
Указатель на буфер, который получает ширину.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетчарвидси](/windows/win32/api/wingdi/nf-wingdi-getcharwidthi), как описано в Windows SDK.

## <a name="cdcgetclipbox"></a><a name="getclipbox"></a>CDC:: Жетклипбокс

Получает размеры ограничивающего прямоугольника вокруг текущей границы обрезки.

```
virtual int GetClipBox(LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) , предназначенный для получения размеров прямоугольника.

### <a name="return-value"></a>Возвращаемое значение

Тип области обрезки. В качестве такой точки может выступать любой из следующих вариантов:

- КОМПЛЕКСРЕГИОНная область обрезки содержит перекрывающиеся границы.

- Недопустимый контекст устройства с ошибкой.

- Пустая область отсечения НУЛЛРЕГИОН.

- СИМПЛЕРЕГИОНная область отсечения не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Измерения копируются в буфер, на который указывает *лпрект*.

## <a name="cdcgetcoloradjustment"></a><a name="getcoloradjustment"></a>CDC:: Жетколораджустмент

Получает значения коррекции цвета для контекста устройства.

```
BOOL GetColorAdjustment(LPCOLORADJUSTMENT lpColorAdjust) const;
```

### <a name="parameters"></a>Параметры

*лпколораджуст*<br/>
Указывает на структуру данных [колораджустмент](/windows/win32/api/wingdi/ns-wingdi-coloradjustment) для получения значений коррекции цвета.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

## <a name="cdcgetcurrentbitmap"></a><a name="getcurrentbitmap"></a>CDC:: Жеткуррентбитмап

Возвращает указатель на текущий выбранный `CBitmap` объект.

```
CBitmap* GetCurrentBitmap() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CBitmap` объект, если успешный; в противном случае — null.

### <a name="remarks"></a>Примечания

Эта функция члена может возвращать временные объекты.

## <a name="cdcgetcurrentbrush"></a><a name="getcurrentbrush"></a>CDC:: Жеткуррентбруш

Возвращает указатель на текущий выбранный `CBrush` объект.

```
CBrush* GetCurrentBrush() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CBrush` объект, если успешный; в противном случае — null.

### <a name="remarks"></a>Примечания

Эта функция члена может возвращать временные объекты.

## <a name="cdcgetcurrentfont"></a><a name="getcurrentfont"></a>CDC:: Жеткуррентфонт

Возвращает указатель на текущий выбранный `CFont` объект.

```
CFont* GetCurrentFont() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CFont` объект, если успешный; в противном случае — null.

### <a name="remarks"></a>Примечания

Эта функция члена может возвращать временные объекты.

## <a name="cdcgetcurrentpalette"></a><a name="getcurrentpalette"></a>CDC:: Жеткуррентпалетте

Возвращает указатель на текущий выбранный `CPalette` объект.

```
CPalette* GetCurrentPalette() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CPalette` объект, если успешный; в противном случае — null.

### <a name="remarks"></a>Примечания

Эта функция члена может возвращать временные объекты.

## <a name="cdcgetcurrentpen"></a><a name="getcurrentpen"></a>CDC:: Жеткуррентпен

Возвращает указатель на текущий выбранный `CPen` объект.

```
CPen* GetCurrentPen() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CPen` объект, если успешный; в противном случае — null.

### <a name="remarks"></a>Примечания

Эта функция члена может возвращать временные объекты.

## <a name="cdcgetcurrentposition"></a><a name="getcurrentposition"></a>CDC:: Жеткуррентпоситион

Возвращает текущую координату (в логических координатах).

```
CPoint GetCurrentPosition() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущее расположение как `CPoint` объект.

### <a name="remarks"></a>Примечания

Текущую точку можно задать с помощью `MoveTo` функции члена.

## <a name="cdcgetdcbrushcolor"></a><a name="getdcbrushcolor"></a>CDC:: Жетдкбрушколор

Получает текущий цвет кисти.

```
COLORREF GetDCBrushColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение является значением [COLORREF](/windows/win32/gdi/colorref) для текущего цвета кисти.

Если функция выполняется неудачно, возвращается значение CLR_INVALID.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетдкбрушколор](/windows/win32/api/wingdi/nf-wingdi-getdcbrushcolor), как описано в Windows SDK.

## <a name="cdcgetdcpencolor"></a><a name="getdcpencolor"></a>CDC:: Жетдкпенколор

Получает текущий цвет пера.

```
COLORREF GetDCPenColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение является значением [COLORREF](/windows/win32/gdi/colorref) для текущего цвета пера.

Если функция выполняется неудачно, возвращается значение CLR_INVALID.

### <a name="remarks"></a>Примечания

Эта функция члена использует функцию Win32 [жетдкпенколор](/windows/win32/api/wingdi/nf-wingdi-getdcpencolor), как описано в Windows SDK.

## <a name="cdcgetdevicecaps"></a><a name="getdevicecaps"></a>CDC:: Жетдевицекапс

Извлекает широкий спектр специфичных для устройства сведений об устройстве вывода.

```
int GetDeviceCaps(int nIndex) const;
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
Указывает тип возвращаемых данных. Список значений см. в разделе [жетдевицекапс](/windows/win32/api/wingdi/nf-wingdi-getdevicecaps) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Значение запрошенной возможности, если функция выполнена успешно.

### <a name="example"></a>Пример

  См. пример для [кпринтдиалог:: Default](../../mfc/reference/cprintdialog-class.md#getdefaults).

## <a name="cdcgetfontdata"></a><a name="getfontdata"></a>CDC:: Жетфонтдата

Получает сведения о метриках шрифта из масштабируемого файла шрифта.

```
DWORD GetFontData(
    DWORD dwTable,
    DWORD dwOffset,
    LPVOID lpData,
    DWORD cbData) const;
```

### <a name="parameters"></a>Параметры

*двтабле*<br/>
Указывает имя таблицы метрики, которая должна быть возвращена. Этот параметр может быть одной из таблиц метрик, задокументированных в спецификации файлов шрифтов TrueType, опубликованной корпорацией Майкрософт. Если этот параметр равен 0, то данные извлекаются начиная с начала файла шрифта.

*двоффсет*<br/>
Указывает смещение от начала таблицы, с которого начинается получение сведений. Если этот параметр равен 0, то данные извлекаются начиная с начала таблицы, указанной параметром *двтабле* . Если это значение больше или равно размеру таблицы, `GetFontData` возвращает 0.

*лпдата*<br/>
Указывает на буфер, который будет принимать сведения о шрифтах. Если это значение равно NULL, функция возвращает размер буфера, необходимого для данных шрифта, указанных в параметре *двтабле* .

*cbData*<br/>
Указывает длину извлекаемых данных в байтах. Если этот параметр равен 0, `GetFontData` возвращает размер данных, указанных в параметре *двтабле* .

### <a name="return-value"></a>Возвращаемое значение

Указывает число байтов, возвращенных в буфере, на который указывает *лпдата* , если функция выполнена успешно; в противном случае — 1.

### <a name="remarks"></a>Примечания

Сведения для извлечения определяются путем указания смещения в файле шрифта и длины возвращаемых данных.

Иногда приложение может использовать функцию- `GetFontData` член для сохранения шрифта TrueType с документом. Для этого приложение определяет, можно ли внедрить шрифт, а затем извлекает весь файл шрифта, указывая 0 для параметров *двтабле*, *двоффсет*и *cbData* .

Приложения могут определить, можно ли внедрить шрифт, проверив `otmfsType` элемент структуры [аутлинетекстметрик](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw) . Если задан бит 1 из `otmfsType` , встраивание для шрифта не разрешено. Если бит 1 снят, шрифт может быть внедрен. Если задан бит 2, то внедрение будет доступно только для чтения.

Если приложение пытается использовать эту функцию для получения сведений для шрифта, отличного от TrueType, `GetFontData` функция-член возвращает значение – 1.

## <a name="cdcgetfontlanguageinfo"></a><a name="getfontlanguageinfo"></a>CDC:: Жетфонтлангуажеинфо

Возвращает сведения о выбранном в данный момент шрифте для указанного контекста вывода.

```
DWORD GetFontLanguageInfo() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение определяет характеристики выбранного в данный момент шрифта. Полный список возможных значений см. в разделе [жетфонтлангуажеинфо](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo).

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жетфонтлангуажеинфо](/windows/win32/api/wingdi/nf-wingdi-getfontlanguageinfo), как описано в Windows SDK.

## <a name="cdcgetglyphoutline"></a><a name="getglyphoutline"></a>CDC:: Жетглифаутлине

Получает кривую или точечную карту для символа структуры в текущем шрифте.

```
DWORD GetGlyphOutline(
    UINT nChar,
    UINT nFormat,
    LPGLYPHMETRICS lpgm,
    DWORD cbBuffer,
    LPVOID lpBuffer,
    const MAT2* lpmat2) const;
```

### <a name="parameters"></a>Параметры

*nChar*<br/>
Указывает символ, для которого возвращаются сведения.

*нформат*<br/>
Указывает формат, в котором функция должна возвращать сведения. Может принимать одно из следующих значений или 0:

|Значение|Значение|
|-----------|-------------|
|GGO_BITMAP|Возвращает битовую карту глифа. Когда функция возвращает, буфер, на который указывает *лпбуффер* , содержит 1-разрядное битовое изображение, строки которого начинаются с границ даублеворд.|
|GGO_NATIVE|Возвращает точки данных кривой в собственном формате средства прорисовки, используя единицы измерения устройства. Если указано это значение, любое преобразование, указанное в *lpmat2* , игнорируется.|

Если значение *нформат* равно 0, функция заполняет структуру [глифметрикс](/windows/win32/api/wingdi/ns-wingdi-glyphmetrics) , но не возвращает данные структуры глифов.

*лпгм*<br/>
Указывает на структуру ГЛИФМЕТРИКС, описывающую размещение глифа в ячейке символов.

*кббуффер*<br/>
Задает размер буфера, в который функция копирует сведения о символе структуры. Если это значение равно 0, а параметр *нформат* — значение GGO_BITMAP или GGO_NATIVE, функция возвращает необходимый размер буфера.

*лпбуффер*<br/>
Указывает на буфер, в который функция копирует сведения о символе структуры. Если *нформат* указывает GGO_NATIVE значение, данные копируются в виде структур ТТПОЛИГОНХЕАДЕР и ттполикурве. Если это значение равно NULL и *нформат* имеет значение GGO_BITMAP или GGO_NATIVE, функция возвращает необходимый размер буфера.

*lpmat2*<br/>
Указывает на структуру [MAT2](/windows/win32/api/wingdi/ns-wingdi-mat2) , содержащую матрицу преобразования для символа. Этот параметр не может иметь значение NULL, даже если для *нформат*задано значение GGO_NATIVE.

### <a name="return-value"></a>Возвращаемое значение

Размер (в байтах) буфера, необходимого для получения данных, если *кббуффер* равен 0 или *лпбуффер* имеет значение null. В противном случае это положительное значение, если функция выполнена успешно, или значение-1, если возникает ошибка.

### <a name="remarks"></a>Примечания

Приложение может вращать символы, полученные в формате точечных рисунков, указывая матрицу преобразования 2 на 2 в структуре, на которую указывает *lpmat2*.

Структура глифа возвращается в виде последовательности контуров. Каждый профиль определяется структурой [ттполигонхеадер](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) , за которой следует столько же `TTPOLYCURVE` структур, сколько необходимо для их описания. Все точки возвращаются в виде структур [поинтфкс](/windows/win32/api/wingdi/ns-wingdi-pointfx) и представляют абсолютные позиции, а не относительные перемещения. Начальной точкой, заданной `pfxStart` элементом структуры [ттполигонхеадер](/windows/win32/api/wingdi/ns-wingdi-ttpolygonheader) , является точка, в которой начинается контур контура. Следующие структуры [ттполикурве](/windows/win32/api/wingdi/ns-wingdi-ttpolycurve) могут быть либо записями ломаных линий, либо записями сплайна. Записи ломаной линии — это ряд точек; линии, нарисованные между точками, описывают контур символа. Сплайновые записи представляют собой квадратичные кривые, используемые в TrueType (то есть в виде квадратичного b-сплайна).

## <a name="cdcgetgraphicsmode"></a><a name="getgraphicsmode"></a>CDC:: Жетграфиксмоде

Извлекает текущий графический режим для указанного контекста устройства.

```
int GetGraphicsMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращает текущий графический режим при успешном выполнении. Список значений, которые может вернуть этот метод, см. в разделе [жетграфиксмоде](/windows/win32/api/wingdi/nf-wingdi-getgraphicsmode).

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [жетграфиксмоде](/windows/win32/api/wingdi/nf-wingdi-getgraphicsmode).

## <a name="cdcgethalftonebrush"></a><a name="gethalftonebrush"></a>CDC:: Жесалфтонебруш

Вызовите эту функцию-член, чтобы получить полутоновую кисть.

```
static CBrush* PASCAL GetHalftoneBrush();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект в случае `CBrush` успеха; в противном случае — null.

### <a name="remarks"></a>Примечания

Полутоновая кисть показывает Пиксели, которые являются альтернативным цветом и цветами фона для создания узора. Ниже приведен пример такого узора, созданного полутоновой кистью.

![Сведения о штрихе сглаживающего пера](../../mfc/reference/media/vc318s1.gif "Сведения о штрихе сглаживающего пера")

## <a name="cdcgetkerningpairs"></a><a name="getkerningpairs"></a>CDC:: Жеткернингпаирс

Извлекает пары знаков кернинга для шрифта, выбранного в данный момент в указанном контексте устройства.

```
int GetKerningPairs(
    int nPairs,
    LPKERNINGPAIR lpkrnpair) const;
```

### <a name="parameters"></a>Параметры

*нпаирс*<br/>
Указывает число структур [кернингпаир](/windows/win32/api/wingdi/ns-wingdi-kerningpair) , на которые указывает *лпкрнпаир*. Функция не будет копировать больше пар кернинга, чем указано в *нпаирс*.

*лпкрнпаир*<br/>
Указывает на массив `KERNINGPAIR` структур, получающих пары кернинга при возврате функции. Этот массив должен содержать по меньшей мере столько структур, сколько указано в *нпаирс*. Если этот параметр имеет значение NULL, функция возвращает общее число пар кернинга для шрифта.

### <a name="return-value"></a>Возвращаемое значение

Указывает количество полученных пар кернинга или общее число пар кернинга в шрифте, если функция выполнена успешно. Ноль возвращается в случае сбоя функции или отсутствия пар кернинга для шрифта.

## <a name="cdcgetlayout"></a><a name="getlayout"></a>CDC:: AutoLayout

Вызовите эту функцию-член, чтобы определить макет текста и графики для контекста устройства, например принтера или метафайла.

```
DWORD GetLayout() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успеха флаги макета для текущего контекста устройства. В противном случае GDI_ERROR. Для получения расширенных сведений об ошибках вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror). Список флагов макета см. в разделе [CDC:: сетлайаут](#setlayout).

### <a name="remarks"></a>Примечания

Макет по умолчанию — слева направо.

## <a name="cdcgetmapmode"></a><a name="getmapmode"></a>CDC:: Жетмапмоде

Возвращает текущий режим сопоставления.

```
int GetMapMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Режим сопоставления.

### <a name="remarks"></a>Примечания

Описание режимов сопоставления см. в описании функции- `SetMapMode` члена.

> [!NOTE]
> При вызове [сетлайаут](#setlayout) для изменения макета контроллера домена на разметку справа налево `SetLayout` автоматически изменяет режим сопоставления на MM_ISOTROPIC. Следовательно, любой последующий вызов возвратит `GetMapMode` MM_ISOTROPIC.

## <a name="cdcgetmiterlimit"></a><a name="getmiterlimit"></a>CDC:: Жетмитерлимит

Возвращает предел среза для контекста устройства.

```
float GetMiterLimit() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Ограничение среза используется при рисовании геометрических линий, имеющих угловые соединения.

## <a name="cdcgetnearestcolor"></a><a name="getnearestcolor"></a>CDC:: Жетнеарестколор

Возвращает цвет сплошного цвета, который наилучшим образом соответствует заданному логическому цвету.

```
COLORREF GetNearestColor(COLORREF crColor) const;
```

### <a name="parameters"></a>Параметры

*крколор*<br/>
Задает цвет для сопоставления.

### <a name="return-value"></a>Возвращаемое значение

Значение цвета RGB (красный, зеленый, синий), которое определяет сплошной цвет, ближайший к значению *крколор* , которое может представлять устройство.

### <a name="remarks"></a>Примечания

Данное устройство должно иметь возможность представлять этот цвет.

## <a name="cdcgetoutlinetextmetrics"></a><a name="getoutlinetextmetrics"></a>CDC:: Жетаутлинетекстметрикс

Извлекает сведения о метриках для шрифтов TrueType.

```
UINT GetOutlineTextMetrics(
    UINT cbData,
    LPOUTLINETEXTMETRIC lpotm) const;
```

### <a name="parameters"></a>Параметры

*лпотм*<br/>
Указывает на массив структур [аутлинетекстметрик](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw) . Если этот параметр имеет значение NULL, функция возвращает размер буфера, необходимого для полученных данных метрики.

*cbData*<br/>
Указывает размер (в байтах) буфера, в который возвращаются сведения.

*лпотм*<br/>
Указывает на `OUTLINETEXTMETRIC` структуру. Если этот параметр имеет значение NULL, функция возвращает размер буфера, необходимого для получения сведений о метрике.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Структура [аутлинетекстметрик](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetricw) содержит большую часть сведений о метрике шрифта, предоставляемых в формате TrueType, включая структуру [текстметрик](/windows/win32/api/wingdi/ns-wingdi-textmetricw) . Последние четыре элемента `OUTLINETEXTMETRIC` структуры являются указателями на строки. Приложения должны выделить место для этих строк в дополнение к пространству, требуемому для других элементов. Поскольку ограничение на размер строк не ограничено, простейшим методом выделения памяти является получение требуемого размера путем указания значения NULL для *лпотм* при первом вызове `GetOutlineTextMetrics` функции.

## <a name="cdcgetoutputcharwidth"></a><a name="getoutputcharwidth"></a>CDC:: Жетаутпутчарвидс

Использует контекст устройства вывода, `m_hDC` и получает ширину отдельных символов в последовательных группах символов из текущего шрифта.

```
BOOL GetOutputCharWidth(
    UINT nFirstChar,
    UINT nLastChar,
    LPINT lpBuffer) const;
```

### <a name="parameters"></a>Параметры

*нфирстчар*<br/>
Задает первый символ в последовательных группах символов в текущем шрифте.

*нластчар*<br/>
Задает последний символ в последовательных группах символов в текущем шрифте.

*лпбуффер*<br/>
Указывает на буфер, который будет принимать значения ширины для последовательных групп символов в текущем шрифте.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Например, если *нфирстчар* определяет букву "a", а *нластчар* определяет букву "z", функция получает ширину всех символов нижнего регистра.

Функция сохраняет значения в буфере, на который указывает *лпбуффер*. Этот буфер должен быть достаточно большим, чтобы вместить все значения ширины. Это значит, что в указанном примере должно быть по крайней мере 26 записей.

Если символ в последовательной группе символов не существует в определенном шрифте, ему будет присвоено значение Width символа по умолчанию.

## <a name="cdcgetoutputtabbedtextextent"></a><a name="getoutputtabbedtextextent"></a>CDC:: Жетаутпуттаббедтекстекстент

Вызовите эту функцию-член, чтобы вычислить ширину и высоту символьной строки с помощью [m_hDC](#m_hdc), контекста выходного устройства.

```
CSize GetOutputTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetOutputTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на строку символов для измерения. Для этого параметра также можно передать объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

*нкаунт*<br/>
Задает [длину строки](/windows/win32/gdi/specifying-length-of-text-output-string) , на которую указывает *лпсзстринг*.

*нтабпоситионс*<br/>
Указывает количество позиций табуляции в массиве, на которое указывает *лпнтабстоппоситионс*.

*лпнтабстоппоситионс*<br/>
Указывает на массив целых чисел, содержащий позиции табуляции в логических единицах. Позиции табуляции должны быть отсортированы в порядке возрастания. наименьшее значение x должно быть первым элементом в массиве. Вкладки "назад" не допускаются.

*str*<br/>
`CString`Объект, содержащий указанные символы для измерения.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в объекте [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Если строка содержит один или несколько символов табуляции, ширина строки основывается на позициях табуляции, заданных параметром *лпнтабстоппоситионс*. Функция использует выбранный в настоящий момент шрифт для вычислить размеры строки.

Текущая область отсечения не смещает ширину и высоту, возвращаемые `GetOutputTabbedTextExtent` функцией.

Так как некоторые устройства не размещают символы в обычных массивах ячеек (то есть они являются кернингом символов), сумма экстентов символов в строке может не совпадать с экстентом строки.

Если *нтабпоситионс* равен 0, а *лпнтабстоппоситионс* имеет значение null, то символы табуляции разворачиваются до восьми средних значений ширины символов. Если *нтабпоситионс* имеет значение 1, то позиции табуляции будут разделены расстоянием, заданным первым значением в массиве, на который указывает *лпнтабстоппоситионс* . Если *лпнтабстоппоситионс* указывает на более одного значения, для каждого значения в массиве задается позиция табуляции вплоть до числа, заданного параметром *нтабпоситионс*.

## <a name="cdcgetoutputtextextent"></a><a name="getoutputtextextent"></a>CDC:: Жетаутпуттекстекстент

Вызовите эту функцию-член, чтобы использовать выходной контекст устройства, [m_hDC](#m_hdc)и вычисляя ширину и высоту строки текста, используя текущий шрифт.

```
CSize GetOutputTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetOutputTextExtent(const CString& str) const;
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на строку символов. Для этого параметра также можно передать объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

*нкаунт*<br/>
Задает [длину строки](/windows/win32/gdi/specifying-length-of-text-output-string) , на которую указывает *лпсзстринг*.

*str*<br/>
`CString`Объект, содержащий указанные символы для измерения.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах), возвращаемые в объекте [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Текущая область отсечения не влияет на ширину и высоту, возвращаемые `GetOutputTextExtent` .

Поскольку некоторые устройства не размещают символы в обычных массивах ячеек (то есть они выполняют кернинг), сумма экстентов символов в строке может не совпадать с экстентом строки.

## <a name="cdcgetoutputtextmetrics"></a><a name="getoutputtextmetrics"></a>CDC:: Жетаутпуттекстметрикс

Извлекает метрики для текущего шрифта `m_hDC` , используя, контекст устройства вывода.

```
BOOL GetOutputTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>Параметры

*лпметрикс*<br/>
Указывает на структуру [текстметрик](/windows/win32/api/wingdi/ns-wingdi-textmetricw) , которая получает метрики.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

## <a name="cdcgetpath"></a><a name="getpath"></a>CDC:: путь

Получает координаты, определяющие конечные точки линий и контрольные точки кривых, обнаруженные в пути, выбранном в контексте устройства.

```
int GetPath(
    LPPOINT lpPoints,
    LPBYTE lpTypes,
    int nCount) const;
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур данных [Point](/windows/win32/api/windef/ns-windef-point) или объектов, `CPoint` где размещаются конечные точки линии и контрольные точки кривой.

*лптипес*<br/>
Указывает на массив байтов, в который помещаются типы вершин. Значения могут быть одним из следующих:

- PT_MOVETO указывает, что соответствующая точка в *лппоинтс* запускает несвязанную фигуру.

- PT_LINETO Указывает, что Предыдущая точка и соответствующая точка в *лппоинтс* являются конечными точками линии.

- PT_BEZIERTO Указывает, что соответствующая точка в *лппоинтс* является контрольной точкой или конечной точкой для кривой бзиер.

Типы PT_BEZIERTO всегда встречаются в наборах из трех. Точка в пути, непосредственно предшествующая им, определяет начальную точку кривой Бзиер. Первые две точки PT_BEZIERTO являются контрольными точками, а третья точка PT_BEZIERTO является конечной точкой (если жестко запрограммирована).

   Тип PT_LINETO или PT_BEZIERTO можно объединить со следующим флагом (с помощью побитового оператора **или**), чтобы указать, что соответствующая точка является последней точкой в фигуре и что фигуру следует закрыть:

- PT_CLOSEFIGURE Указывает, что фигура автоматически закрывается после прорисовки соответствующей линии или кривой. Фигура закрывается путем рисования линии из конечной точки линии или кривой до точки, соответствующей последней PT_MOVETO.

*нкаунт*<br/>
Указывает общее количество структур данных [точки](/windows/win32/api/windef/ns-windef-point) , которые могут быть помещены в массив *лппоинтс* . Это значение должно совпадать с числом байтов, которые могут быть помещены в массив *лптипес* .

### <a name="return-value"></a>Возвращаемое значение

Если параметр *нкаунт* имеет ненулевое значение, число перечисленных точек. Если *нкаунт* имеет значение 0, общее число точек в пути (и запись данных в `GetPath` буферы не производится). Если *нкаунт* не равно нулю и меньше числа точек в пути, возвращаемое значение равно-1.

### <a name="remarks"></a>Примечания

Контекст устройства должен содержать закрытый путь. Точки пути возвращаются в логических координатах. Точки хранятся по пути в координатах устройства, поэтому `GetPath` изменяет точки из координат устройства на логические координаты с помощью обратного текущего преобразования. `FlattenPath`Функцию члена можно вызвать до `GetPath` , чтобы преобразовать все кривые в контуре в сегменты линии.

### <a name="example"></a>Пример

  См. пример для [CDC:: бегинпас](#beginpath).

## <a name="cdcgetpixel"></a><a name="getpixel"></a>CDC:: с точкой

Извлекает значение цвета RGB пикселя в точке, заданной *x* и *y*.

```
COLORREF GetPixel(
    int x,
    int y) const;

COLORREF GetPixel(POINT point) const;
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x проверяемой точки.

*&*<br/>
Задает логическую координату y проверяемой точки.

*точки*<br/>
Задает логические координаты x и y проверяемой точки.

### <a name="return-value"></a>Возвращаемое значение

Для любой версии функции — значение цвета RGB для цвета данной точки. Значение-1, если координаты не указывают точку в вырезанной области.

### <a name="remarks"></a>Примечания

Точка должна находиться в области отсечения. Если точка не находится в вырезанной области, функция не имеет результата и возвращает значение-1.

Не все устройства поддерживают функцию `GetPixel`. Дополнительные сведения см. в разделе RC_BITBLT растровая возможность в функции члена [жетдевицекапс](#getdevicecaps) .

`GetPixel`Функция члена имеет две формы. Первый принимает два значения координат; второй принимает либо структуру [Point](/windows/win32/api/windef/ns-windef-point) , либо объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

## <a name="cdcgetpolyfillmode"></a><a name="getpolyfillmode"></a>CDC:: Жетполифиллмоде

Извлекает текущий режим заполнения многоугольников.

```
int GetPolyFillMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий режим заливки многоугольника, АЛЬТЕРНАТИВный или ОБМОТКа, если функция выполнена успешно.

### <a name="remarks"></a>Примечания

`SetPolyFillMode`Описание режимов заливки многоугольников см. в функции-члене.

## <a name="cdcgetrop2"></a><a name="getrop2"></a>CDC:: GetROP2

Извлекает текущий режим рисования.

```
int GetROP2() const;
```

### <a name="return-value"></a>Возвращаемое значение

Режим рисования. Список значений режима рисования см. в описании функции- `SetROP2` члена.

### <a name="remarks"></a>Примечания

Режим рисования определяет, как цвета пера и внутренней заливки объектов объединяются с цветом, который уже находится на поверхности отображения.

## <a name="cdcgetsafehdc"></a><a name="getsafehdc"></a>CDC:: Жетсафехдк

Вызовите эту функцию члена, чтобы получить [m_hDC](#m_hdc)контекста выходного устройства.

```
HDC GetSafeHdc() const;
```

### <a name="return-value"></a>Возвращаемое значение

Маркер контекста устройства.

### <a name="remarks"></a>Примечания

Эта функция – член также работает со пустыми указателями.

## <a name="cdcgetstretchbltmode"></a><a name="getstretchbltmode"></a>CDC:: Жетстретчблтмоде

Извлекает текущий режим растяжения растрового изображения.

```
int GetStretchBltMode() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение указывает текущий режим растяжения по точечному рисунку: STRETCH_ANDSCANS, STRETCH_DELETESCANS или STRETCH_ORSCANS —, если функция выполнена успешно.

### <a name="remarks"></a>Примечания

Режим растяжения по точечному рисунку определяет способ удаления информации из растровых изображений, которые растягиваются или сжимаются `StretchBlt` функцией-членом.

Режимы STRETCH_ANDSCANS и STRETCH_ORSCANS обычно используются для сохранения пикселов переднего плана в монохромных точечных рисунках. Режим STRETCH_DELETESCANS обычно используется для сохранения цвета в точечных рисунках цвета.

## <a name="cdcgettabbedtextextent"></a><a name="gettabbedtextextent"></a>CDC:: Жеттаббедтекстекстент

Вызовите эту функцию-член, чтобы вычислить ширину и высоту символьной строки с помощью [m_hAttribDC](#m_hattribdc), контекста устройства атрибута.

```
CSize GetTabbedTextExtent(
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;

CSize GetTabbedTextExtent(
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions) const;
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на строку символов. Для этого параметра также можно передать объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

*нкаунт*<br/>
Задает [длину строки](/windows/win32/gdi/specifying-length-of-text-output-string) , на которую указывает *лпсзстринг*.

*нтабпоситионс*<br/>
Указывает количество позиций табуляции в массиве, на которое указывает *лпнтабстоппоситионс*.

*лпнтабстоппоситионс*<br/>
Указывает на массив целых чисел, содержащий позиции табуляции в логических единицах. Позиции табуляции должны быть отсортированы в порядке возрастания. наименьшее значение x должно быть первым элементом в массиве. Вкладки "назад" не допускаются.

*str*<br/>
`CString`Объект, содержащий указанные символы для рисования.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в объекте [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Если строка содержит один или несколько символов табуляции, ширина строки основывается на позициях табуляции, заданных параметром *лпнтабстоппоситионс*. Функция использует выбранный в настоящий момент шрифт для вычислить размеры строки.

Текущая область отсечения не смещает ширину и высоту, возвращаемые `GetTabbedTextExtent` функцией.

Так как некоторые устройства не размещают символы в обычных массивах ячеек (то есть они являются кернингом символов), сумма экстентов символов в строке может не совпадать с экстентом строки.

Если *нтабпоситионс* равен 0, а *лпнтабстоппоситионс* имеет значение null, то символы табуляции разворачиваются в восемь раз в среднем значении ширины символа. Если *нтабпоситионс* имеет значение 1, то позиции табуляции будут разделены расстоянием, заданным первым значением в массиве, на который указывает *лпнтабстоппоситионс* . Если *лпнтабстоппоситионс* указывает на более одного значения, для каждого значения в массиве задается позиция табуляции вплоть до числа, заданного параметром *нтабпоситионс*.

## <a name="cdcgettextalign"></a><a name="gettextalign"></a>CDC:: Жеттексталигн

Получает состояние флагов выравнивания текста для контекста устройства.

```
UINT GetTextAlign() const;
```

### <a name="return-value"></a>Возвращаемое значение

Состояние флагов выравнивания текста. Возвращаемое значение — одно или несколько из следующих значений:

- TA_BASELINE задает выравнивание по оси x и базовой линии выбранного шрифта в ограничивающем прямоугольнике.

- TA_BOTTOM Задает выравнивание по оси x и нижней границе ограничивающего прямоугольника.

- TA_CENTER задает выравнивание по оси y и центру ограничивающего прямоугольника.

- TA_LEFT Задает выравнивание по оси y и левой стороне ограничивающего прямоугольника.

- TA_NOUPDATECP указывает, что текущая разместите не обновляется.

- TA_RIGHT задает выравнивание по оси y и правому краю ограничивающего прямоугольника.

- TA_TOP Задает выравнивание по оси x и верхней части ограничивающего прямоугольника.

- TA_UPDATECP указывает, что текущее расположение Обновлено.

### <a name="remarks"></a>Примечания

Флаги выравнивания текста определяют, как `TextOut` `ExtTextOut` функции-члены и выравнивать строку текста относительно начальной точки строки. Флаги выравнивания текста не обязательно являются одиночными битовыми флагами и могут быть равны 0. Чтобы проверить, установлен ли флаг, приложение должно выполнить следующие действия:

1. Примените оператор побитового или к флагу и связанным с ним флагам, сгруппированным следующим образом:

   - TA_LEFT, TA_CENTER и TA_RIGHT

   - TA_BASELINE, TA_BOTTOM и TA_TOP

   - TA_NOUPDATECP и TA_UPDATECP

1. Примените оператор побитового и к результату и возвращаемое значение `GetTextAlign` .

1. Проверка на равенство этого результата и флага.

## <a name="cdcgettextcharacterextra"></a><a name="gettextcharacterextra"></a>CDC:: Жеттекстчарактерекстра

Извлекает текущее значение для интервала между символами.

```
int GetTextCharacterExtra() const;
```

### <a name="return-value"></a>Возвращаемое значение

Величина интервала между символами.

### <a name="remarks"></a>Примечания

GDI добавляет этот интервал к каждому символу, включая символы разрыва, при записи строки текста в контекст устройства.

Значение по умолчанию для интервала между символами равно 0.

## <a name="cdcgettextcolor"></a><a name="gettextcolor"></a>CDC:: Жеттекстколор

Извлекает текущий цвет текста.

```
COLORREF GetTextColor() const;
```

### <a name="return-value"></a>Возвращаемое значение

Текущий цвет текста в виде значения цвета RGB.

### <a name="remarks"></a>Примечания

Цвет текста — это цвет переднего плана символов, нарисованных с [помощью функций-членов текстового интерфейса](#textout)GDI, [ExtTextOut](#exttextout)и [таббедтекстаут](#tabbedtextout).

## <a name="cdcgettextextent"></a><a name="gettextextent"></a>CDC:: Жеттекстекстент

Вызовите эту функцию-член, чтобы вычислить ширину и высоту строки текста, используя текущий шрифт для определения измерений.

```
CSize GetTextExtent(
    LPCTSTR lpszString,
    int nCount) const;

CSize GetTextExtent(const CString& str) const;
```

### <a name="parameters"></a>Параметры

*лпсзстринг*<br/>
Указывает на строку символов. Для этого параметра также можно передать объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

*нкаунт*<br/>
Указывает количество знаков в строке.

*str*<br/>
`CString`Объект, содержащий указанные символы.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в объекте [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Сведения извлекаются из [m_hAttribDC](#m_hattribdc), контекста устройства атрибута.

По умолчанию `GetTextExtent` предполагается, что текст, для которого извлекается измерение, задается вдоль горизонтальной линии (то есть escape-символ равен 0). При создании шрифта, указывающего на ненулевую escape-последовательность, необходимо явно преобразовать угол текста, чтобы получить размеры строки.

Текущая область отсечения не влияет на ширину и высоту, возвращаемые `GetTextExtent` .

Поскольку некоторые устройства не размещают символы в обычных массивах ячеек (то есть они выполняют кернинг), сумма экстентов символов в строке может не совпадать с экстентом строки.

## <a name="cdcgettextextentexpointi"></a><a name="gettextextentexpointi"></a>CDC:: Жеттекстекстентекспоинти

Извлекает количество символов в указанной строке, которые помещаются в указанном пространстве, и заполняет массив строкой текста для каждого из этих символов.

```
BOOL GetTextExtentExPointI(
    LPWORD pgiIn,
    int cgi,
    int nMaxExtent,
    LPINT lpnFit,
    LPINT alpDx,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*пгиин*<br/>
Указатель на массив индексов глифов, для которого необходимо извлечь экстенты.

*содержал*<br/>
Указывает количество глифов в массиве, на которое указывает *пгиин*.

*нмаксекстент*<br/>
Задает максимально допустимую ширину форматируемой строки в логических единицах.

*лпнфит*<br/>
Указатель на целое число, которое получает число символов, которые будут помещаться в пространство, заданное параметром *нмаксекстент*. Если *лпнфит* имеет значение null, *нмаксекстент* игнорируется.

*алпдкс*<br/>
Указатель на массив целых чисел, который получает частичные экстенты глифов. Каждый элемент массива предоставляет расстояние в логических единицах между началом массива индексов глифов и одним из глифов, которые помещаются в пространство, заданное параметром *нмаксекстент*. Хотя в этом массиве должно быть как минимум столько же элементов, сколько индексов глифов, заданных в *CGI*, функция заполняет массив экстентами только количеством индексов глифов, заданных параметром *лпнфит*. Если *лпндкс* имеет значение null, функция не выдает вычисление частичной ширины строки.

*лпсизе*<br/>
Указатель на структуру [размера](/windows/win32/api/windef/ns-windef-size) , которая получает размеры массива индексов глифов в логических единицах. Это значение не может быть равно NULL.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жеттекстекстентекспоинти](/windows/win32/api/wingdi/nf-wingdi-gettextextentexpointi), как описано в Windows SDK.

## <a name="cdcgettextextentpointi"></a><a name="gettextextentpointi"></a>CDC:: Жеттекстекстентпоинти

Получает ширину и высоту указанного массива индексов глифа.

```
BOOL GetTextExtentPointI(
    LPWORD pgiIn,
    int cgi,
    LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*пгиин*<br/>
Указатель на массив индексов глифов, для которого необходимо извлечь экстенты.

*содержал*<br/>
Указывает количество глифов в массиве, на которое указывает *пгиин*.

*лпсизе*<br/>
Указатель на структуру [размера](/windows/win32/api/windef/ns-windef-size) , которая получает размеры массива индексов глифов в логических единицах. Это значение не может быть равно NULL.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена эмулирует функциональность функции [жеттекстекстентпоинти](/windows/win32/api/wingdi/nf-wingdi-gettextextentpointi), как описано в Windows SDK.

## <a name="cdcgettextface"></a><a name="gettextface"></a>CDC:: Жеттекстфаце

Вызовите эту функцию-член, чтобы скопировать имя гарнитуры текущего шрифта в буфер.

```
int GetTextFace(
    int nCount,
    LPTSTR lpszFacename) const;

int GetTextFace(CString& rString) const;
```

### <a name="parameters"></a>Параметры

*нкаунт*<br/>
Задает размер буфера (в байтах). Если имя гарнитуры длиннее, чем число байтов, указанное этим параметром, имя усекается.

*lpszFacename*<br/>
Указывает на буфер для имени гарнитуры.

*rStr*<br/>
Ссылка на объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

### <a name="return-value"></a>Возвращаемое значение

Число байтов, скопированных в буфер, не включая завершающий символ null. Если возникает ошибка, он равен 0.

### <a name="remarks"></a>Примечания

Имя гарнитуры копируется как строка, завершающаяся нулем.

## <a name="cdcgettextmetrics"></a><a name="gettextmetrics"></a>CDC:: Жеттекстметрикс

Извлекает метрики для текущего шрифта с помощью контекста устройства атрибута.

```
BOOL GetTextMetrics(LPTEXTMETRIC lpMetrics) const;
```

### <a name="parameters"></a>Параметры

*лпметрикс*<br/>
Указывает на структуру [текстметрик](/windows/win32/api/wingdi/ns-wingdi-textmetricw) , которая получает метрики.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

## <a name="cdcgetviewportext"></a><a name="getviewportext"></a>CDC:: Жетвиевпортекст

Извлекает экстенты x и y окна просмотра контекста устройства.

```
CSize GetViewportExt() const;
```

### <a name="return-value"></a>Возвращаемое значение

Экстенты x и y (в единицах устройства) в виде `CSize` объекта.

## <a name="cdcgetviewportorg"></a><a name="getviewportorg"></a>CDC:: Жетвиевпорторг

Извлекает координаты x и y источника окна просмотра, связанного с контекстом устройства.

```
CPoint GetViewportOrg() const;
```

### <a name="return-value"></a>Возвращаемое значение

Источник окна просмотра (в координатах устройства) в виде `CPoint` объекта.

## <a name="cdcgetwindow"></a><a name="getwindow"></a>CDC::/Window

Возвращает окно, связанное с контекстом дисплея устройства.

```
CWnd* GetWindow() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект в случае `CWnd` успеха; в противном случае — null.

### <a name="remarks"></a>Примечания

Это расширенная функция. Например, эта функция элемента может не возвращать окно представления при печати или в режиме предварительного просмотра. Он всегда возвращает окно, связанное с выходными данными. Выходные функции, использующие данный контроллер домена, рисуются в этом окне.

## <a name="cdcgetwindowext"></a><a name="getwindowext"></a>CDC:: Жетвиндовекст

Получает экстенты x и y окна, связанного с контекстом устройства.

```
CSize GetWindowExt() const;
```

### <a name="return-value"></a>Возвращаемое значение

Экстенты x и y (в логических единицах) в виде `CSize` объекта.

## <a name="cdcgetwindoworg"></a><a name="getwindoworg"></a>CDC:: Жетвиндоворг

Получает координаты x и y источника окна, связанного с контекстом устройства.

```
CPoint GetWindowOrg() const;
```

### <a name="return-value"></a>Возвращаемое значение

Источник окна (в логических координатах) в виде `CPoint` объекта.

## <a name="cdcgetworldtransform"></a><a name="getworldtransform"></a>CDC:: Жетворлдтрансформ

Извлекает текущее мировое пространство для преобразования страничного пространства.

```
BOOL GetWorldTransform(XFORM& rXform) const;
```

### <a name="parameters"></a>Параметры

*рксформ*<br/>
Ссылка на структуру [XForm](/windows/win32/api/wingdi/ns-wingdi-xform) , которая получает текущее мировое пространство для преобразования страничного пространства.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение в случае успешного выполнения.

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [жетворлдтрансформ](/windows/win32/api/wingdi/nf-wingdi-getworldtransform).

## <a name="cdcgradientfill"></a><a name="gradientfill"></a>CDC:: Градиентфилл

Вызовите эту функцию члена для заполнения структур прямоугольника и треугольника цветом, который плавно исчезает с одной стороны на другую.

```
BOOL GradientFill(
    TRIVERTEX* pVertices,
    ULONG nVertices,
    void* pMesh,
    ULONG nMeshElements,
    DWORD dwMode);
```

### <a name="parameters"></a>Параметры

*пвертицес*<br/>
Указатель на массив структур [тривертекс](/windows/win32/api/wingdi/ns-wingdi-trivertex) , каждый из которых определяет вершину треугольника.

*нвертицес*<br/>
Число вершин.

*пмеш*<br/>
Массив структур [GRADIENT_TRIANGLE](/windows/win32/api/wingdi/ns-wingdi-gradient_triangle) в режиме треугольника или массив структур [GRADIENT_RECT](/windows/win32/api/wingdi/ns-wingdi-gradient_rect) в режиме прямоугольника.

*нмешелементс*<br/>
Число элементов (треугольников или прямоугольников) в *пмеш*.

*двмоде*<br/>
Задает режим градиентной заливки. Список возможных значений см. в разделе [градиентфилл](/windows/win32/api/wingdi/nf-wingdi-gradientfill) в Windows SDK.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

Дополнительные сведения см `GradientFill` . в разделе Windows SDK.

## <a name="cdcgraystring"></a><a name="graystring"></a>CDC:: Грайстринг

Рисует затемненный (серый) текст в заданном расположении, записывая текст в точечный рисунок памяти, затемнение растрового изображения и последующее копирование растрового изображения на экран.

```
virtual BOOL GrayString(
    CBrush* pBrush,
    BOOL (CALLBACK* lpfnOutput)(
    HDC,
    LPARAM,
    int),
    LPARAM lpData,
    int nCount,
    int x,
    int y,
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*пбруш*<br/>
Определяет кисть, используемую для затемнения (серым цветом).

*лпфнаутпут*<br/>
Указывает адрес процедуры-экземпляра функции обратного вызова, предоставляемой приложением, которая будет рисовать строку. Дополнительные сведения см. в описании `OutputFunc` [функции обратного вызова](callback-functions-used-by-mfc.md#graystring)Windows. Если этот параметр имеет значение NULL, система использует функцию Windows `TextOut` для рисования строки, а *лпдата* считается длинным указателем на строку символов для вывода.

*лпдата*<br/>
Указывает дальнего указателя на данные, передаваемые в выходную функцию. Если *лпфнаутпут* имеет значение null, *лпдата* должен быть длинным указателем на строку для вывода.

*нкаунт*<br/>
Указывает количество символов для вывода. Если этот параметр равен 0, `GrayString` вычисляет длину строки (предполагая, что *лпдата* является указателем на строку). Если *нкаунт* имеет значение 1, а функция, на которую указывает *лпфнаутпут* , возвращает 0, изображение отображается, но недоступно.

*x*<br/>
Задает логическую координату x начального положения прямоугольника, охватывающего строку.

*&*<br/>
Задает логическую координату y начального положения прямоугольника, охватывающего строку.

*нвидс*<br/>
Задает ширину (в логических единицах) прямоугольника, охватывающего строку. Если *нвидс* равен 0, `GrayString` вычисляет ширину области, предполагая, что *лпдата* является указателем на строку.

*нхеигхт*<br/>
Задает высоту (в логических единицах) прямоугольника, охватывающего строку. Если *нхеигхт* равен 0, `GrayString` вычисляет высоту области, предполагая, что *лпдата* является указателем на строку.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если строка рисуется, или значение 0 `TextOut` , если функция или предоставляемая приложением функция вывода вернула 0, или если недостаточно памяти для создания точечного рисунка памяти для затемнения.

### <a name="remarks"></a>Примечания

Функция затемняет текст, независимо от выбранной кисти и фона. `GrayString`Функция члена использует текущий выбранный шрифт. Перед использованием этой функции необходимо выбрать режим сопоставления MM_TEXT.

Приложение может рисовать затемненные (серые) строки на устройствах, поддерживающих сплошной серый цвет, без вызова `GrayString` функции-члена. Системный цвет COLOR_GRAYTEXT является сплошным серым цветом системы, используемым для рисования отключенного текста. Приложение может вызвать `GetSysColor` функцию Windows для получения значения цвета COLOR_GRAYTEXT. Если цвет отличается от 0 (черный), приложение может вызвать функцию-член, `SetTextColor` чтобы установить цвет текста на значение цвета, а затем нарисовать строку напрямую. Если полученный цвет является черным, приложение должно вызвать `GrayString` выделенный текст как Dim (серый).

Если *лпфнаутпут* имеет значение null, GDI использует функцию [текста](/windows/win32/api/wingdi/nf-wingdi-textoutw) Windows, а *лпдата* — в качестве дальнего указателя на символ для вывода. Если выводимые символы не могут обрабатываться `TextOut` функцией-членом (например, строка хранится в виде точечного рисунка), приложение должно предоставить собственную выходную функцию.

Также обратите внимание, что все функции обратного вызова должны перехватывать исключения Microsoft Foundation перед возвратом в Windows, так как исключения не могут быть вызваны через границы обратного вызова. Дополнительные сведения об исключениях см. в статье [исключения](../../mfc/exception-handling-in-mfc.md).

Функция обратного вызова, передаваемая в, `GrayString` должна использовать **`__stdcall`** соглашение о вызовах и должна быть экспортирована с помощью **`__declspec`** .

Если платформа находится в режиме предварительного просмотра, вызов `GrayString` функции-члена преобразуется в `TextOut` вызов, а функция обратного вызова не вызывается.

## <a name="cdchimetrictodp"></a><a name="himetrictodp"></a>CDC:: Химетриктодп

Используйте эту функцию при преобразовании размеров HIMETRIC из OLE в пиксели.

```cpp
void HIMETRICtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*лпсизе*<br/>
Указывает на структуру [размера](/windows/win32/api/windef/ns-windef-size) или объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Если режим сопоставления объекта контекста устройства имеет значение MM_LOENGLISH, MM_HIENGLISH, MM_LOMETRIC или MM_HIMETRIC, то преобразование основано на количестве пикселей в физическом дюйме. Если режим сопоставления является одним из других режимов без ограничений (например, MM_TEXT), то преобразование основано на количестве пикселей в логическом дюйме.

## <a name="cdchimetrictolp"></a><a name="himetrictolp"></a>CDC:: Химетриктолп

Вызовите эту функцию, чтобы преобразовать HIMETRIC единицы в логические единицы.

```cpp
void HIMETRICtoLP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*лпсизе*<br/>
Указывает на структуру [размера](/windows/win32/api/windef/ns-windef-size) или объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Используйте эту функцию при получении HIMETRIC размеров из OLE и необходимости преобразовать их в режим естественного сопоставления приложения.

Преобразование достигается путем предварительного преобразования HIMETRIC единиц в Пиксели и последующего преобразования этих единиц в логические единицы с помощью текущих единиц сопоставления в контексте устройства. Обратите внимание, что экстенты окна устройства и окна просмотра будут влиять на результат.

## <a name="cdcintersectcliprect"></a><a name="intersectcliprect"></a>CDC:: Интерсектклипрект

Создает новую область отсечения, формируя пересечение текущей области и прямоугольника, заданного *x1*, *Y1*, *x2*и *Y2*.

```
int IntersectClipRect(
    int x1,
    int y1,
    int x2,
    int y2);

int IntersectClipRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает логическую координату по оси x верхнего левого угла прямоугольника.

*Y1*<br/>
Задает логическую координату по оси y верхнего левого угла прямоугольника.

*штук*<br/>
Задает логическую координату по оси x правого нижнего угла прямоугольника.

*Y2*<br/>
Задает логическую координату по оси y правого нижнего угла прямоугольника.

*лпрект*<br/>
Задает прямоугольник. `CRect`Для этого параметра можно передать либо объект, либо указатель на `RECT` структуру.

### <a name="return-value"></a>Возвращаемое значение

Тип новой области отсечения. Это может быть одно из следующих значений:

- КОМПЛЕКСРЕГИОН Новая область отсечения содержит перекрывающиеся границы.

- Недопустимый контекст устройства с ошибкой.

- НУЛЛРЕГИОН Новая область отсечения пуста.

- СИМПЛЕРЕГИОН Новая область обрезки не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

GDI обрезает все последующие выходные данные в соответствии с новой границей. Ширина и высота не должны превышать 32 767.

## <a name="cdcinvertrect"></a><a name="invertrect"></a>CDC:: Инвертрект

Инвертирует содержимое данного прямоугольника.

```cpp
void InvertRect(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на объект `RECT` , содержащий логические координаты прямоугольника для инвертирования. Также можно передать `CRect` объект для этого параметра.

### <a name="remarks"></a>Примечания

Инверсия — это логическая операция NOT, которая отражает биты каждого пикселя. При отображении монохромных экранов функция делает белые Пиксели черными и черными пикселами белым цветом. При отображении цвета инверсия зависит от того, как создаются цвета для отображения. `InvertRect`При двойном вызове с тем же прямоугольником монитор восстанавливает предыдущие цвета.

Если прямоугольник пуст, ничего не рисуется.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#36](../../mfc/codesnippet/cpp/cdc-class_8.cpp)]

## <a name="cdcinvertrgn"></a><a name="invertrgn"></a>CDC:: Инвертргн

Инвертирует цвета в регионе, заданном параметром *пргн*.

```
BOOL InvertRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Определяет область для инвертирования. Координаты региона указываются в логических единицах.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

При отображении монохромных экранов функция делает белые Пиксели черными и черными пикселами белым цветом. При отображении цвета инверсия зависит от того, как цвета создаются для отображения.

## <a name="cdcisprinting"></a><a name="isprinting"></a>CDC:: Print

Определяет, используется ли контекст устройства для печати.

```
BOOL IsPrinting() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если `CDC` объект является контроллером домена принтера; в противном случае — значение 0.

## <a name="cdclineto"></a><a name="lineto"></a>CDC:: LineTo

Рисует строку от текущей позиции до, но не включая точку, заданную *x* и *y* (или *Point*).

```
BOOL LineTo(
    int x,
    int y);

BOOL LineTo(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x конечной точки для линии.

*&*<br/>
Задает логическую координату y конечной точки для линии.

*точки*<br/>
Задает конечную точку для линии. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если линия рисуется; в противном случае — 0.

### <a name="remarks"></a>Примечания

Линия рисуется с помощью выбранного пера. Текущей позиции присваивается значение *x*, *y* или *точка*.

### <a name="example"></a>Пример

  См. пример для [крект:: центерпоинт](../../atl-mfc-shared/reference/crect-class.md#centerpoint).

## <a name="cdclptodp"></a><a name="lptodp"></a>CDC:: Лптодп

Преобразует логические устройства в единицы устройства.

```cpp
void LPtoDP(
    LPPOINT lpPoints,
    int nCount = 1) const;

void LPtoDP(LPRECT lpRect) const;
void LPtoDP(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив точек. Каждая точка в массиве является структурой [точек](/windows/win32/api/windef/ns-windef-point) или объектом [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*нкаунт*<br/>
Количество точек в массиве.

*лпрект*<br/>
Указывает на структуру [Rect](/windows/win32/api/windef/ns-windef-rect) или объект [крект](../../atl-mfc-shared/reference/crect-class.md) . Этот параметр используется в общем случае для сопоставления прямоугольника от логических устройств к единицам устройства.

*лпсизе*<br/>
Указывает на структуру [размера](/windows/win32/api/windef/ns-windef-size) или объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) .

### <a name="remarks"></a>Примечания

Функция сопоставляет координаты каждой точки или размеры размера из логической системы координат GDI с системой координат устройства. Преобразование зависит от текущего режима сопоставления и параметров источников и экстентов окна устройства и окна просмотра.

Координаты x и y точек — 2-байтные целые числа со знаком в диапазоне от-32 768 до 32 767. В случаях, когда режим сопоставления приведет к увеличению значений, превышающих эти ограничения, система устанавливает значения равными-32 768 и 32 767 соответственно.

## <a name="cdclptohimetric"></a><a name="lptohimetric"></a>CDC:: Лптохиметрик

Вызовите эту функцию, чтобы преобразовать логические устройства в HIMETRIC единицы.

```cpp
void LPtoHIMETRIC(LPSIZE lpSize) const;
```

### <a name="parameters"></a>Параметры

*лпсизе*<br/>
Указывает на `SIZE` структуру или `CSize` объект.

### <a name="remarks"></a>Примечания

Эта функция используется при присвоении HIMETRIC размеров OLE, преобразованных из режима естественного сопоставления приложения. Обратите внимание, что экстенты окна устройства и окна просмотра будут влиять на результат.

Преобразование выполняется сначала путем преобразования логических устройств в пиксели с помощью текущих единиц сопоставления и последующего преобразования этих единиц в единицы HIMETRIC.

## <a name="cdcm_hattribdc"></a><a name="m_hattribdc"></a>CDC:: m_hAttribDC

Контекст устройства атрибута для этого `CDC` объекта.

```
HDC m_hAttribDC;
```

### <a name="remarks"></a>Примечания

По умолчанию этот контекст устройства равен `m_hDC` . Как правило, `CDC` вызовы GDI, которые запрашивают информацию из контекста устройства, направляются в `m_hAttribDC` . Дополнительные сведения об использовании этих двух контекстов устройств см. в описании класса [CDC](../../mfc/reference/cdc-class.md) .

## <a name="cdcm_hdc"></a><a name="m_hdc"></a>CDC:: m_hDC

Контекст устройства вывода для этого `CDC` объекта.

```
HDC m_hDC;
```

### <a name="remarks"></a>Примечания

По умолчанию параметр `m_hDC` равен значению `m_hAttribDC` другого контекста устройства, заключенного в `CDC` . Как правило, `CDC` вызовы GDI, которые создают выходные данные, отправляются в `m_hDC` контекст устройства. Можно инициализировать `m_hDC` и `m_hAttribDC` указывать на различные устройства. Дополнительные сведения об использовании этих двух контекстов устройств см. в описании класса [CDC](../../mfc/reference/cdc-class.md) .

## <a name="cdcmaskblt"></a><a name="maskblt"></a>CDC:: Маскблт

Объединяет цветовые данные исходного и целевого точечных рисунков с помощью заданной операции маскирования и растрового изображения.

```
BOOL MaskBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    CBitmap& maskBitmap,
    int xMask,
    int yMask,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x верхнего левого угла прямоугольника назначения.

*&*<br/>
Задает логическую координату по оси y верхнего левого угла прямоугольника назначения.

*нвидс*<br/>
Задает ширину (в логических единицах) прямоугольника назначения и исходного растрового изображения.

*нхеигхт*<br/>
Задает высоту (в логических единицах) прямоугольника назначения и исходного растрового изображения.

*псркдк*<br/>
Определяет контекст устройства, из которого копируется точечный рисунок. Значение должно равняться нулю, если параметр *двроп* задает операцию растровой операции, которая не включает источник.

*кссрк*<br/>
Задает логическую координату по оси x верхнего левого угла исходного растрового изображения.

*исрк*<br/>
Задает логическую координату по оси y верхнего левого угла исходного растрового изображения.

*маскбитмап*<br/>
Определяет битовую маску монохромной маски вместе с цветовой битовой картой в контексте исходного устройства.

*ксмаск*<br/>
Задает горизонтальное смещение в пикселях для битовой карты маски, заданной параметром *маскбитмап* .

*имаск*<br/>
Задает смещение по вертикали для битовой карты маски, заданной параметром *маскбитмап* .

*dwRop*<br/>
Задает как передний, так и фоновый ternary растровые коды операций, которые функция использует для управления сочетанием исходных и целевых данных. Фоновый растровый код операции хранится в верхнем байте старшего слова этого значения; код растровой операции переднего плана хранится в младшем байте старшего слова этого значения; Младшее слово этого значения игнорируется и должно быть равно нулю. Макрос MAKEROP4 создает такие сочетания кода переднего плана и фоновых растровых операций. Обсуждение переднего плана и фона в контексте этой функции см. в разделе "Примечания". `BitBlt`Список стандартных кодов точечных операций см. в функции-члене.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Значение 1 в маске, заданном параметром *маскбитмап* , указывает, что в этом расположении должен быть применен код фоновой операции, заданный параметром *двроп* . Значение 0 в маске указывает, что в этом расположении должен быть применен код фоновой операции, заданный параметром *двроп* . Если для растровых операций требуется источник, прямоугольник маски должен охватывать исходный прямоугольник. В противном случае функция завершится ошибкой. Если для растровых операций не требуется источник, прямоугольник маски должен охватывать прямоугольник назначения. В противном случае функция завершится ошибкой.

Если преобразование «вращение» или «сдвиг» действует для контекста исходного устройства при вызове этой функции, возникает ошибка. Однако допускается использование других типов преобразований.

Если цветовые форматы исходного и целевого точечных рисунков различаются, эта функция преобразует шаблон или исходный формат или оба значения в соответствии с форматом назначения. Если битовая карта маски не является монохромным точечным рисунком, возникает ошибка. При записи расширенного метафайла возникает ошибка (и функция возвращает 0), если контекст исходного устройства определяет контекст устройства расширенного метафайла. Не все устройства поддерживают `MaskBlt` . Приложение должно вызывать `GetDeviceCaps` , чтобы определить, поддерживает ли устройство эту функцию. Если битовая карта маски не указана, функция работает точно так же `BitBlt` , как с помощью кода растровой операции переднего плана. Смещение пикселей в битовой карте маски соответствует точке (0, 0) в битовой карте контекста исходного устройства. Это полезно в случаях, когда битовая карта маски содержит набор масок. приложение может легко применить любой из них к задаче Mask-блиттинг, изменив смещения пикселей и размеры прямоугольников, отправляемые в `MaskBlt` .

## <a name="cdcmodifyworldtransform"></a><a name="modifyworldtransform"></a>CDC:: Модифиворлдтрансформ

Изменяет универсальное преобразование для контекста устройства в указанном режиме.

```
BOOL ModifyWorldTransform(
    const XFORM& rXform,
    DWORD iMode);
```

### <a name="parameters"></a>Параметры

*рксформ*<br/>
Ссылка на структуру [XForm](/windows/win32/api/wingdi/ns-wingdi-xform) , используемую для изменения универсального преобразования для данного контекста устройства.

*имоде*<br/>
Указывает, каким способом данные преобразования изменяют текущее преобразование мира. Список значений, которые может выполнить этот параметр, см. в разделе [модифиворлдтрансформ](/windows/win32/api/wingdi/nf-wingdi-modifyworldtransform).

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение в случае успешного выполнения.

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [модифиворлдтрансформ](/windows/win32/api/wingdi/nf-wingdi-modifyworldtransform).

## <a name="cdcmoveto"></a><a name="moveto"></a>CDC:: MoveTo

Перемещает текущую позицию в точку, заданную *x* и *y* (или по *точкам*).

```
CPoint MoveTo(
    int x,
    int y);

CPoint MoveTo(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x нового расположения.

*&*<br/>
Задает логическую координату y нового расположения.

*точки*<br/>
Задает новую точку. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Координаты x и y предыдущего положения в виде `CPoint` объекта.

### <a name="example"></a>Пример

  См. пример для [крект:: центерпоинт](../../atl-mfc-shared/reference/crect-class.md#centerpoint).

## <a name="cdcoffsetcliprgn"></a><a name="offsetcliprgn"></a>CDC:: Оффсетклипргн

Перемещает вырезанную область контекста устройства по указанным смещениям.

```
int OffsetClipRgn(
    int x,
    int y);

int OffsetClipRgn(SIZE size);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает число логических единиц, которые должны быть перемещены влево или вправо.

*&*<br/>
Указывает число логических устройств, которые нужно переместить вверх или вниз.

*size*<br/>
Указывает величину смещения.

### <a name="return-value"></a>Возвращаемое значение

Тип нового региона. Это может быть одно из следующих значений:

- КОМПЛЕКСРЕГИОНная область обрезки содержит перекрывающиеся границы.

- Недопустимый контекст устройства с ошибкой.

- Пустая область отсечения НУЛЛРЕГИОН.

- СИМПЛЕРЕГИОНная область отсечения не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Функция перемещает единицы измерения *x* вдоль осей x и *y* вдоль оси y.

## <a name="cdcoffsetviewportorg"></a><a name="offsetviewportorg"></a>CDC:: Оффсетвиевпорторг

Изменяет координаты начала окна просмотра относительно координат текущего источника окна просмотра.

```
virtual CPoint OffsetViewportOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*нвидс*<br/>
Указывает число единиц устройства, добавляемых к координате x текущего источника.

*нхеигхт*<br/>
Указывает число единиц устройства, добавляемых к координате y текущего источника.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий источник окна просмотра (в координатах устройства) в виде `CPoint` объекта.

## <a name="cdcoffsetwindoworg"></a><a name="offsetwindoworg"></a>CDC:: Оффсетвиндоворг

Изменяет координаты начала окна относительно координат текущего исходного окна.

```
CPoint OffsetWindowOrg(
    int nWidth,
    int nHeight);
```

### <a name="parameters"></a>Параметры

*нвидс*<br/>
Задает число логических устройств, добавляемых к координате x текущего источника.

*нхеигхт*<br/>
Указывает число логических устройств, добавляемых к координате y текущего источника.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий источник окна (в логических координатах) в виде `CPoint` объекта.

## <a name="cdcoperator-hdc"></a><a name="operator_hdc"></a>CDC::operator HDC

Этот оператор используется для получения маркера контекста устройства `CDC` объекта.

```
operator HDC() const;
```

### <a name="return-value"></a>Возвращаемое значение

В случае успеха — маркер объекта контекста устройства; в противном случае значение NULL.

### <a name="remarks"></a>Примечания

Вы можете использовать этот обработчик для непосредственного вызова интерфейсов API Windows.

## <a name="cdcpaintrgn"></a><a name="paintrgn"></a>CDC::P Аинтргн

Заполняет регион, указанный параметром *пргн* , с помощью текущей кисти.

```
BOOL PaintRgn(CRgn* pRgn);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Определяет заполняемый регион. Координаты для данного региона указываются в логических единицах.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

## <a name="cdcpatblt"></a><a name="patblt"></a>CDC::P Атблт

Создает битовый шаблон на устройстве.

```
BOOL PatBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x верхнего левого угла прямоугольника, получающего шаблон.

*&*<br/>
Задает логическую координату по оси y верхнего левого угла прямоугольника, получающего шаблон.

*нвидс*<br/>
Задает ширину (в логических единицах) прямоугольника, который должен получить шаблон.

*нхеигхт*<br/>
Задает высоту (в логических единицах) прямоугольника, который должен получить шаблон.

*dwRop*<br/>
Указывает код точечной операции. Коды операций растровой операции (РоПС) определяют, как GDI сочетает цвета в операциях вывода, которые используют текущую кисть, возможный исходный точечный рисунок и точечный рисунок назначения. Этот параметр может принимать одно из следующих значений:

- ПАТКОПИ копирует шаблон в точечный рисунок назначения.

- ПАТИНВЕРТ сочетает точечный рисунок назначения с шаблоном, используя логический оператор XOR.

- ДСТИНВЕРТ инвертирует точечный рисунок назначения.

- ЧЕРНЫЙ цвет превращает все выходные данные в черный.

- ВХИТЕНЕСС включает все белые выходные данные.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Шаблон представляет собой сочетание выбранной кисти и шаблона, уже нарисованного на устройстве. Код точечной операции, заданный параметром *двроп* , определяет способ объединения шаблонов. Операции над растровыми операциями, перечисленными для этой функции, являются ограниченным подмножеством полных кодовых операций 256 ternary. в частности, код точечной операции, ссылающийся на источник, использовать нельзя.

Не все контексты устройств поддерживают `PatBlt` функцию. Чтобы определить, поддерживает ли контекст устройства `PatBlt` , вызовите `GetDeviceCaps` функцию-член с индексом растеркапс и проверьте возвращаемое значение для флага RC_BITBLT.

## <a name="cdcpie"></a><a name="pie"></a>CDC::P IE

Рисует сектор на круговой диаграмме путем рисования эллиптической дуги, центр которой и две конечные точки соединяются линиями.

```
BOOL Pie(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3,
    int x4,
    int y4);

BOOL Pie(
    LPCRECT lpRect,
    POINT ptStart,
    POINT ptEnd);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*Y1*<br/>
Задает координату по оси y верхнего левого угла ограничивающего прямоугольника (в логических единицах).

*штук*<br/>
Задает координату по оси x правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*Y2*<br/>
Задает координату по оси y правого нижнего угла ограничивающего прямоугольника (в логических единицах).

*x3*<br/>
Задает координату по оси x начальной точки дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*Y3*<br/>
Задает координату по оси y начальной точки дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*X4*<br/>
Задает координату по оси x конечной точки дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*Y4*<br/>
Указывает координату по оси y конечной точки дуги (в логических единицах). Эта точка не обязательно должна находиться в точности на дуги.

*лпрект*<br/>
Задает ограничивающий прямоугольник. `CRect`Для этого параметра можно передать либо объект, либо указатель на `RECT` структуру.

*птстарт*<br/>
Задает начальную точку дуги. Эта точка не обязательно должна находиться в точности на дуги. Для этого параметра можно передать либо структуру [Point](/windows/win32/api/windef/ns-windef-point) , либо объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

*птенд*<br/>
Задает конечную точку дуги. Эта точка не обязательно должна находиться в точности на дуги. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Центр дуги — это центр ограничивающего прямоугольника, заданный *x1*, *Y1*, *x2*и *Y2* (или *лпрект*). Начальная и конечная точки дуги указываются с помощью беспротоколов *X3*, *Y3*, *X4*и *Y4* (или *птстарт* и *птенд*).

Дуга рисуется с помощью выбранного пера и перемещается в направлении против часовой стрелки. Две дополнительные строки выводятся из каждой конечной точки в центр дуги. Область круговой формы заполняется текущей кистью. Если *X3* равняется *X4* и *Y3* равно *Y4*, результатом является эллипс с одной линией от центра эллипса до точки ( *X3*, *Y3*) или ( *X4*, *Y4*).

Фигура, изображенная этой функцией, расширяется до, но не включает в себя правую и нижнюю координаты. Это означает, что высота фигуры — *Y2*  -  *Y1* , а ширина фигуры — *x2*  -  *x1*. Ширина и высота ограничивающего прямоугольника должны быть больше 2 единиц и меньше 32 767 единиц.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#37](../../mfc/codesnippet/cpp/cdc-class_9.cpp)]

## <a name="cdcplaymetafile"></a><a name="playmetafile"></a>CDC::P Лайметафиле

Воспроизводит содержимое указанного метафайла в контексте устройства.

```
BOOL PlayMetaFile(HMETAFILE hMF);

BOOL PlayMetaFile(
    HENHMETAFILE hEnhMetaFile,
    LPCRECT lpBounds);
```

### <a name="parameters"></a>Параметры

*хмф*<br/>
Определяет метафайл для воспроизведения.

*хенхметафиле*<br/>
Определяет расширенный метафайл.

*лпбаундс*<br/>
Указывает на `RECT` структуру или `CRect` объект, содержащий координаты ограничивающего прямоугольника, используемого для вывода изображения. Координаты указываются в логических единицах.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Метафайл может воспроизводиться любое количество раз.

Вторая версия `PlayMetaFile` отображает изображение, хранящееся в заданном метафайле расширенного формата. Когда приложение вызывает вторую версию `PlayMetaFile` , Windows использует рамку изображения в заголовке расширенного метафайла для отображения изображения на прямоугольнике, на который указывает параметр *лпбаундс* . (Эта картинка может быть обрисована или повернута путем задания универсального преобразования в выходном устройстве перед вызовом `PlayMetaFile` .) В изображение включаются точки на краях прямоугольника. Изображение с расширенным метафайлом можно обрезать, определив область обрезки на устройстве вывода перед воспроизведением расширенного метафайла.

Если расширенный метафайл содержит дополнительную палитру, приложение может добиться согласованных цветов, настроив цветовую палитру на устройстве вывода перед вызовом второй версии `PlayMetaFile` . Чтобы получить дополнительную палитру, используйте `GetEnhMetaFilePaletteEntries` функцию Windows. Расширенный метафайл может быть внедрен во вновь созданный расширенный метафайл путем вызова второй версии `PlayMetaFile` и воспроизведения исходного расширенного метафайла в контексте устройства для нового расширенного метафайла.

Состояния контекста выходного устройства сохраняются этой функцией. Все объекты, созданные, но не удаленные в расширенном метафайле, удаляются этой функцией. Чтобы остановить эту функцию, приложение может вызвать `CancelDC` функцию Windows из другого потока, чтобы завершить операцию. В этом случае функция возвращает ноль.

## <a name="cdcplgblt"></a><a name="plgblt"></a>CDC::P Лгблт

Выполняет побитовую блокировку битов данных цвета из указанного прямоугольника в контексте исходного устройства на заданный параллелограмм в данном контексте устройства.

```
BOOL PlgBlt(
    LPPOINT lpPoint,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nWidth,
    int nHeight,
    CBitmap& maskBitmap,
    int xMask,
    int yMask);
```

### <a name="parameters"></a>Параметры

*лппоинт*<br/>
Указывает на массив из трех точек в логическом пространстве, определяющих три угла целевого параллелограмма. Левый верхний угол исходного прямоугольника сопоставляется с первой точкой в этом массиве, правом верхнем углу второй точки в этом массиве, а левый нижний угол — с третьей точкой. Правый нижний угол исходного прямоугольника сопоставляется с неявной четвертой точкой в параллелограмм.

*псркдк*<br/>
Определяет контекст исходного устройства.

*кссрк*<br/>
Задает координату по оси x (в логических единицах) верхнего левого угла исходного прямоугольника.

*исрк*<br/>
Задает координату по оси y (в логических единицах) верхнего левого угла исходного прямоугольника.

*нвидс*<br/>
Задает ширину (в логических единицах) исходного прямоугольника.

*нхеигхт*<br/>
Задает высоту (в логических единицах) исходного прямоугольника.

*маскбитмап*<br/>
Определяет необязательное монохромное растровое изображение, используемое для маскирования цветов исходного прямоугольника.

*ксмаск*<br/>
Задает координату по оси x верхнего левого угла монохромного изображения.

*имаск*<br/>
Задает координату по оси y верхнего левого угла монохромного изображения.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если заданный маркер битовой маски определяет допустимое монохромное растровое изображение, функция использует это растровое изображение для маскирования битов цветовых данных из исходного прямоугольника.

Четвертая вершина параллелограмма (D) определяется путем рассмотрения первых трех точек (A, B и C) в качестве векторов и вычислений D = B + C-A.

Если битовая маска существует, значение 1 в маске указывает, что исходный цвет пикселя должен быть скопирован в место назначения. Значение 0 в маске указывает, что цвет пикселя назначения не должен изменяться.

Если прямоугольник маски меньше исходного и целевого прямоугольников, функция реплицирует шаблон маски.

Преобразования масштабирования, преобразования и отражения разрешены в контексте исходного устройства; Однако преобразования «вращение» и «наклон» не являются. Если битовая карта маски не является монохромным точечным рисунком, возникает ошибка. Режим растяжения для контекста устройства назначения используется для определения способа растяжения или сжатия пикселей, если это необходимо. При записи расширенного метафайла возникает ошибка, если контекст исходного устройства определяет контекст устройства расширенного метафайла.

Координаты назначения преобразуются в зависимости от контекста устройства назначения; исходные координаты преобразуются в зависимости от контекста исходного устройства. Если преобразование источника имеет поворот или сдвиг, возвращается ошибка. Если конечный и исходный прямоугольники имеют разные форматы цвета, `PlgBlt` преобразует исходный прямоугольник в соответствие с конечным прямоугольником. Не все устройства поддерживают `PlgBlt` . Дополнительные сведения см. в описании функции RC_BITBLT растрового изображения в `CDC::GetDeviceCaps` функцию члена.

Если контекст исходного и конечного устройств представляют несовместимые устройства, `PlgBlt` возвращает ошибку.

## <a name="cdcpolybezier"></a><a name="polybezier"></a>CDC::P Олибезиер

Рисует одну или несколько Бзиер линий.

```
BOOL PolyBezier(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур данных [Point](/windows/win32/api/windef/ns-windef-point) , содержащих конечные точки и контрольные точки сплайна.

*нкаунт*<br/>
Указывает количество точек в массиве *лппоинтс* . Это значение должно быть на единицу больше трех раз, чем число рисуемых сплайнов, поскольку для каждого Бзиер сплайна требуется две контрольные точки и конечная точка, а для исходного сплайна требуется дополнительная отправная точка.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция рисует кривые Бзиеры в кубических с помощью конечных точек и контрольных точек, заданных параметром *лппоинтс* . Первый сплайн рисуется от первой точки к четвертой, а вторая и третья точки — как контрольные точки. Каждому последующему сплайну в последовательности требуется ровно три точки: конечная точка предыдущего сплайна используется в качестве начальной точки, следующие две точки в последовательности являются контрольными точками, а третья — конечной точкой.

Текущая позицией не используется и не обновляется `PolyBezier` функцией. Фигура не заполнена. Эта функция рисует линии с помощью текущего пера.

## <a name="cdcpolybezierto"></a><a name="polybezierto"></a>CDC::P Олибезиерто

Рисует одну или несколько Бзиер линий.

```
BOOL PolyBezierTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур данных [Point](/windows/win32/api/windef/ns-windef-point) , содержащих конечные точки и контрольные точки.

*нкаунт*<br/>
Указывает количество точек в массиве *лппоинтс* . Это значение должно быть в три раза больше числа рисуемых сплайнов, так как для каждого Бзиер сплайна требуется две контрольные точки и конечная точка.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция рисует кривые Бзиеры Безье с помощью контрольных точек, заданных параметром *лппоинтс* . Первый сплайн рисуется от текущей позиции к третьей точке с помощью первых двух точек в качестве контрольных точек. Для каждого последующего сплайна функция должна точно соответствовать трем большему числу точек и использовать конечную точку предыдущего сплайна в качестве начальной точки для следующего. `PolyBezierTo`перемещает текущую позицию в конечную точку последнего сплайна Бзиер. Фигура не заполнена. Эта функция рисует линии с помощью текущего пера.

### <a name="example"></a>Пример

  См. пример для [CDC:: бегинпас](#beginpath).

## <a name="cdcpolydraw"></a><a name="polydraw"></a>CDC::P Олидрав

Рисует набор сегментов линий и Бзиерных линий.

```
BOOL PolyDraw(
    const POINT* lpPoints,
    const BYTE* lpTypes,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур данных [Point](/windows/win32/api/windef/ns-windef-point) , содержащий конечные точки для каждого сегмента линии, а также конечные точки и контрольные точки для каждого сплайна бзиер.

*лптипес*<br/>
Указывает на массив, указывающий, как используется каждая точка в массиве *лппоинтс* . Значением может быть одно из следующих.

- PT_MOVETO указывает, что эта точка запускает несвязанную цифру. Эта точка станет новой текущей позицией.

- PT_LINETO Указывает, что линия должна быть выведена с текущей позиции до этой точки, которая затем становится новой текущей позицией.

- PT_BEZIERTO Указывает, что эта точка является контрольной точкой или конечной точкой для сплайна Бзиер.

Типы PT_BEZIERTO всегда встречаются в наборах из трех. Текущая позиции определяет начальную точку для сплайна Бзиер. Первые две точки PT_BEZIERTO являются контрольными точками, а третья точка PT_BEZIERTO является конечной точкой. Конечная точка станет новой текущей позицией. Если не существует трех последовательных точек PT_BEZIERTO, возникает ошибка.

   Тип PT_LINETO или PT_BEZIERTO можно объединить со следующей константой с помощью побитового оператора или, чтобы указать, что соответствующая точка является последней точкой в фигуре, а фигура закрыта:

- PT_CLOSEFIGURE Указывает, что фигура автоматически закрывается после завершения PT_LINETO или типа PT_BEZIERTO для этой точки. Линия отображается с этой точки до самой последней PT_MOVETO или `MoveTo` точки.

   Этот флаг сочетается с типом PT_LINETO для строки или с типом PT_BEZIERTO конечной точки для сплайна Бзиер с помощью побитового оператора **или** . Текущая позиция равна конечной точке закрывающей строки.

*нкаунт*<br/>
Указывает общее количество точек в массиве *лппоинтс* , равное количеству байтов в массиве *лптипес* .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция может использоваться для рисования непересекающихся фигур вместо последовательных вызовов `CDC::MoveTo` `CDC::LineTo` функций, и `CDC::PolyBezierTo` . Линии и сплайны рисуются с помощью текущего пера, а фигуры не заполнены. Если имеется активный путь, запущенный путем вызова `CDC::BeginPath` функции-члена, `PolyDraw` добавляет к пути. Точки, содержащиеся в массиве *лппоинтс* и в *лптипес* , указывают, является ли каждая точка частью `CDC::MoveTo` операции, `CDC::LineTo` или `CDC::BezierTo` . Также можно закрывать фигуры. Эта функция обновляет текущую точку.

### <a name="example"></a>Пример

  См. пример для [CDC:: бегинпас](#beginpath).

## <a name="cdcpolygon"></a><a name="polygon"></a>CDC::P олигон

Рисует многоугольник, состоящий из двух или более точек (вершин), Соединенных линиями, с помощью текущего пера.

```
BOOL Polygon(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив точек, указывающих вершины многоугольника. Каждая точка в массиве является `POINT` структурой или `CPoint` объектом.

*нкаунт*<br/>
Указывает количество вершин в массиве.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

При необходимости система закрывает многоугольник автоматически, рисуя линию из последней вершины в первую.

Текущий режим заполнения многоугольников можно получить или задать с помощью `GetPolyFillMode` функций-членов и `SetPolyFillMode` .

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#38](../../mfc/codesnippet/cpp/cdc-class_10.cpp)]

## <a name="cdcpolyline"></a><a name="polyline"></a>CDC::P олилине

Рисует набор сегментов линий, соединяющих точки, заданные параметром *лппоинтс*.

```
BOOL Polyline(
    LPPOINT lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив `POINT` структур или `CPoint` объектов для подключения.

*нкаунт*<br/>
Указывает количество точек в массиве. Это значение должно быть не меньше 2.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Линии выводятся из первой точки через последующие точки с использованием текущего пера. В отличие от `LineTo` функции члена, в `Polyline` функции не используется ни обновление текущей позицией.

Дополнительные сведения см. в разделе [Ломаная](/windows/win32/api/wingdi/nf-wingdi-polyline) линия в Windows SDK.

## <a name="cdcpolylineto"></a><a name="polylineto"></a>CDC::P Олилинето

Рисует одну или несколько прямых линий.

```
BOOL PolylineTo(
    const POINT* lpPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур данных [Point](/windows/win32/api/windef/ns-windef-point) , содержащих вершины линии.

*нкаунт*<br/>
Указывает количество точек в массиве.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Линия рисуется от текущей позиции до первой точки, заданной параметром *лппоинтс* , с помощью текущего пера. Для каждой дополнительной строки функция выполняет рисование от конечной точки предыдущей строки до следующей точки, заданной параметром *лппоинтс*. `PolylineTo`перемещает текущую позицию в конечную точку последней строки. Если линейные сегменты, рисуемые этой функцией, образуют замкнутую фигуру, фигура не заполняется.

## <a name="cdcpolypolygon"></a><a name="polypolygon"></a>CDC::P Олиполигон

Создает два или более многоугольников, заполненных с помощью текущего режима заполнения многоугольников.

```
BOOL PolyPolygon(
    LPPOINT lpPoints,
    LPINT lpPolyCounts,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив `POINT` структур или `CPoint` объектов, определяющих вершины многоугольников.

*лпполикаунтс*<br/>
Указывает на массив целых чисел, каждый из которых указывает количество точек в одном из многоугольников в массиве *лппоинтс* .

*нкаунт*<br/>
Число записей в массиве *лпполикаунтс* . Это число указывает количество многоугольников для рисования. Это значение должно быть не меньше 2.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Многоугольники могут быть непересекающимися или перекрывающимися.

Каждый многоугольник, указанный в вызове `PolyPolygon` функции, должен быть закрытым. В отличие от многоугольников `Polygon` , созданных функцией члена, многоугольники, созданные, `PolyPolygon` не закрываются автоматически.

Функция создает два или более многоугольников. Для создания одного многоугольника приложение должно использовать `Polygon` функцию-член.

Текущий режим заполнения многоугольников можно получить или задать с помощью `GetPolyFillMode` функций-членов и `SetPolyFillMode` .

## <a name="cdcpolypolyline"></a><a name="polypolyline"></a>CDC::P Олиполилине

Рисует несколько рядов Соединенных линейных сегментов.

```
BOOL PolyPolyline(
    const POINT* lpPoints,
    const DWORD* lpPolyPoints,
    int nCount);
```

### <a name="parameters"></a>Параметры

*лппоинтс*<br/>
Указывает на массив структур, содержащих вершины ломаных линий. Ломаные линии указываются последовательно.

*лпполипоинтс*<br/>
Указывает на массив переменных, указывающих количество точек в массиве *лппоинтс* для соответствующего многоугольника. Каждая запись должна быть больше или равна 2.

*нкаунт*<br/>
Указывает общее количество счетчиков в массиве *лпполипоинтс* .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Сегменты линии рисуются с помощью текущего пера. Данные, сформированные сегментами, не заполнены. Текущая позицией не используется и не обновляется этой функцией.

## <a name="cdcptvisible"></a><a name="ptvisible"></a>CDC::P Твисибле

Определяет, находится ли заданная точка в области обрезки контекста устройства.

```
virtual BOOL PtVisible(
    int x,
    int y) const;

BOOL PtVisible(POINT point) const;
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x точки.

*&*<br/>
Задает логическую координату y точки.

*точки*<br/>
Задает точку для проверки логических координат. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если указанная точка находится внутри вырезанной области; в противном случае — 0.

## <a name="cdcqueryabort"></a><a name="queryabort"></a>CDC:: Куеряборт

Вызывает функцию Abort, установленную функцией-членом [SetAbortProc](#setabortproc) для приложения печати, и запрашивает, следует ли завершить печать.

```
BOOL QueryAbort() const;
```

### <a name="return-value"></a>Возвращаемое значение

Возвращаемое значение не равно нулю, если печать должна продолжиться или если нет процедуры прерывания. Значение 0, если задание печати должно быть завершено. Возвращаемое значение предоставляется функцией Abort.

## <a name="cdcrealizepalette"></a><a name="realizepalette"></a>CDC:: Реализепалетте

Сопоставляет записи из текущей логической палитры с системной палитрой.

```
UINT RealizePalette();
```

### <a name="return-value"></a>Возвращаемое значение

Указывает, сколько записей в логической палитре сопоставлено с различными записями в системной палитре. Представляет число записей, которые эта функция повторно сопоставлена с изменениями в системной палитре с момента последнего реализации логической палитры.

### <a name="remarks"></a>Примечания

Логическая цветовая палитра выступает в качестве буфера между приложениями с большим количеством цветов и системой, позволяя приложению использовать столько цветов, сколько требуется, не мешая собственным отображаемым цветам или цветам, отображаемым другими окнами.

Когда окно имеет фокус ввода и вызывает `RealizePalette` , Windows гарантирует, что окно отобразит все запрошенные цвета, вплоть до максимального числа, одновременно доступного на экране. Windows также отображает цвета, не найденные в палитре окна, путем их сопоставления с доступными цветами.

Кроме того, Windows соответствует цветам, запрошенным неактивными окнами, которые вызывают функцию как можно ближе к доступным цветам. Это значительно сокращает нежелательные изменения цветов, отображаемых в неактивных окнах.

## <a name="cdcrectangle"></a><a name="rectangle"></a>CDC:: Rectangle

Рисование прямоугольника с помощью текущего пера.

```
BOOL Rectangle(
    int x1,
    int y1,
    int x2,
    int y2);

BOOL Rectangle(LPCRECT lpRect);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла прямоугольника (в логических единицах).

*Y1*<br/>
Задает координату по оси y верхнего левого угла прямоугольника (в логических единицах).

*штук*<br/>
Задает координату по оси x правого нижнего угла прямоугольника (в логических единицах).

*Y2*<br/>
Задает координату по оси y правого нижнего угла прямоугольника (в логических единицах).

*лпрект*<br/>
Задает прямоугольник в логических единицах. `CRect`Для этого параметра можно передать либо объект, либо указатель на `RECT` структуру.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Внутренняя часть прямоугольника заполняется с помощью текущей кисти.

Прямоугольник расширяется до, но не включает, правую и нижнюю координаты. Это означает, что высота прямоугольника равна *Y2*  -  *Y1* , а ширина прямоугольника — *x2*  -  *x1*. Ширина и высота прямоугольника должны быть больше 2 единиц и меньше 32 767 единиц.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#39](../../mfc/codesnippet/cpp/cdc-class_11.cpp)]

## <a name="cdcrectvisible"></a><a name="rectvisible"></a>CDC:: Ректвисибле

Определяет, находится ли какая либо часть данного прямоугольника в области обрезки контекста вывода.

```
virtual BOOL RectVisible(LPCRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*лпрект*<br/>
Указывает на `RECT` структуру или `CRect` объект, содержащий логические координаты указанного прямоугольника.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если какая бы то ни было часть данного прямоугольника находится внутри вырезанной области; в противном случае — 0.

## <a name="cdcreleaseattribdc"></a><a name="releaseattribdc"></a>CDC:: Релеасеаттрибдк

Вызовите эту функцию члена, чтобы установить `m_hAttribDC` значение null.

```
virtual void ReleaseAttribDC();
```

### <a name="remarks"></a>Примечания

Это не приводит к `Detach` возникновению ошибки. К объекту прикрепляется только контекст выходного устройства `CDC` , и только он может быть отсоединен.

## <a name="cdcreleaseoutputdc"></a><a name="releaseoutputdc"></a>CDC:: Релеасеаутпутдк

Вызовите эту функцию члена, чтобы присвоить `m_hDC` элементу значение null.

```
virtual void ReleaseOutputDC();
```

### <a name="remarks"></a>Примечания

Эта функция-член не может быть вызвана, когда контекст выходного устройства присоединен к `CDC` объекту. Используйте `Detach` функцию члена для отсоединения контекста выходного устройства.

## <a name="cdcresetdc"></a><a name="resetdc"></a>CDC:: Ресетдк

Вызовите эту функцию члена, чтобы обновить контекст устройства, упакованный `CDC` объектом.

```
BOOL ResetDC(const DEVMODE* lpDevMode);
```

### <a name="parameters"></a>Параметры

*лпдевмоде*<br/>
Указатель на `DEVMODE` структуру Windows.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства обновляется на основе сведений, указанных в `DEVMODE` структуре Windows. Эта функция члена сбрасывает только контекст устройства атрибута.

Приложение, как правило, использует `ResetDC` функцию-член, когда окно обрабатывает `WM_DEVMODECHANGE` сообщение. Эту функцию-член также можно использовать для изменения ориентации бумаги или лотков бумаги при печати документа.

Эту функцию члена нельзя использовать для изменения имени драйвера, имени устройства или выходного порта. Когда пользователь изменяет подключение порта или имя устройства, необходимо удалить исходный контекст устройства и создать новый контекст устройства с новыми данными.

Перед вызовом этой функции-члена необходимо убедиться, что выбраны все объекты (Кроме стандартных объектов), которые были выбраны в контексте устройства.

## <a name="cdcrestoredc"></a><a name="restoredc"></a>CDC:: Ресторедк

Восстанавливает контекст устройства до предыдущего состояния, идентифицируемого *нсаведдк*.

```
virtual BOOL RestoreDC(int nSavedDC);
```

### <a name="parameters"></a>Параметры

*нсаведдк*<br/>
Указывает восстанавливаемый контекст устройства. Это может быть значение, возвращаемое предыдущим `SaveDC` вызовом функции. Если *нсаведдк* имеет значение-1, восстанавливается последний сохраненный контекст устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если заданный контекст был восстановлен; в противном случае — 0.

### <a name="remarks"></a>Примечания

`RestoreDC`восстанавливает контекст устройства путем выталкивания сведений о состоянии из стека, созданного предыдущими вызовами `SaveDC` функции-члена.

Стек может содержать сведения о состоянии для нескольких контекстов устройств. Если контекст, заданный параметром *нсаведдк* , находится не вверху стека, `RestoreDC` удаляет все сведения о состоянии между контекстом устройства, указанным в параметре *нсаведдк* , и верхней частью стека. Удаленные данные теряются.

## <a name="cdcroundrect"></a><a name="roundrect"></a>CDC:: Раундрект

Рисование прямоугольника с закругленными углами с помощью текущего пера.

```
BOOL RoundRect(
    int x1,
    int y1,
    int x2,
    int y2,
    int x3,
    int y3);

BOOL RoundRect(
    LPCRECT lpRect,
    POINT point);
```

### <a name="parameters"></a>Параметры

*x1*<br/>
Задает координату по оси x верхнего левого угла прямоугольника (в логических единицах).

*Y1*<br/>
Задает координату по оси y верхнего левого угла прямоугольника (в логических единицах).

*штук*<br/>
Задает координату по оси x правого нижнего угла прямоугольника (в логических единицах).

*Y2*<br/>
Задает координату по оси y правого нижнего угла прямоугольника (в логических единицах).

*x3*<br/>
Задает ширину эллипса, используемого для рисования скругленных углов (в логических единицах).

*Y3*<br/>
Задает высоту эллипса, используемого для рисования скругленных углов (в логических единицах).

*лпрект*<br/>
Задает ограничивающий прямоугольник в логических единицах. `CRect`Для этого параметра можно передать либо объект, либо указатель на `RECT` структуру.

*точки*<br/>
Координата x *точки* задает ширину эллипса для рисования скругленных углов (в логических единицах). Координата y *точки* указывает высоту эллипса для рисования скругленных углов (в логических единицах). `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Внутренняя часть прямоугольника заполняется с помощью текущей кисти.

Рисунок, который рисует эта функция, расширяется до, но не включает в себя правую и нижнюю координаты. Это означает, что высота фигуры — *Y2*  -  *Y1* , а ширина фигуры — *x2*  -  *x1*. Высота и ширина ограничивающего прямоугольника должны быть больше 2 единиц и меньше 32 767 единиц.

### <a name="example"></a>Пример

[!code-cpp[NVC_MFCDocView#40](../../mfc/codesnippet/cpp/cdc-class_12.cpp)]

## <a name="cdcsavedc"></a><a name="savedc"></a>CDC:: Саведк

Сохраняет текущее состояние контекста устройства, копируя сведения о состоянии (например, область отсечения, выбранные объекты и режим сопоставления) в стек контекста, поддерживаемый Windows.

```
virtual int SaveDC();
```

### <a name="return-value"></a>Возвращаемое значение

Целое число, определяющее сохраненный контекст устройства. Если возникает ошибка, он равен 0. Это возвращаемое значение можно использовать для восстановления контекста устройства путем вызова `RestoreDC` .

### <a name="remarks"></a>Примечания

Сохраненный контекст устройства можно впоследствии восстановить с помощью `RestoreDC` .

`SaveDC`может использоваться любое количество раз для сохранения любого числа состояний контекста устройства.

## <a name="cdcscaleviewportext"></a><a name="scaleviewportext"></a>CDC:: Скалевиевпортекст

Изменяет экстенты окна просмотра относительно текущих значений.

```
virtual CSize ScaleViewportExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>Параметры

*кснум*<br/>
Задает величину, на которую умножается текущий экстент x.

*ксденом*<br/>
Задает величину деления результата умножения текущего x-экстента на значение параметра *кснум* .

*инум*<br/>
Задает величину, на которую умножается текущий экстент по оси y.

*иденом*<br/>
Задает величину деления результата умножения текущей оси y на значение параметра *инум* .

### <a name="return-value"></a>Возвращаемое значение

Предыдущие области окна просмотра (в единицах устройства) в виде `CSize` объекта.

### <a name="remarks"></a>Примечания

Формулы записываются следующим образом:

`xNewVE = ( xOldVE * xNum ) / xDenom`

`yNewVE = ( yOldVE * yNum ) / yDenom`

Новые экстенты окна просмотра вычисляются путем умножения текущих экстентов на заданный числитель и последующего деления на заданный знаменатель.

## <a name="cdcscalewindowext"></a><a name="scalewindowext"></a>CDC:: Скалевиндовекст

Изменяет экстенты окна относительно текущих значений.

```
virtual CSize ScaleWindowExt(
    int xNum,
    int xDenom,
    int yNum,
    int yDenom);
```

### <a name="parameters"></a>Параметры

*кснум*<br/>
Задает величину, на которую умножается текущий экстент x.

*ксденом*<br/>
Задает величину деления результата умножения текущего x-экстента на значение параметра *кснум* .

*инум*<br/>
Задает величину, на которую умножается текущий экстент по оси y.

*иденом*<br/>
Задает величину деления результата умножения текущей оси y на значение параметра *инум* .

### <a name="return-value"></a>Возвращаемое значение

Предыдущие экстенты окна (в логических единицах) в виде `CSize` объекта.

### <a name="remarks"></a>Примечания

Формулы записываются следующим образом:

`xNewWE = ( xOldWE * xNum ) / xDenom`

`yNewWE = ( yOldWE * yNum ) / yDenom`

Новые экстенты окна вычисляются путем умножения текущих экстентов на заданный числитель и последующего деления на заданный знаменатель.

## <a name="cdcscrolldc"></a><a name="scrolldc"></a>CDC:: Скроллдк

Прокручивает прямоугольник битов по горизонтали и вертикали.

```
BOOL ScrollDC(
    int dx,
    int dy,
    LPCRECT lpRectScroll,
    LPCRECT lpRectClip,
    CRgn* pRgnUpdate,
    LPRECT lpRectUpdate);
```

### <a name="parameters"></a>Параметры

*DX*<br/>
Задает число единиц горизонтальной прокрутки.

*DY*<br/>
Указывает число единиц вертикальной прокрутки.

*лпректскролл*<br/>
Указывает на `RECT` структуру или `CRect` объект, содержащий координаты прямоугольника прокрутки.

*лпректклип*<br/>
Указывает на `RECT` структуру или `CRect` объект, содержащий координаты прямоугольника обрезки. Если этот прямоугольник меньше, чем исходный, на который указывает *лпректскролл*, прокрутка выполняется только в меньшем прямоугольнике.

*пргнупдате*<br/>
Определяет регион, обнаруженный процессом прокрутки. `ScrollDC`Функция определяет этот регион; он не обязательно является прямоугольником.

*лпректупдате*<br/>
Указывает на `RECT` структуру или `CRect` объект, который получает координаты прямоугольника, ограничивающего область прокручиваемого обновления. Это самая крупная прямоугольная область, для которой требуется перерисовка. Значения в структуре или объекте, возвращаемые функцией, находятся в клиентских координатах независимо от режима сопоставления для данного контекста устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если выполняется прокрутка; в противном случае — 0.

### <a name="remarks"></a>Примечания

Если *лпректупдате* имеет значение null, Windows не выполняет вычисление прямоугольника обновления. Если оба *пргнупдате* и *лпректупдате* имеют значение null, Windows не вычислит регион обновления. Если *пргнупдате* не равно null, Windows предполагает, что он содержит допустимый указатель на регион, обнаруженный процессом прокрутки (определяется `ScrollDC` функцией-членом). При необходимости можно передать регион обновления, возвращенный в *лпректупдате* `CWnd::InvalidateRgn` .

Приложение должно использовать функцию- `ScrollWindow` член класса, `CWnd` когда необходимо прокручивать всю клиентскую область окна. В противном случае он должен использовать `ScrollDC` .

## <a name="cdcselectclippath"></a><a name="selectclippath"></a>CDC:: Селектклиппас

Выбирает текущий путь в качестве вырезанной области для контекста устройства, объединяя новый регион с любой существующей областью отсечения, используя указанный режим.

```
BOOL SelectClipPath(int nMode);
```

### <a name="parameters"></a>Параметры

*нмоде*<br/>
Указывает способ использования пути. Допустимы следующие значения:

- RGN_AND новый регион обрезки включает пересечение (перекрывающиеся области) текущей вырезанной области и текущего пути.

- RGN_COPY новый регион обрезки является текущим путем.

- RGN_DIFF новый регион обрезки содержит области текущей вырезанной области, а их текущие пути исключаются.

- RGN_OR новый регион обрезки включает объединение (Объединенные области) текущей вырезанной области и текущий путь.

- RGN_XOR новый регион обрезки включает объединение текущей области обрезки и текущего пути, но без перекрывающихся областей.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Определенный контекст устройства должен содержать закрытый путь.

## <a name="cdcselectcliprgn"></a><a name="selectcliprgn"></a>CDC:: Селектклипргн

Выбирает заданную область в качестве текущей области отсечения для контекста устройства.

```
int SelectClipRgn(CRgn* pRgn);

int SelectClipRgn(
    CRgn* pRgn,
    int nMode);
```

### <a name="parameters"></a>Параметры

*пргн*<br/>
Определяет регион для выбора.

- Для первой версии этой функции, если это значение равно NULL, выбирается вся клиентская область, а выходные данные по-прежнему обрезаются в окне.

- Для второй версии этой функции этот обработчик может иметь значение NULL, только если указан режим RGN_COPY.

*нмоде*<br/>
Указывает операцию для выполнения. Оно должно иметь одно из следующих значений:

- RGN_AND новый регион обрезки объединяет перекрывающиеся области текущей области обрезки и область, обозначенную *пргн*.

- RGN_COPY новый регион отсечения является копией региона, идентифицируемого *пргн*. Эта функция идентична первой версии `SelectClipRgn` . Если регион, определенный параметром *пргн* , имеет значение null, то новая область обрезки становится вырезанной областью по умолчанию (область null).

- RGN_DIFF новый регион отсечения объединяет области текущей области обрезки с областями, исключенными из региона, идентифицируемого *пргн*.

- RGN_OR новый регион отсечения объединяет текущую область обрезки и область, обозначенную *пргн*.

- RGN_XOR новый регион обрезки объединяет текущую область обрезки и область, обозначенную *пргн* , но не включает перекрывающиеся области.

### <a name="return-value"></a>Возвращаемое значение

Тип области. В качестве такой точки может выступать любой из следующих вариантов:

- КОМПЛЕКСРЕГИОН Новая область отсечения содержит перекрывающиеся границы.

- Недопустимый контекст или область устройства "ошибка".

- НУЛЛРЕГИОН Новая область отсечения пуста.

- СИМПЛЕРЕГИОН Новая область обрезки не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Используется только копия выбранного региона. Область может быть выбрана для любого числа других контекстов устройств или может быть удалена.

Функция предполагает, что координаты заданного региона указаны в единицах устройства. Некоторые принтерные устройства поддерживают вывод текста с более высоким разрешением, чем выходные данные графики, чтобы обеспечить точность, необходимую для выражения текстовых метрик. Эти устройства сообщают о единицах устройств с более высоким разрешением, то есть в текстовых единицах. Эти устройства затем масштабируют координаты графики таким образом, чтобы несколько единиц устройства сообщили только 1 графическому блоку. Следует всегда вызывать функцию, `SelectClipRgn` используя текстовые единицы.

Приложения, которые должны выполнять масштабирование графических объектов в GDI, могут использовать escape-последовательность принтера ЖЕТСКАЛИНГФАКТОР для определения коэффициента масштабирования. Этот коэффициент масштабирования влияет на обрезание. Если для обрезки графики используется регион, GDI делит координаты на коэффициент масштабирования. Если регион используется для обрезки текста, GDI не выполняет корректировку масштабирования. Коэффициент масштабирования, равный 1, приводит к разделению координат на 2; Коэффициент масштабирования, равный 2, приводит к разделению координат на 4; и т. д.

## <a name="cdcselectobject"></a><a name="selectobject"></a>CDC:: SelectObject

Выбирает объект в контексте устройства.

```
CPen* SelectObject(CPen* pPen);
CBrush* SelectObject(CBrush* pBrush);
virtual CFont* SelectObject(CFont* pFont);
CBitmap* SelectObject(CBitmap* pBitmap);
int SelectObject(CRgn* pRgn);
CGdiObject* SelectObject(CGdiObject* pObject);
```

### <a name="parameters"></a>Параметры

*ппен*<br/>
Указатель на объект [кпен](../../mfc/reference/cpen-class.md) , который необходимо выбрать.

*пбруш*<br/>
Указатель на объект [кбруш](../../mfc/reference/cbrush-class.md) , который необходимо выбрать.

*пфонт*<br/>
Указатель на объект [кфонт](../../mfc/reference/cfont-class.md) , который необходимо выбрать.

*пбитмап*<br/>
Указатель на объект [CBitmap](../../mfc/reference/cbitmap-class.md) , который необходимо выбрать.

*пргн*<br/>
Указатель на объект [кргн](../../mfc/reference/crgn-class.md) , который необходимо выбрать.

*Объект*<br/>
Указатель на объект [кгдиобжект](../../mfc/reference/cgdiobject-class.md) , который необходимо выбрать.

### <a name="return-value"></a>Возвращаемое значение

Указатель на заменяемый объект. Это указатель на объект одного из классов, производных от `CGdiObject` , например, в зависимости от `CPen` используемой версии функции. Если возникает ошибка, возвращается значение NULL. Эта функция может возвращать указатель на временный объект. Этот временный объект действителен только во время обработки одного сообщения Windows. Для получения дополнительной информации см. `CGdiObject::FromHandle`.

Версия функции-члена, которая принимает параметр Region, выполняет ту же задачу, что и `SelectClipRgn` функция-член. Его возвращаемое значение может быть любым из следующих:

- КОМПЛЕКСРЕГИОН Новая область отсечения содержит перекрывающиеся границы.

- Недопустимый контекст или область устройства "ошибка".

- НУЛЛРЕГИОН Новая область отсечения пуста.

- СИМПЛЕРЕГИОН Новая область обрезки не имеет перекрывающихся границ.

### <a name="remarks"></a>Примечания

Класс `CDC` предоставляет пять версий, специализированных для определенных типов объектов GDI, включая перья, кисти, шрифты, точечные рисунки и регионы. Вновь выбранный объект заменяет предыдущий объект того же типа. Например, если *объект* общей версии `SelectObject` Points к объекту [кпен](../../mfc/reference/cpen-class.md) , функция заменяет текущее перо на перо, заданное *объект*.

Приложение может выбрать точечный рисунок только в контекстах устройства памяти и только в одном контексте устройства памяти за раз. Формат точечного рисунка должен быть либо монохромным, либо совместимым с контекстом устройства; Если это не так, функция `SelectObject` возвращает ошибку.

Для Windows 3,1 и более поздних версий `SelectObject` функция возвращает одно и то же значение, независимо от того, используется ли он в метафайле. В предыдущих версиях Windows `SelectObject` вернул ненулевое значение для Success и 0 в случае сбоя, если он использовался в метафайле.

## <a name="cdcselectpalette"></a><a name="selectpalette"></a>CDC:: Селектпалетте

Выбирает логическую палитру, заданную параметром *ппалетте* в качестве выбранного объекта палитры контекста устройства.

```
CPalette* SelectPalette(
    CPalette* pPalette,
    BOOL bForceBackground);
```

### <a name="parameters"></a>Параметры

*ппалетте*<br/>
Определяет логическую палитру для выбора. Эта палитра уже должна быть создана с помощью `CPalette` функции члена [креатепалетте](../../mfc/reference/cpalette-class.md#createpalette).

*бфорцебаккграунд*<br/>
Указывает, будет ли логическая палитра принудительно использоваться в качестве палитры фона. Если *бфорцебаккграунд* не равно нулю, то выбранная палитра всегда является палитрой фона, независимо от того, имеет ли окно фокус ввода. Если *бфорцебаккграунд* имеет значение 0, а контекст устройства присоединен к окну, логическая палитра является палитрой переднего плана, когда окно имеет фокус ввода.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект, `CPalette` идентифицирующий логическую палитру, замененную палитрой, заданной параметром *ппалетте*. Если возникает ошибка, она имеет значение NULL.

### <a name="remarks"></a>Примечания

Новая палитра превращается в объект Palette, используемый GDI для управления цветами, отображаемыми в контексте устройства, и заменяет предыдущую палитру.

Приложение может выбрать логическую палитру в более чем одном контексте устройства. Однако изменения логической палитры повлияют на все контексты устройств, для которых он выбран. Если приложение выбирает палитру в нескольких контекстах устройства, все контексты устройств должны принадлежать к одному физическому устройству.

## <a name="cdcselectstockobject"></a><a name="selectstockobject"></a>CDC:: Селектстоккобжект

Выбирает объект [кгдиобжект](../../mfc/reference/cgdiobject-class.md) , соответствующий одному из стандартных перьев, кистей или шрифтов.

```
virtual CGdiObject* SelectStockObject(int nIndex);
```

### <a name="parameters"></a>Параметры

*ниндекс*<br/>
Указывает тип требуемого запасного объекта. Может иметь одно из следующих значений.

- BLACK_BRUSH черная кисть.

- DKGRAY_BRUSH темно-серая кисть.

- GRAY_BRUSH серая кисть.

- HOLLOW_BRUSH пустую кисть.

- LTGRAY_BRUSH светло-серая кисть.

- NULL_BRUSH неопределенной кисти.

- WHITE_BRUSH белая кисть.

- BLACK_PEN черное перо.

- NULL_PEN пустое перо.

- WHITE_PEN белое перо.

- ANSI_FIXED_FONT фиксированный системный шрифт ANSI.

- ANSI_VAR_FONT переменную системного шрифта ANSI.

- DEVICE_DEFAULT_FONT шрифт, зависящий от устройства.

- OEM_FIXED_FONT фиксированный шрифт, зависящий от изготовителя оборудования.

- SYSTEM_FONT системный шрифт. По умолчанию Windows использует системный шрифт для рисования меню, элементов управления диалоговых окон и другого текста. Однако лучше не полагаться на SYSTEM_FONT для получения шрифта, используемого в диалоговых окнах и окнах. Вместо этого используйте `SystemParametersInfo` функцию с параметром SPI_GETNONCLIENTMETRICS, чтобы получить текущий шрифт. `SystemParametersInfo`учитывает текущую тему и предоставляет сведения о шрифтах для заголовков, меню и диалоговых окон сообщений.

- SYSTEM_FIXED_FONT системный шрифт фиксированной ширины, используемый в Windows до версии 3,0. Этот объект доступен для совместимости с более ранними версиями Windows.

- Цветовая палитра DEFAULT_PALETTE по умолчанию. Эта палитра состоит из 20 статических цветов в системной палитре.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CGdiObject` объект, который был заменен при успешном выполнении функции. Фактический объект, на который указывает, является объектом [кпен](../../mfc/reference/cpen-class.md), [кбруш](../../mfc/reference/cbrush-class.md)или [кфонт](../../mfc/reference/cfont-class.md) . Если вызов завершается неудачно, возвращается значение NULL.

## <a name="cdcsetabortproc"></a><a name="setabortproc"></a>CDC:: SetAbortProc

Устанавливает процедуру прерывания для задания печати.

```
int SetAbortProc(BOOL (CALLBACK* lpfn)(HDC, int));
```

### <a name="parameters"></a>Параметры

*лпфн*<br/>
Указатель на функцию Abort для установки в качестве процедуры прерывания. Дополнительные сведения о функции обратного вызова см. в разделе [функция обратного вызова для CDC:: SetAbortProc](callback-functions-used-by-mfc.md#setabortproc).

### <a name="return-value"></a>Возвращаемое значение

Указывает результат `SetAbortProc` функции. Некоторые из приведенных ниже значений являются более вероятной, чем другие, но все это возможно.

- SP_ERROR общая ошибка.

- SP_OUTOFDISK на данный момент недостаточно места на диске для очереди печати, и больше места не будет доступно.

- SP_OUTOFMEMORY недостаточно памяти для буферизации.

- SP_USERABORT пользователь завершил задание с помощью диспетчера печати.

### <a name="remarks"></a>Примечания

Если приложение должно разрешить отмену задания печати во время постановки в очередь, перед запуском задания печати с функцией-членом [стартдок](#startdoc) необходимо задать функцию Abort. Диспетчер печати вызывает функцию Abort во время буферизации, чтобы позволить приложению отменить задание печати или обработать условия нехватки места на диске. Если функция Abort не задана, задание печати завершится ошибкой, если на диске недостаточно места для буферизации.

Обратите внимание, что функции Microsoft Visual C++ упрощают создание функции обратного вызова, передаваемой в `SetAbortProc` . Адрес, передаваемый `EnumObjects` функции-члену, является указателем на функцию, экспортируемую с помощью `__declspec(dllexport)` и с **`__stdcall`** соглашением о вызовах.

Кроме того, не нужно экспортировать имя функции в инструкции **EXPORTS** в файле определения модуля приложения. Вместо этого можно использовать модификатор функции **экспорта** , как в

`BOOL CALLBACK EXPORT AFunction( HDC, int );`

значение, чтобы компилятор выдавал правильную запись экспорта для экспорта по имени без присвоения псевдонимов. Это подходит для большинства задач. В некоторых особых случаях, например при экспорте функции по порядковому номеру или псевдониму экспорта, по-прежнему необходимо использовать инструкцию **EXPORTS** в файле определения модуля.

Интерфейсы регистрации обратного вызова теперь являются типобезопасными (необходимо передать указатель на функцию, указывающий на правильный тип функции для конкретного обратного вызова).

Также обратите внимание, что все функции обратного вызова должны перехватывать исключения Microsoft Foundation перед возвратом в Windows, так как исключения не могут быть вызваны через границы обратного вызова. Дополнительные сведения об исключениях см. в статье [исключения](../../mfc/exception-handling-in-mfc.md).

## <a name="cdcsetarcdirection"></a><a name="setarcdirection"></a>CDC:: Сетаркдиректион

Задает направление рисования, которое будет использоваться для функций дуги и Rectangle.

```
int SetArcDirection(int nArcDirection);
```

### <a name="parameters"></a>Параметры

*наркдиректион*<br/>
Указывает новое направление дуги. Этот параметр может принимать одно из следующих значений:

- AD_COUNTERCLOCKWISE цифры, отображаемые против часовой стрелки.

- AD_CLOCKWISE цифры, рисуемые по часовой стрелке.

### <a name="return-value"></a>Возвращаемое значение

Указывает старое направление дуги в случае успеха; в противном случае — 0.

### <a name="remarks"></a>Примечания

Направление по умолчанию — против часовой стрелки. `SetArcDirection`Функция задает направление рисования следующих функций:

|Arc|Pie|
|---------|---------|
|`ArcTo`|`Rectangle`|
|`Chord`|`RoundRect`|
|`Ellipse`||

## <a name="cdcsetattribdc"></a><a name="setattribdc"></a>CDC:: Сетаттрибдк

Вызовите эту функцию, чтобы задать контекст устройства атрибута, `m_hAttribDC` .

```
virtual void SetAttribDC(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Контекст устройства Windows.

### <a name="remarks"></a>Примечания

Эта функция члена не присоединяет контекст устройства к `CDC` объекту. К объекту прикрепляется только контекст выходного устройства `CDC` .

## <a name="cdcsetbkcolor"></a><a name="setbkcolor"></a>CDC:: Сетбкколор

Задает текущий цвет фона для указанного цвета.

```
virtual COLORREF SetBkColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*крколор*<br/>
Задает новый цвет фона.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий цвет фона в виде значения цвета RGB. Если возникает ошибка, возвращается значение 0x80000000.

### <a name="remarks"></a>Примечания

Если фоновый режим непрозрачен, система использует цвет фона для заполнения зазоров в строках в стиле, зазоров между заштрихованными линиями в кистях и фона в ячейках символов. Система также использует цвет фона при преобразовании точечных рисунков между цветом и монохромными контекстами устройств.

Если устройство не может отобразить указанный цвет, система устанавливает цвет фона на ближайший физический цвет.

## <a name="cdcsetbkmode"></a><a name="setbkmode"></a>CDC:: Сетбкмоде

Задает фоновый режим.

```
int SetBkMode(int nBkMode);
```

### <a name="parameters"></a>Параметры

*нбкмоде*<br/>
Задает режим, который необходимо задать. Этот параметр может принимать одно из следующих значений:

- Непрозрачный фон заполняется текущим цветом фона перед прорисовкой текста, штриховой кисти или пером. Это фоновый режим по умолчанию.

- ПРОЗРАЧНЫЙ фон не изменяется перед рисованием.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий фоновый режим.

### <a name="remarks"></a>Примечания

Фоновый режим определяет, будут ли система удалять существующие цвета фона на поверхности рисования перед рисованием текста, штриховыми кистями или любым стилем пера, который не является сплошной линией.

### <a name="example"></a>Пример

  См. пример для [CWnd:: онктлколор](../../mfc/reference/cwnd-class.md#onctlcolor).

## <a name="cdcsetboundsrect"></a><a name="setboundsrect"></a>CDC:: Сетбаундсрект

Управляет накоплением данных ограничивающего прямоугольника для указанного контекста устройства.

```
UINT SetBoundsRect(
    LPCRECT lpRectBounds,
    UINT flags);
```

### <a name="parameters"></a>Параметры

*лпректбаундс*<br/>
Указывает на `RECT` структуру или `CRect` объект, который используется для задания ограничивающего прямоугольника. Размеры прямоугольников задаются в логических координатах. Этот параметр может иметь значение NULL.

*flags*<br/>
Указывает, как новый прямоугольник будет объединен с накопленным прямоугольником. Этот параметр может быть сочетанием следующих значений:

- DCB_ACCUMULATE добавить прямоугольник, заданный параметром *лпректбаундс* , в ограничивающий прямоугольник (с помощью операции объединения прямоугольников).

- DCB_DISABLE отключение накопленных границ.

- DCB_ENABLE включить накопление границ. (Значение по умолчанию для накопления границ отключено.)

### <a name="return-value"></a>Возвращаемое значение

Текущее состояние ограничивающего прямоугольника, если функция выполнена успешно. Как и *Флаги*, возвращаемое значение может быть сочетанием **DCB_** значений:

- DCB_ACCUMULATE ограничивающий прямоугольник не пуст. Это значение всегда будет задано.

- Накопление границ DCB_DISABLE отключено.

- Накопление границ DCB_ENABLE включено.

### <a name="remarks"></a>Примечания

Windows может поддерживать ограничивающий прямоугольник для всех операций рисования. Этот прямоугольник можно запрашивать и сбрасывать в приложении. Границы рисования полезны при непроверке кэшей точечных рисунков.

## <a name="cdcsetbrushorg"></a><a name="setbrushorg"></a>CDC:: Сетбрушорг

Указывает источник, который GDI будет назначать следующей кисти, которую приложение выбирает в контексте устройства.

```
CPoint SetBrushOrg(
    int x,
    int y);

CPoint SetBrushOrg(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает координату x нового источника (в единицах устройства). Это значение должно находиться в диапазоне 0-7.

*&*<br/>
Задает координату по оси y (в единицах устройства) нового источника. Это значение должно находиться в диапазоне 0-7.

*точки*<br/>
Задает координаты x и y нового источника. Каждое значение должно находиться в диапазоне 0-7. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий источник кисти в единицах устройства.

### <a name="remarks"></a>Примечания

Координаты по умолчанию для источника кисти: (0, 0). Чтобы изменить источник кисти, вызовите `UnrealizeObject` функцию для объекта, вызовите `CBrush` `SetBrushOrg` , а затем вызовите `SelectObject` функцию-член, чтобы выбрать кисть в контексте устройства.

Не используйте `SetBrushOrg` с объектами акции `CBrush` .

## <a name="cdcsetcoloradjustment"></a><a name="setcoloradjustment"></a>CDC:: Сетколораджустмент

Задает значения коррекции цвета для контекста устройства, используя указанные значения.

```
BOOL SetColorAdjustment(const COLORADJUSTMENT* lpColorAdjust);
```

### <a name="parameters"></a>Параметры

*лпколораджуст*<br/>
Указывает на структуру данных [колораджустмент](/windows/win32/api/wingdi/ns-wingdi-coloradjustment) , содержащую значения коррекции цвета.

### <a name="return-value"></a>Возвращаемое значение

Имеет ненулевое значение в случае успешного выполнения, иначе — 0.

### <a name="remarks"></a>Примечания

Значения коррекции цвета используются для настройки цвета ввода исходного растрового изображения для вызовов функции-члена, `CDC::StretchBlt` когда задан режим передачи полутонов.

## <a name="cdcsetdcbrushcolor"></a><a name="setdcbrushcolor"></a>CDC:: Сетдкбрушколор

Устанавливает для текущего цвета кисти контекста устройства (DC) указанное значение цвета.

```
COLORREF SetDCBrushColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*крколор*<br/>
Указывает новый цвет кисти.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена, возвращаемое значение указывает предыдущий цвет кисти контроллера домена как значение COLORREF.

Если функция выполняется неудачно, возвращается значение CLR_INVALID.

### <a name="remarks"></a>Примечания

Этот метод эмулирует функциональность функции [сетдкбрушколор](/windows/win32/api/wingdi/nf-wingdi-setdcbrushcolor), как описано в Windows SDK.

## <a name="cdcsetdcpencolor"></a><a name="setdcpencolor"></a>CDC:: Сетдкпенколор

Устанавливает текущий цвет пера для текущего контекста устройства (DC) в указанное значение цвета.

```
COLORREF SetDCPenColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*крколор*<br/>
Указывает новый цвет пера.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция члена использует функцию Win32 [сетдкпенколор](/windows/win32/api/wingdi/nf-wingdi-setdcpencolor), как описано в Windows SDK.

## <a name="cdcsetgraphicsmode"></a><a name="setgraphicsmode"></a>CDC:: Сетграфиксмоде

Задает графический режим для указанного контекста устройства.

```
int SetGraphicsMode(int iMode);
```

### <a name="parameters"></a>Параметры

*имоде*<br/>
Задает графический режим. Список значений, которые может выполнить этот параметр, см. в разделе [сетграфиксмоде](/windows/win32/api/wingdi/nf-wingdi-setgraphicsmode).

### <a name="return-value"></a>Возвращаемое значение

Возвращает старый графический режим при успешном выполнении.

Возвращает значение 0 в случае сбоя. Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [сетграфиксмоде](/windows/win32/api/wingdi/nf-wingdi-setgraphicsmode).

## <a name="cdcsetlayout"></a><a name="setlayout"></a>CDC:: Сетлайаут

Вызовите эту функцию-член, чтобы изменить макет текста и графики для контекста устройства справа налево, Стандартный макет для таких культур, как арабский и иврит.

```
DWORD SetLayout(DWORD dwLayout);
```

### <a name="parameters"></a>Параметры

*двлайаут*<br/>
Отметка контекста устройства и флаги растрового элемента управления. Это может быть сочетание следующих значений.

|Значение|Значение|
|-----------|-------------|
|LAYOUT_BITMAPORIENTATIONPRESERVED|Отключает любое отражение для вызовов [CDC:: BitBlt](#bitblt) и [CDC:: стретчблт](#stretchblt).|
|LAYOUT_RTL|Задает горизонтальный макет по умолчанию справа налево.|
|LAYOUT_LTR|Задает макет по умолчанию слева направо.|

### <a name="return-value"></a>Возвращаемое значение

В случае успеха предыдущий макет контекста устройства.

В случае неудачи GDI_ERROR. Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Как правило, вызов для окна не вызывается `SetLayout` . Вместо этого вы управляете макетом справа налево в окне, устанавливая [Расширенные стили окон](../../mfc/reference/styles-used-by-mfc.md#extended-window-styles) , например WS_EX_RTLREADING. Контекст устройства, например принтер или метафайл, не наследует этот макет. Единственный способ задать контекст устройства для макета справа налево — вызвать `SetLayout` .

При вызове **сетлайаут (LAYOUT_RTL** ) `SetLayout` автоматически изменяет режим сопоставления на MM_ISOTROPIC. В результате последующий вызов [жетмапмоде](#getmapmode) возвратит MM_ISOTROPIC вместо MM_TEXT.

В некоторых случаях, например с несколькими точечными рисунками, может потребоваться сохранить макет слева направо. В таких случаях следует подготовить изображение путем вызова `BitBlt` или `StretchBlt` , а затем установить флаг элемента управления Bitmap для *двлайаут* в значение LAYOUT_BITMAPORIENTATIONPRESERVED.

После изменения макета с помощью флага LAYOUT_RTL флаги, обычно задающие право или левое, реверсируются. Чтобы избежать путаницы, может потребоваться определить альтернативные имена для стандартных флагов. Список предлагаемых альтернативных имен флагов см. в разделе [сетлайаут](/windows/win32/api/wingdi/nf-wingdi-setlayout) в Windows SDK.

## <a name="cdcsetmapmode"></a><a name="setmapmode"></a>CDC:: Сетмапмоде

Задает режим сопоставления.

```
virtual int SetMapMode(int nMapMode);
```

### <a name="parameters"></a>Параметры

*нмапмоде*<br/>
Указывает новый режим сопоставления. Это может быть одно из следующих значений:

- MM_ANISOTROPIC логические устройства преобразуются в произвольные единицы с произвольно масштабируемыми осями. Установка для режима сопоставления значения MM_ANISOTROPIC не изменяет текущее окно или параметры окна просмотра. Чтобы изменить единицы, ориентацию и масштабирование, вызовите функции члена [сетвиндовекст](#setwindowext) и [сетвиевпортекст](#setviewportext) .

- MM_HIENGLISH Каждая логическая единица преобразуется в 0,001 дюйма. Положительный x — справа; положительный y.

- MM_HIMETRIC Каждая логическая единица преобразуется в 0,01 миллиметра. Положительный x — справа; положительный y.

- MM_ISOTROPIC логические устройства преобразуются в произвольные единицы с одинаковыми масштабируемыми осями; то есть 1 единица вдоль оси x равна 1 единице вдоль оси y. Используйте `SetWindowExt` `SetViewportExt` функции члена и, чтобы указать нужные единицы и ориентацию осей. При необходимости GDI вносит необходимые изменения, чтобы гарантировать, что единицы x и y будут иметь одинаковый размер.

- MM_LOENGLISH Каждая логическая единица преобразуется в 0,01 дюйма. Положительный x — справа; положительный y.

- MM_LOMETRIC Каждая логическая единица преобразуется в 0,1 миллиметра. Положительный x — справа; положительный y.

- MM_TEXT Каждая логическая единица преобразуется в 1 пиксель устройства. Положительный x — справа; положительный y не работает.

- MM_TWIPS Каждая логическая единица преобразуется в 1/20 точки. (Так как точка 1/72 дюйма, твипах составляет 1/1440 дюйма.) Положительный x — справа; положительный y.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим сопоставления.

### <a name="remarks"></a>Примечания

Режим сопоставления определяет единицу измерения, используемую для преобразования логических устройств в единицы устройства. Он также определяет ориентацию осей x и y устройства. GDI использует режим сопоставления для преобразования логических координат в соответствующие координаты устройства. Режим MM_TEXT позволяет приложениям работать в точках устройства, где 1 единица равна 1 пикселю. Физический размер пикселя меняется от устройства к устройству.

Режимы MM_HIENGLISH, MM_HIMETRIC, MM_LOENGLISH, MM_LOMETRIC и MM_TWIPS полезны для приложений, которые должны рисоваться в физически значимых единицах (например, дюймах или миллиметрах). Режим MM_ISOTROPIC обеспечивает пропорции 1:1, что полезно, когда важно сохранить точную форму изображения. Режим MM_ANISOTROPIC позволяет настраивать координаты x и y независимо друг от друга.

> [!NOTE]
> При вызове [сетлайаут](#setlayout) для изменения макета контроллера домена (контекста устройства) на макет с письмом справа налево `SetLayout` автоматически изменяет режим сопоставления на MM_ISOTROPIC.

### <a name="example"></a>Пример

  См. пример для [CView:: онпрепаредк](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetmapperflags"></a><a name="setmapperflags"></a>CDC:: Сетмапперфлагс

Изменяет метод, используемый средством сопоставления шрифтов при преобразовании логического шрифта в физический шрифт.

```
DWORD SetMapperFlags(DWORD dwFlag);
```

### <a name="parameters"></a>Параметры

*dwFlag*<br/>
Указывает, пытается ли средство сопоставления шрифтов соответствовать высоте и ширине шрифта для устройства. Если это значение равно ASPECT_FILTERING, средство сопоставления выбирает только те шрифты, для которых параметр x-аспектов и y-аспекта точно соответствуют значениям указанного устройства.

### <a name="return-value"></a>Возвращаемое значение

Предыдущее значение флага сопоставления шрифтов.

### <a name="remarks"></a>Примечания

Приложение может использовать, `SetMapperFlags` чтобы средство сопоставления шрифтов предпринимало попытку выбрать только физический шрифт, который точно соответствует пропорциям указанного устройства.

Приложение, использующее только растровые шрифты, может использовать `SetMapperFlags` функцию, чтобы убедиться, что шрифт, выбранный средством сопоставления шрифтов, является привлекательным и удобочитаемым на указанном устройстве. Приложения, использующие масштабируемые шрифты (TrueType), обычно не используют `SetMapperFlags` .

Если у физического шрифта нет пропорций, соответствующих спецификации в логическом шрифте, GDI выбирает новое пропорции и выбирает шрифт, соответствующий этому новому пропорции.

## <a name="cdcsetmiterlimit"></a><a name="setmiterlimit"></a>CDC:: Сетмитерлимит

Задает ограничение длины угловых соединений для контекста устройства.

```
BOOL SetMiterLimit(float fMiterLimit);
```

### <a name="parameters"></a>Параметры

*фмитерлимит*<br/>
Указывает новый предел среза для контекста устройства.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Длина среза определяется как расстояние от пересечения линий стен внутри соединения с пересечением линий стен за пределами соединения. Предел среза — это максимально допустимое соотношение длины среза к толщине линии. Предел среза по умолчанию — 10,0.

## <a name="cdcsetoutputdc"></a><a name="setoutputdc"></a>CDC:: Сетаутпутдк

Вызовите эту функцию члена, чтобы задать контекст устройства вывода, `m_hDC` .

```
virtual void SetOutputDC(HDC hDC);
```

### <a name="parameters"></a>Параметры

*hDC*<br/>
Контекст устройства Windows.

### <a name="remarks"></a>Примечания

Эта функция-член может быть вызвана только в том случае, если контекст устройства не был присоединен к `CDC` объекту. Эта функция члена задает, `m_hDC` но не присоединяет контекст устройства к `CDC` объекту.

## <a name="cdcsetpixel"></a><a name="setpixel"></a>CDC:: SetPixel

Задает пиксель в точке, указанной в ближайшее приближение к цвету, заданному параметром *крколор*.

```
COLORREF SetPixel(
    int x,
    int y,
    COLORREF crColor);

COLORREF SetPixel(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x устанавливаемой точки.

*&*<br/>
Задает логическую координату y устанавливаемой точки.

*крколор*<br/>
Значение COLORREF RGB, указывающее цвет, используемый для рисования точки. Описание этого значения см. в разделе [COLORREF](/windows/win32/gdi/colorref) в Windows SDK.

*точки*<br/>
Задает логические координаты x и y устанавливаемой точки. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Значение RGB для цвета, на котором на самом деле нарисована точка. Это значение может отличаться от значения, заданного параметром *крколор* , если используется приближение этого цвета. Если функция завершается ошибкой (если точка находится за пределами вырезанной области), возвращается значение-1.

### <a name="remarks"></a>Примечания

Точка должна находиться в области отсечения. Если точка не находится в вырезанной области, функция не выполняет никаких действий.

Не все устройства поддерживают функцию `SetPixel`. Чтобы определить, поддерживает ли устройство `SetPixel` , вызовите `GetDeviceCaps` функцию-член с индексом растеркапс и проверьте возвращаемое значение для флага RC_BITBLT.

## <a name="cdcsetpixelv"></a><a name="setpixelv"></a>CDC:: Сетпикселв

Задает пиксель с заданными координатами до ближайшей аппроксимации указанного цвета.

```
BOOL SetPixelV(
    int x,
    int y,
    COLORREF crColor);

BOOL SetPixelV(
    POINT point,
    COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает координату по оси x (в логических единицах) устанавливаемой точки.

*&*<br/>
Задает координату y (в логических единицах) устанавливаемой точки.

*крколор*<br/>
Задает цвет, используемый для рисования точки.

*точки*<br/>
Задает логические координаты x и y устанавливаемой точки. Для этого параметра можно передать либо структуру данных [Point](/windows/win32/api/windef/ns-windef-point) , либо объект [CPoint](../../atl-mfc-shared/reference/cpoint-class.md) .

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Точка должна быть в области обрезки и видимой части поверхности устройства. Не все устройства поддерживают функцию члена. Дополнительные сведения см. в описании возможности RC_BITBLT в `CDC::GetDeviceCaps` функции Member. `SetPixelV`работает быстрее, чем `SetPixel` потому, что не требуется возвращать значение цвета, нарисованное точкой.

## <a name="cdcsetpolyfillmode"></a><a name="setpolyfillmode"></a>CDC:: Сетполифиллмоде

Задает режим заполнения многоугольников.

```
int SetPolyFillMode(int nPolyFillMode);
```

### <a name="parameters"></a>Параметры

*нполифиллмоде*<br/>
Задает новый режим заполнения. Это значение может быть либо АЛЬТЕРНАТИВным, либо ОБМОТКой. Режим по умолчанию, заданный в Windows, является АЛЬТЕРНАТИВным.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим заполнения (при успешном выполнении). в противном случае — 0.

### <a name="remarks"></a>Примечания

Если в качестве АЛЬТЕРНАТИВы используется режим заливки многоугольников, система заполняет область между нечетными и четными числами многоугольниками в каждой строке сканирования. Это значит, что система заполняет область между первой и второй сторон, между третьей и четвертой сторон и т. д. Этот режим используется по умолчанию.

Когда режим заливки многоугольников находится в режиме поворота, система использует направление рисования фигуры, чтобы определить, следует ли заполнить область. Каждый сегмент линии многоугольника рисуется либо по часовой стрелке, либо в направлении против часовой стрелки. Каждый раз, когда мнимая линия, нарисованная из замкнутой области на внешнюю фигуру, проходит через отрезок по часовой стрелке, счетчик увеличивается. Если линия проходит через сегмент в виде линии против часовой стрелки, счетчик уменьшается. Область заполняется, если значение счетчика не равно нулю, когда линия попадает за пределы фигуры.

## <a name="cdcsetrop2"></a><a name="setrop2"></a>CDC:: SetROP2

Задает текущий режим рисования.

```
int SetROP2(int nDrawMode);
```

### <a name="parameters"></a>Параметры

*ндравмоде*<br/>
Задает новый режим рисования. В качестве такой точки может выступать любой из следующих вариантов:

- R2_BLACK пиксел всегда является черным.

- R2_WHITE пиксель всегда имеет белый цвет.

- R2_NOP пиксел остается неизменным.

- R2_NOT пиксель — это обратный цвет экрана.

- R2_COPYPEN пиксель — это цвет пера.

- R2_NOTCOPYPEN пиксель является инверсией цвета пера.

- R2_MERGEPENNOT пиксель — это сочетание цвета пера и инвертированного цвета экрана (последний пиксель = (не экранный пиксель) или перо).

- R2_MASKPENNOT пиксель — это сочетание цветов, общих для пера и инвертированного экрана (последний пиксель = (не экранный пиксель) и перо).

- R2_MERGENOTPEN пиксель — это сочетание цвета экрана и инвертированного цвета пера (последний пиксель = (не перо) или пиксельный экран).

- R2_MASKNOTPEN пиксель — это сочетание цветов, общих для экрана, и инвертирование пера (последний пиксель = (не перо) и пиксельный экран).

- R2_MERGEPEN пиксель — это сочетание цвета пера и цвета экрана (последний пиксель = перо или пиксельный экран).

- R2_NOTMERGEPEN пиксель является инверсией цвета R2_MERGEPEN (последний пиксель = не (перо или пиксель пикселей)).

- R2_MASKPEN пиксель — это сочетание цветов, общих для пера и экрана (последний пиксель = перо и пиксельный экран).

- R2_NOTMASKPEN пиксель — это инверсия цвета R2_MASKPEN (последний пиксель = не (пиксельное перо и экран пикселей)).

- R2_XORPEN пиксель — это сочетание цветов, наявляющихся на планшете или на экране, но не в обоих (финальный пиксель = перо, экран пикселей, пиксель).

- R2_NOTXORPEN пиксель — это инверсия цвета R2_XORPEN (последний пиксель = нет (экран с перьевым экраном)).

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим рисования.

Это может быть любое из значений, заданных в Windows SDK.

### <a name="remarks"></a>Примечания

Режим рисования определяет, как цвета пера и внутренней заливки объектов объединяются с цветом, который уже находится на поверхности отображения.

Режим рисования предназначен только для растровых устройств; Он не применяется к устройствам вектора. Режимы рисования — это двоичные точечные коды операций, представляющие все возможные логические комбинации двух переменных, с использованием бинарных операторов AND, OR и XOR (исключающее или) и унарной операции NOT.

## <a name="cdcsetstretchbltmode"></a><a name="setstretchbltmode"></a>CDC:: Сетстретчблтмоде

Задает режим растяжения растрового изображения для `StretchBlt` функции-члена.

```
int SetStretchBltMode(int nStretchMode);
```

### <a name="parameters"></a>Параметры

*нстретчмоде*<br/>
Задает режим растяжения. В качестве такой точки может выступать любой из следующих вариантов:

|Значение|Описание|
|-----------|-----------------|
|блакконвхите|Выполняет логическое действие и использует значения цвета для исключенных и существующих пикселей. Если точечный рисунок является монохромным точечным рисунком, в этом режиме сохраняются черные пиксели за счет белых пикселей.|
|колоронколор|Удаляет Пиксели. Этот режим удаляет все удаленные строки пикселей, не пытаясь сохранить их данные.|
|НАСТРОЕК|Сопоставляет пикселы из исходного прямоугольника с блоками пикселей в прямоугольнике назначения. Средний цвет в конечном блоке пикселей приблизительно соответствует цвету исходных пикселей.|
||После установки режима растяжения ПОЛУТОНОВ приложение должно вызвать функцию Win32 [сетбрушоржекс](/windows/win32/api/wingdi/nf-wingdi-setbrushorgex) , чтобы задать начало координат кисти. Если это не удается сделать, происходит неправильное выравнивание кисти.|
|STRETCH_ANDSCANS|**Windows 95/98**: то же, что и блакконвхите|
|STRETCH_DELETESCANS|**Windows 95/98**: то же, что и колоронколор|
|STRETCH_HALFTONE|**Windows 95/98**: то же, что и полутона.|
|STRETCH_ORSCANS|**Windows 95/98**: то же, что и вхитеонблакк|
|вхитеонблакк|Выполняет логическое действие или, используя значения цвета для исключенных и существующих пикселей. Если точечный рисунок является монохромным, этот режим сохраняет белые Пиксели за счет черного пикселя.|

### <a name="return-value"></a>Возвращаемое значение

Предыдущий режим растяжения. Это может быть STRETCH_ANDSCANS, STRETCH_DELETESCANS или STRETCH_ORSCANS.

### <a name="remarks"></a>Примечания

Режим растяжения по точечному рисунку определяет способ удаления информации из точечных рисунков, которые сжимаются с помощью функции.

Режимы БЛАККОНВХИТЕ (STRETCH_ANDSCANS) и ВХИТЕОНБЛАКК (STRETCH_ORSCANS) обычно используются для сохранения пикселов переднего плана в монохромных точечных рисунках. Режим КОЛОРОНКОЛОР (STRETCH_DELETESCANS) обычно используется для сохранения цвета в точечных рисунках цвета.

Для режима передачи ПОЛУТОНОВ требуется больше обработки исходного изображения, чем в других трех режимах. он медленнее, чем другие, но дает более качественные образы. Также обратите внимание, что `SetBrushOrgEx` метод должен вызываться после установки режима полутонов, чтобы избежать неправильного выравнивания кисти.

Дополнительные режимы растяжения также могут быть доступны в зависимости от возможностей драйвера устройства.

## <a name="cdcsettextalign"></a><a name="settextalign"></a>CDC:: Сеттексталигн

Задает флаги выравнивания текста.

```
UINT SetTextAlign(UINT nFlags);
```

### <a name="parameters"></a>Параметры

*нфлагс*<br/>
Задает флаги выравнивания текста. Флаги определяют связь между точкой и прямоугольником, ограничивающим текст. Точка может быть либо текущей позицией, либо координатами, заданными функцией вывода текста. Прямоугольник, ограничивающий текст, определяется смежными ячейками символов в текстовой строке. Параметр *нфлагс* может быть одним или несколькими флагами из следующих трех категорий. Выберите только один флаг из каждой категории. Первая категория влияет на выравнивание текста по оси x:

- TA_CENTER Выравнивает точку по горизонтальному центру ограничивающего прямоугольника.

- TA_LEFT выровняйте точку по левой стороне ограничивающего прямоугольника. Это параметр по умолчанию.

- TA_RIGHT выровняйте точку с правой стороны ограничивающего прямоугольника.

Вторая категория влияет на выравнивание текста по оси y:

- TA_BASELINE выровнять точку по базовой строке выбранного шрифта.

- TA_BOTTOM выровняйте точку по нижнему краю ограничивающего прямоугольника.

- TA_TOP выровняйте точку с верхней границей ограничивающего прямоугольника. Это параметр по умолчанию.

Третья категория определяет, обновляются ли текущие координаты при написании текста:

- TA_NOUPDATECP не обновляет текущую точку после каждого вызова функции вывода текста. Это параметр по умолчанию.

- TA_UPDATECP Обновляет текущую точку по оси x после каждого вызова функции вывода текста. Новая позиции находится в правой части ограничивающего прямоугольника для текста. Если этот флаг установлен, координаты, указанные в вызовах функции- `TextOut` члена, игнорируются.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий параметр выравнивания текста (при успешном выполнении). Байт нижнего порядка содержит горизонтальный параметр, а старший байт — вертикальный параметр. в противном случае — 0.

### <a name="remarks"></a>Примечания

`TextOut`Функции- `ExtTextOut` члены и используют эти флаги при размещении строки текста на дисплее или на устройстве. Флаги определяют связь между определенной точкой и прямоугольником, ограничивающим текст. Координаты этой точки передаются в качестве параметров `TextOut` функции члена. Прямоугольник, ограничивающий текст, формируется смежными ячейками символов в текстовой строке.

## <a name="cdcsettextcharacterextra"></a><a name="settextcharacterextra"></a>CDC:: Сеттекстчарактерекстра

Задает расстояние между символами.

```
int SetTextCharacterExtra(int nCharExtra);
```

### <a name="parameters"></a>Параметры

*нчарекстра*<br/>
Указывает объем дополнительного пространства (в логических единицах), добавляемого к каждому символу. Если текущий режим сопоставления не равен `MM_TEXT` , *нчарекстра* преобразуется и округляется до ближайшего пикселя.

### <a name="return-value"></a>Возвращаемое значение

Объем предыдущего интервала между символами.

### <a name="remarks"></a>Примечания

GDI добавляет этот интервал к каждому символу, включая символы разрыва, при записи строки текста в контекст устройства. Значение по умолчанию для интервала между символами равно 0.

## <a name="cdcsettextcolor"></a><a name="settextcolor"></a>CDC:: Сеттекстколор

Задает цвет текста, равный указанному цвету.

```
virtual COLORREF SetTextColor(COLORREF crColor);
```

### <a name="parameters"></a>Параметры

*крколор*<br/>
Задает цвет текста в виде значения цвета RGB.

### <a name="return-value"></a>Возвращаемое значение

Значение RGB для предыдущего цвета текста.

### <a name="remarks"></a>Примечания

Система будет использовать этот цвет текста при записи текста в этот контекст устройства, а также при преобразовании точечных рисунков между цветом и монохромными контекстами устройств.

Если устройство не может представить указанный цвет, система устанавливает цвет текста, равный ближайшему физическому цвету. Цвет фона для символа задается `SetBkColor` функциями-членами и `SetBkMode` .

### <a name="example"></a>Пример

  См. пример для [CWnd:: онктлколор](../../mfc/reference/cwnd-class.md#onctlcolor).

## <a name="cdcsettextjustification"></a><a name="settextjustification"></a>CDC:: Сеттекстжустификатион

Добавляет пробел к символам разрыва в строке.

```
int SetTextJustification(
    int nBreakExtra,
    int nBreakCount);
```

### <a name="parameters"></a>Параметры

*нбреакекстра*<br/>
Указывает общее дополнительное пространство, добавляемое в строку текста (в логических единицах). Если текущий режим сопоставления не равен `MM_TEXT` , значение, заданное этим параметром, преобразуется в текущий режим сопоставления и округляется до ближайшей единицы устройства.

*нбреаккаунт*<br/>
Указывает число символов разрыва в строке.

### <a name="return-value"></a>Возвращаемое значение

Один, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Приложение может использовать функции- `GetTextMetrics` члены для получения символа разрыва шрифта.

После `SetTextJustification` вызова функции-члена вызов функции вывода текста (например, `TextOut` ) распределяет заданный дополнительный пробел равномерно между заданным числом символов разрыва. Символ разрыва обычно является символом пробела (ASCII 32), но может быть определен шрифтом в качестве другого символа.

Функция-член `GetTextExtent` обычно используется с `SetTextJustification` . `GetTextExtent`выполняет вычисление ширины заданной строки перед выравниванием. Приложение может определить, сколько пространства следует указать в параметре *нбреакекстра* , вычитая значение, возвращаемое `GetTextExtent` из ширины строки после выравнивания.

`SetTextJustification`Функцию можно использовать для выровнять линию, содержащую несколько запусков, в разных шрифтах. В этом случае строка должна быть создана поэтапно путем согласования и записи каждого запуска по отдельности.

Поскольку ошибки округления могут возникать во время выравнивания, система сохраняет условие выполнения ошибки, определяющее текущую ошибку. При выровняйте строки, содержащей несколько запусков, `GetTextExtent` автоматически использует этот термин ошибки при вычислении степени следующего выполнения. Это позволяет функции Text-Output накладывать ошибку на новый запуск.

После того как каждая строка будет согласована, этот термин ошибки необходимо очистить, чтобы предотвратить его встраивание в следующую строку. Термин можно очистить, вызвав with с параметром Нбреакекстра, равным `SetTextJustification` 0. *nBreakExtra*

## <a name="cdcsetviewportext"></a><a name="setviewportext"></a>CDC:: Сетвиевпортекст

Задает экстенты x и y окна просмотра контекста устройства.

```
virtual CSize SetViewportExt(
    int cx,
    int cy);

CSize SetViewportExt(SIZE size);
```

### <a name="parameters"></a>Параметры

*/CX*<br/>
Задает область x окна просмотра (в единицах устройства).

*CY*<br/>
Задает размер области просмотра по оси y (в единицах устройства).

*size*<br/>
Задает экстенты x и y окна просмотра (в единицах устройства).

### <a name="return-value"></a>Возвращаемое значение

Предыдущие экстенты окна просмотра как объект [ксизе](../../atl-mfc-shared/reference/csize-class.md) . При возникновении ошибки координаты x и y возвращаемого `CSize` объекта устанавливаются в 0.

### <a name="remarks"></a>Примечания

В окне просмотра, а также окно контекста устройства, определяется, как точки сопоставления GDI в логической системе координат указывают на точки в системе координат фактического устройства. Иными словами, они определяют, как GDI преобразует логические координаты в координаты устройства.

Если заданы следующие режимы сопоставления, вызовы функций `SetWindowExt` и `SetViewportExt` игнорируются:

|MM_HIENGLISH|MM_LOMETRIC|
|-------------------|------------------|
|MM_HIMETRIC|MM_TEXT|
|MM_LOENGLISH|MM_TWIPS|

Если задан режим MM_ISOTROPIC, приложение должно вызвать `SetWindowExt` функцию-член перед вызовом `SetViewportExt` .

### <a name="example"></a>Пример

  См. пример для [CView:: онпрепаредк](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetviewportorg"></a><a name="setviewportorg"></a>CDC:: Сетвиевпорторг

Задает источник окна просмотра контекста устройства.

```
virtual CPoint SetViewportOrg(
    int x,
    int y);

CPoint SetViewportOrg(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает координату по оси x (в единицах устройства) источника окна просмотра. Значение должно находиться в диапазоне системы координат устройства.

*&*<br/>
Задает координату по оси y (в единицах устройства) источника окна просмотра. Значение должно находиться в диапазоне системы координат устройства.

*точки*<br/>
Указывает источник окна просмотра. Значения должны находиться в диапазоне от системы координат устройства. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий источник окна просмотра (в координатах устройства) в виде `CPoint` объекта.

### <a name="remarks"></a>Примечания

В окне просмотра, а также окно контекста устройства, определяется, как точки сопоставления GDI в логической системе координат указывают на точки в системе координат фактического устройства. Иными словами, они определяют, как GDI преобразует логические координаты в координаты устройства.

Источник окна просмотра отмечает точку в системе координат устройства, к которой GDI сопоставляет исходное окно, точку в логической системе координат, указанную `SetWindowOrg` функцией-членом. GDI сопоставляет все остальные точки, следуя тому же процессу, который требуется для сопоставления исходного окна с исходным окном просмотра. Например, все точки в окружности вокруг точки в источнике окна будут находиться в окружности вокруг точки в начале окна просмотра. Аналогичным образом все точки в строке, проходящей через начало координат окна, будут находиться в строке, проходящей через точку просмотра.

### <a name="example"></a>Пример

  См. пример для [CView:: онпрепаредк](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetwindowext"></a><a name="setwindowext"></a>CDC:: Сетвиндовекст

Задает экстенты x и y окна, связанного с контекстом устройства.

```
virtual CSize SetWindowExt(
    int cx,
    int cy);

CSize SetWindowExt(SIZE size);
```

### <a name="parameters"></a>Параметры

*/CX*<br/>
Задает экстент x (в логических единицах) окна.

*CY*<br/>
Задает экстент по оси y (в логических единицах) для окна.

*size*<br/>
Задает экстенты по оси x и y (в логических единицах) окна.

### <a name="return-value"></a>Возвращаемое значение

Предыдущие экстенты окна (в логических единицах) в качестве `CSize` объекта. При возникновении ошибки координаты x и y возвращаемого `CSize` объекта устанавливаются в 0.

### <a name="remarks"></a>Примечания

В окне вместе с окном просмотра контекста устройства определяется, как точки сопоставления GDI в логической системе координат указывают на точки в системе координат устройства.

Если заданы следующие режимы сопоставления, вызовы `SetWindowExt` `SetViewportExt` функций и игнорируются:

- MM_HIENGLISH

- MM_HIMETRIC

- MM_LOENGLISH

- MM_LOMETRIC

- MM_TEXT

- MM_TWIPS

Если задан режим MM_ISOTROPIC, приложение должно вызвать `SetWindowExt` функцию-член перед вызовом метода `SetViewportExt` .

### <a name="example"></a>Пример

  См. пример для [CView:: онпрепаредк](../../mfc/reference/cview-class.md#onpreparedc).

## <a name="cdcsetwindoworg"></a><a name="setwindoworg"></a>CDC:: Сетвиндоворг

Задает происхождение окна контекста устройства.

```
CPoint SetWindowOrg(
    int x,
    int y);

CPoint SetWindowOrg(POINT point);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату по оси x нового источника окна.

*&*<br/>
Задает логическую координату y нового источника окна.

*точки*<br/>
Задает логические координаты нового источника окна. `POINT`Для этого параметра можно передать либо структуру, либо `CPoint` объект.

### <a name="return-value"></a>Возвращаемое значение

Предыдущий источник окна как `CPoint` объект.

### <a name="remarks"></a>Примечания

В окне вместе с окном просмотра контекста устройства определяется, как точки сопоставления GDI в логической системе координат указывают на точки в системе координат устройства.

Источник окна отмечает точку в логической системе координат, с которой GDI сопоставляет источник окна просмотра, точку в системе координат устройства, заданную `SetWindowOrg` функцией. GDI сопоставляет все остальные точки, следуя тому же процессу, который требуется для сопоставления исходного окна с исходным окном просмотра. Например, все точки в окружности вокруг точки в источнике окна будут находиться в окружности вокруг точки в начале окна просмотра. Аналогичным образом все точки в строке, проходящей через начало координат окна, будут находиться в строке, проходящей через точку просмотра.

## <a name="cdcsetworldtransform"></a><a name="setworldtransform"></a>CDC:: Сетворлдтрансформ

Задает двухмерный линейное преобразование между мировым пространством и пространством страницы для указанного контекста устройства. Это преобразование можно использовать для масштабирования, вращения, сдвига или преобразования графических данных.

```
BOOL SetWorldTransform(const XFORM& rXform);
```

### <a name="parameters"></a>Параметры

*рксформ*<br/>
Ссылка на структуру [XForm](/windows/win32/api/wingdi/ns-wingdi-xform) , которая содержит данные преобразования.

### <a name="return-value"></a>Возвращаемое значение

Возвращает ненулевое значение в случае успешного выполнения.

Возвращает значение 0 в случае сбоя.

Чтобы получить расширенные сведения об ошибке, вызовите [GetLastError](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror).

### <a name="remarks"></a>Примечания

Этот метод создает оболочку для функции Windows GDI [сетворлдтрансформ](/windows/win32/api/wingdi/nf-wingdi-setworldtransform).

## <a name="cdcstartdoc"></a><a name="startdoc"></a>CDC:: Стартдок

Информирует драйвер устройства о запуске нового задания печати и то, что все последующие `StartPage` `EndPage` вызовы и должны быть помещены в очередь в том же задании, пока не `EndDoc` произойдет вызов.

```
int StartDoc(LPDOCINFO lpDocInfo);
int StartDoc(LPCTSTR lpszDocName);
```

### <a name="parameters"></a>Параметры

*лпдоЦинфо*<br/>
Указывает на структуру [доЦинфо](/windows/win32/api/wingdi/ns-wingdi-docinfow) , содержащую имя файла документа и имя выходного файла.

*лпсздокнаме*<br/>
Указатель на строку, содержащую имя файла документа.

### <a name="return-value"></a>Возвращаемое значение

Если функция выполнена удачно, возвращаемое значение больше нуля. Это значение представляет собой идентификатор задания печати для документа.

Если функция завершается ошибкой, возвращаемое значение меньше или равно нулю.

### <a name="remarks"></a>Примечания

Это гарантирует, что документы, которые больше одной страницы, не будут полагаться на другие задания.

Для Windows версии 3,1 и более поздней эта функция заменяет escape-последовательность принтера СТАРТДОК. Использование этой функции гарантирует, что документы, содержащие более одной страницы, не будут вместе с другими заданиями печати.

`StartDoc`не следует использовать внутри метафайлов.

### <a name="example"></a>Пример

Этот фрагмент кода получает принтер по умолчанию, открывает задание печати и помещает в очередь одну страницу с "Hello, World!" на нем. Поскольку текст, напечатанный этим кодом, не масштабируется по логическим устройствам принтера, выходной текст может содержать небольшие буквы, в результате чего результат становится нечитаемым. `SetMapMode` `SetViewportOrg` `SetWindowExt` Для исправления масштабирования можно использовать функции масштабирования CDC, такие как, и.

[!code-cpp[NVC_MFCDocView#41](../../mfc/codesnippet/cpp/cdc-class_13.cpp)]

## <a name="cdcstartpage"></a><a name="startpage"></a>CDC:: StartPage

Вызовите эту функцию члена, чтобы подготовить драйвер принтера для получения данных.

```
int StartPage();
```

### <a name="return-value"></a>Возвращаемое значение

Больше или равно 0, если функция выполнена успешно, или отрицательное значение, если произошла ошибка.

### <a name="remarks"></a>Примечания

`StartPage`Заменяет escape-последовательности НЕВФРАМЕ и БАНДИНФО.

Общие сведения о последовательности вызовов печати см. в описании функции члена [стартдок](#startdoc) .

Система отключает `ResetDC` функцию – член между вызовами функций `StartPage` и `EndPage` .

### <a name="example"></a>Пример

  См. пример для [CDC:: стартдок](#startdoc).

## <a name="cdcstretchblt"></a><a name="stretchblt"></a>CDC:: Стретчблт

Копирует точечный рисунок из исходного прямоугольника в прямоугольник назначения, при необходимости растягивая или сжимая точечный рисунок в соответствии с размерами прямоугольника назначения.

```
BOOL StretchBlt(
    int x,
    int y,
    int nWidth,
    int nHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    DWORD dwRop);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает x-координату (в логических единицах) левого верхнего угла прямоугольника назначения.

*&*<br/>
Указывает y-координату (в логических единицах) левого верхнего угла прямоугольника назначения.

*нвидс*<br/>
Задает ширину прямоугольника назначения (в логических единицах).

*нхеигхт*<br/>
Задает высоту прямоугольника назначения (в логических единицах).

*псркдк*<br/>
Задает контекст исходного устройства.

*кссрк*<br/>
Указывает x-координату (в логических единицах) левого верхнего угла исходного прямоугольника.

*исрк*<br/>
Указывает y-координату (в логических единицах) левого верхнего угла исходного прямоугольника.

*нсрквидс*<br/>
Задает ширину исходного прямоугольника (в логических единицах).

*нсрчеигхт*<br/>
Задает высоту исходного прямоугольника (в логических единицах).

*dwRop*<br/>
Определяет подлежащую выполнению растровую операцию. Коды растровых операций определяют, как GDI сочетает цвета в операциях вывода, где используется текущая кисть, возможный исходный точечный рисунок и точечный рисунок назначения. Этот параметр может иметь одно из следующих значений:

- ЧЕРНЫЙ цвет превращает все выходные данные в черный.

- ДСТИНВЕРТ инвертирует точечный рисунок назначения.

- МЕРЖЕКОПИ объединяет шаблон и исходное растровое изображение с помощью логического оператора и.

- МЕРЖЕПАИНТ объединяет инвертированный исходный точечный рисунок с битовой картой назначения с помощью логического оператора или.

- НОТСРККОПИ копирует инвертированный исходный рисунок в место назначения.

- НОТСРЦЕРАСЕ инвертирует результат объединения целевого и исходного растрового изображения с помощью логического оператора или.

- ПАТКОПИ копирует шаблон в точечный рисунок назначения.

- ПАТИНВЕРТ объединяет точечный рисунок назначения с шаблоном, используя логический оператор XOR.

- ПАТПАИНТ объединяет инвертированный исходный точечный рисунок с шаблоном с помощью логического оператора или. Объединяет результат операции с точечным рисунком назначения с помощью оператора логического ИЛИ.

- СРКАНД объединяет пикселы целевого и исходного растрового изображения с помощью логического оператора и.

- СРККОПИ копирует исходное растровое изображение в точечный рисунок назначения.

- СРЦЕРАСЕ инвертирует точечный рисунок назначения и объединяет результат с исходным точечным рисунком с помощью логического оператора и.

- СРЦИНВЕРТ объединяет пикселы целевого и исходного растрового изображения с помощью логического оператора XOR.

- СРКПАИНТ объединяет пикселы целевого и исходного растрового изображения с помощью логического оператора или.

- ВХИТЕНЕСС включает все белые выходные данные.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если точечный рисунок рисуется, в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция использует режим растягивания контекста устройства назначения (задается `SetStretchBltMode`), чтобы определить, как необходимо растянуть или сжать точечный рисунок.

`StretchBlt`Функция перемещает битовую карту из исходного устройства, заданного параметром *псркдк* , на целевое устройство, представленное объектом контекста устройства, для которого вызывается функция-член. Параметры *кссрк*, *ИСРК*, *нсрквидс*и *нсрчеигхт* определяют левый верхний угол и размеры исходного прямоугольника. Параметры *x*, *y*, *нвидс*и *нхеигхт* предоставляют левый верхний угол и размеры прямоугольника назначения. Операция растровой операции, заданная параметром *двроп* , определяет, как объединяются исходный точечный рисунок и биты, которые уже находятся на целевом устройстве.

`StretchBlt`Функция создает зеркальное изображение точечного рисунка, если знаки параметров *Нсрквидс* и *Нвидс* или *нсрчеигхт* и *нхеигхт* различаются. Если *нсрквидс* и *нвидс* имеют разные знаки, функция создает зеркальное изображение точечного рисунка вдоль оси x. Если *нсрчеигхт* и *нхеигхт* имеют разные знаки, функция создает зеркальное изображение точечного рисунка вдоль оси y.

Функция `StretchBlt` растягивает или сжимает исходный точечный рисунок, а затем копирует результат в место назначения. Если узор необходимо объединить с результатом, он не объединяется, пока растянутый исходный точечный рисунок не будет скопирован в место назначения. Если используется кисть, это будет кисть, выбранная в контексте устройства назначения. Координаты назначения преобразуются в зависимости от контекста устройства назначения; исходные координаты преобразуются в зависимости от контекста исходного устройства.

Если точечные рисунки назначения, источника и узора не имеют один формат цвета, `StretchBlt` преобразует точечные рисунки источника и узора в соответствии с точечным рисунком назначения. В преобразовании используются цвета переднего плана и фона контекста устройства назначения.

Если `StretchBlt` необходимо преобразовать монохромный точечный рисунок в цвет, белые биты (1) задаются в качестве значения цвета фона, а черные биты (0) — в качестве цвета переднего плана. Для преобразования цветов в монохромный режим определяются пиксели, сопоставляющие цвет фона белому (1), а все остальные пиксели становятся черными (0). Используются цвета переднего плана и фона контекста устройства назначения с цветом.

Не все устройства поддерживают функцию `StretchBlt`. Чтобы определить, поддерживает ли устройство `StretchBlt` , вызовите `GetDeviceCaps` функцию-член с индексом растеркапс и проверьте возвращаемое значение для флага RC_STRETCHBLT.

## <a name="cdcstrokeandfillpath"></a><a name="strokeandfillpath"></a>CDC:: Строкеандфиллпас

Закрывает все открытые фигуры в контуре, обводки контура с помощью текущего пера и заполняет внутреннюю часть с помощью текущей кисти.

```
BOOL StrokeAndFillPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства должен содержать закрытый путь. `StrokeAndFillPath`Функция-член имеет тот же результат, что и закрытие всех открытых фигур в контуре, а также обводка и заполнение контура по отдельности за исключением того, что заполненная область не пересекается с обводкой, даже если перо является широким.

## <a name="cdcstrokepath"></a><a name="strokepath"></a>CDC:: Строкепас

Отображает указанный путь с помощью текущего пера.

```
BOOL StrokePath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Контекст устройства должен содержать закрытый путь.

## <a name="cdctabbedtextout"></a><a name="tabbedtextout"></a>CDC:: Таббедтекстаут

Вызовите эту функцию-член для записи строки символов в указанном месте, развернув вкладки до значений, указанных в массиве позиций табуляции.

```
virtual CSize TabbedTextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);

CSize TabbedTextOut(
    int x,
    int y,
    const CString& str,
    int nTabPositions,
    LPINT lpnTabStopPositions,
    int nTabOrigin);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Задает логическую координату x начальной точки строки.

*&*<br/>
Задает логическую координату y начальной точки строки.

*лпсзстринг*<br/>
Указывает на строку символов для рисования. Для этого параметра можно передать либо указатель на массив символов, либо объект [CString](../../atl-mfc-shared/reference/cstringt-class.md) .

*нкаунт*<br/>
Задает [длину строки](/windows/win32/gdi/specifying-length-of-text-output-string) , на которую указывает *лпсзстринг*.

*нтабпоситионс*<br/>
Задает количество значений в массиве позиций табуляции.

*лпнтабстоппоситионс*<br/>
Указывает на массив, содержащий позиции табуляции (в логических устройствах). Позиции табуляции должны быть отсортированы в порядке возрастания. наименьшее значение x должно быть первым элементом в массиве.

*нтаборигин*<br/>
Задает координату по оси x начальной позиции, с которой разворачиваются вкладки (в логических единицах).

*str*<br/>
`CString`Объект, содержащий указанные символы.

### <a name="return-value"></a>Возвращаемое значение

Размеры строки (в логических единицах) в виде `CSize` объекта.

### <a name="remarks"></a>Примечания

Текст записывается на выбранном в данный момент шрифте. Если *нтабпоситионс* равен 0, а *лпнтабстоппоситионс* имеет значение null, то символы табуляции разворачиваются в восемь раз в среднем значении ширины символа.

Если *нтабпоситионс* имеет значение 1, то позиции табуляции разделяются расстоянием, заданным первым значением в массиве *лпнтабстоппоситионс* . Если массив *лпнтабстоппоситионс* содержит более одного значения, для каждого значения в массиве задается позиция табуляции вплоть до числа, заданного параметром *нтабпоситионс*. Параметр *нтаборигин* позволяет приложению вызывать `TabbedTextOut` функцию несколько раз для одной строки. Если приложение вызывает функцию более одного раза, если для *нтаборигин* задано одно и то же значение каждый раз, функция разворачивает все вкладки относительно позиции, заданной параметром *нтаборигин*.

По умолчанию текущая позиция не используется и не обновляется функцией. Если приложению необходимо обновить текущую точку при вызове функции, приложение может вызвать функцию члена [сеттексталигн](#settextalign) с параметром *нфлагс* , для которого задано значение TA_UPDATECP. Если этот флаг установлен, Windows игнорирует параметры *x* и *y* при последующих вызовах метода `TabbedTextOut` , вместо этого использует текущую точку.

## <a name="cdctextout"></a><a name="textout"></a>CDC:: текстовое поле

Записывает символьную строку в указанном месте, используя текущий выбранный шрифт.

```
virtual BOOL TextOut(
    int x,
    int y,
    LPCTSTR lpszString,
    int nCount);

BOOL TextOut(
    int x,
    int y,
    const CString& str);
```

### <a name="parameters"></a>Параметры

*x*<br/>
Указывает логическую координату X начальной точки текста.

*&*<br/>
Указывает логическую координату Y начальной точки текста.

*лпсзстринг*<br/>
Указывает на строку символов, которую необходимо нарисовать.

*нкаунт*<br/>
Указывает количество знаков в строке.

*str*<br/>
Объект `CString`, который содержит символы, которые необходимо нарисовать.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Начальные координаты символа в левом верхнем углу ячейки символов. По умолчанию текущая позиция не используется и не обновляется функцией.

Если приложению необходимо обновить текущую точку при вызове `TextOut` , приложение может вызвать `SetTextAlign` функцию члена с параметром *нфлагс* , имеющим значение TA_UPDATECP. Если этот флаг установлен, Windows игнорирует параметры *x* и *y* при последующих вызовах метода `TextOut` , вместо этого использует текущую точку.

### <a name="example"></a>Пример

  См. пример для [CDC:: бегинпас](#beginpath).

## <a name="cdctransparentblt"></a><a name="transparentblt"></a>CDC:: Транспарентблт

Вызовите эту функцию-член для перемещения битового блока цветовых данных, соответствующего прямоугольнику пикселей из указанного исходного контекста устройства, в контекст целевого устройства.

```
BOOL TransparentBlt(
    int xDest,
    int yDest,
    int nDestWidth,
    int nDestHeight,
    CDC* pSrcDC,
    int xSrc,
    int ySrc,
    int nSrcWidth,
    int nSrcHeight,
    UINT clrTransparent);
```

### <a name="parameters"></a>Параметры

*ксдест*<br/>
Задает координату по оси x (в логических единицах) верхнего левого угла прямоугольника назначения.

*идест*<br/>
Задает координату по оси y (в логических единицах) верхнего левого угла прямоугольника назначения.

*ндествидс*<br/>
Задает ширину (в логических единицах) прямоугольника назначения.

*ндессеигхт*<br/>
Задает высоту (в логических единицах) прямоугольника назначения.

*псркдк*<br/>
Указатель на контекст исходного устройства.

*кссрк*<br/>
Задает координату x в логических единицах исходного прямоугольника.

*исрк*<br/>
Задает координату по оси y в логических единицах исходного прямоугольника.

*нсрквидс*<br/>
Задает ширину (в логических единицах) исходного прямоугольника.

*нсрчеигхт*<br/>
Задает высоту (в логических единицах) исходного прямоугольника.

*клртранспарент*<br/>
Цвет RGB в исходном растровом изображении должен считаться прозрачным.

### <a name="return-value"></a>Возвращаемое значение

Значение TRUE, если успешно; в противном случае — FALSE.

### <a name="remarks"></a>Примечания

`TransparentBlt`обеспечивает прозрачность; то есть цвет RGB, заданный *клртранспарент* , отображается прозрачным для перемещения.

Дополнительные сведения см. в разделе [транспарентблт](/windows/win32/api/wingdi/nf-wingdi-transparentblt) в Windows SDK.

## <a name="cdcupdatecolors"></a><a name="updatecolors"></a>CDC:: Упдатеколорс

Обновляет клиентскую область контекста устройства, сопоставляя текущие цвета в клиентской области с системной палитрой в зависимости от пикселя.

```cpp
void UpdateColors();
```

### <a name="remarks"></a>Примечания

Неактивное окно с реализованной логической палитрой может вызываться в `UpdateColors` качестве альтернативы перерисовки клиентской области при изменении системной палитры.

Дополнительные сведения об использовании цветовых палитр см. в разделе [упдатеколорс](/windows/win32/api/wingdi/nf-wingdi-updatecolors) в Windows SDK.

`UpdateColors`Функция-член обычно обновляет клиентскую область быстрее, чем перерисовка области. Однако поскольку функция выполняет преобразование цвета на основе цвета каждого пикселя перед изменением системной палитры, каждый вызов этой функции приводит к утрате некоторой точности цвета.

## <a name="cdcwidenpath"></a><a name="widenpath"></a>CDC:: Виденпас

Переопределяет текущий путь в качестве области, которая будет окрашена, если контур был штрих с использованием пера, выбранного в данный момент в контексте устройства.

```
BOOL WidenPath();
```

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если функция выполнена успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Эта функция выполняется успешно, только если текущее перо является геометрическим пером, созданным второй версией `CreatePen` функции-члена, или если перо создается с первой версией `CreatePen` и имеет ширину в единицах устройства, превышающую 1. Контекст устройства должен содержать закрытый путь. Все кривые Бзиер в пути преобразуются в последовательности прямых линий, приближенные к расширяющим кривым. Таким образом, после вызова Бзиер кривые не остаются в пути `WidenPath` .

## <a name="see-also"></a>См. также раздел

[CObject, класс](../../mfc/reference/cobject-class.md)<br/>
[Иерархическая диаграмма](../../mfc/hierarchy-chart.md)<br/>
[Класс Кпаинтдк](../../mfc/reference/cpaintdc-class.md)<br/>
[Класс Квиндовдк](../../mfc/reference/cwindowdc-class.md)<br/>
[Класс Кклиентдк](../../mfc/reference/cclientdc-class.md)<br/>
[Класс Кметафиледк](../../mfc/reference/cmetafiledc-class.md)
