---
title: Структура CCreateКонтекст
ms.date: 11/04/2016
f1_keywords:
- CCreateContext
helpviewer_keywords:
- CCreateContext structure [MFC]
ms.assetid: 337a0e44-d910-49a8-afc0-c7207666a9dc
ms.openlocfilehash: 29fc6210b9888b6a5ba5aaf15b66242c29c15dc8
ms.sourcegitcommit: c123cc76bb2b6c5cde6f4c425ece420ac733bf70
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/14/2020
ms.locfileid: "81369381"
---
# <a name="ccreatecontext-structure"></a>Структура CCreateКонтекст

В фреше `CCreateContext` используется структура при создается окна кадра и представления, связанные с документом.

## <a name="syntax"></a>Синтаксис

```
struct CCreateContext
```

## <a name="remarks"></a>Примечания

`CCreateContext`является структурой и не имеет базового класса.

При создании окна значения в этой структуре предоставляют информацию, используемую для подключения компонентов документа к представлению его данных. Вы только должны `CCreateContext` использовать, если вы переопределяете части процесса создания.

Структура `CCreateContext` содержит указатели на документ, окно кадра, представление и шаблон документа. Он также содержит указатель `CRuntimeClass` на a, который определяет тип представления для создания. Информация о классе времени выполнения и текущий указатель документа используются для динамического создания нового представления. В следующей таблице уотрачается, как и когда каждый `CCreateContext` участник может быть использован:

|Участник|Тип|Для чего это|
|------------|----------|--------------------|
|`m_pNewViewClass`|`CRuntimeClass*`|`CRuntimeClass`нового представления для создания.|
|`m_pCurrentDoc`|`CDocument*`|Существующий документ, который будет связан с новым представлением.|
|`m_pNewDocTemplate`|`CDocTemplate*`|Шаблон документа связан с созданием нового окна кадра MDI.|
|`m_pLastView`|`CView*`|Исходное представление, на котором моделируются дополнительные представления, как при создании сплитера оконных представлений или при создании второго представления на документе.|
|`m_pCurrentFrame`|`CFrameWnd*`|Окно рамы, на котором моделируются дополнительные окна кадра, как при создании второго окна кадра на документе.|

Когда шаблон документа создает документ и связанные с ним компоненты, он проверяет информацию, хранящуюся в структуре. `CCreateContext` Например, представление не должно создаваться для несуществующего документа.

> [!NOTE]
> Все указатели в `CCreateContext` являются необязательными и может быть, `NULL` если неопределенный или неизвестный.

`CCreateContext`используется функциями-членами, перечисленными в статье "Смотрите также". Проконсультируйтесь с описаниями этих функций для получения конкретной информации, если вы планируете переопределить их.

Вот несколько общих рекомендаций:

- При перешвече в `CWnd::Create`качестве `CFrameWnd::Create`аргумента для создания окна, как в , и `CFrameWnd::LoadFrame`, создать контекст определяет, что новое окно должно быть подключено к. Для большинства окон, вся структура `NULL` не является обязательным и указатель может быть пройден.

- Для переизликих функций члена, таких как, `CFrameWnd::OnCreateClient` `CCreateContext` аргумент не является обязательным.

- Для функций членов, участвующих в создании представления, необходимо предоставить достаточно информации для создания представления. Например, для первого представления в окне сплитера необходимо предоставить информацию о классе представления и текущем документе.

Как правило, если вы используете по `CCreateContext`умолчанию, вы можете проигнорировать. Если вы попытаетесь внести более продвинутые изменения, вам помогут исходный код библиотеки Microsoft Foundation Class Library или пример программ, таких как VIEWEX. Если вы забудете необходимый параметр, утверждение фреймворка расскажет вам, что вы забыли.

Для получения `CCreateContext`дополнительной информации о [VIEWEX](../../overview/visual-cpp-samples.md), см.

## <a name="requirements"></a>Требования

**Заголовок:** afxext.h

## <a name="see-also"></a>См. также раздел

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[CFrameWnd::Создание](../../mfc/reference/cframewnd-class.md#create)<br/>
[CFrameWnd::LoadFrame](../../mfc/reference/cframewnd-class.md#loadframe)<br/>
[CFrameWnd::OnCreateClient](../../mfc/reference/cframewnd-class.md#oncreateclient)<br/>
[CSplitterWnd::Создание](../../mfc/reference/csplitterwnd-class.md#create)<br/>
[CSplitterWnd::CreateView](../../mfc/reference/csplitterwnd-class.md#createview)<br/>
[CWnd::Create](../../mfc/reference/cwnd-class.md#create)
