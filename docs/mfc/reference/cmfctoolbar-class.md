---
title: Класс CMFCToolBar
ms.date: 11/04/2016
f1_keywords:
- CMFCToolBar
- AFXTOOLBAR/CMFCToolBar
- AFXTOOLBAR/CMFCToolBar::AddBasicCommand
- AFXTOOLBAR/CMFCToolBar::AddCommandUsage
- AFXTOOLBAR/CMFCToolBar::AddToolBarForImageCollection
- AFXTOOLBAR/CMFCToolBar::AdjustLayout
- AFXTOOLBAR/CMFCToolBar::AdjustSize
- AFXTOOLBAR/CMFCToolBar::AllowChangeTextLabels
- AFXTOOLBAR/CMFCToolBar::AreTextLabels
- AFXTOOLBAR/CMFCToolBar::AutoGrayInactiveImages
- AFXTOOLBAR/CMFCToolBar::ButtonToIndex
- AFXTOOLBAR/CMFCToolBar::CalcFixedLayout
- AFXTOOLBAR/CMFCToolBar::CalcSize
- AFXTOOLBAR/CMFCToolBar::CanHandleSiblings
- AFXTOOLBAR/CMFCToolBar::CleanUpImages
- AFXTOOLBAR/CMFCToolBar::CleanUpLockedImages
- AFXTOOLBAR/CMFCToolBar::CanBeClosed
- AFXTOOLBAR/CMFCToolBar::CanBeRestored
- AFXTOOLBAR/CMFCToolBar::CanFocus
- AFXTOOLBAR/CMFCToolBar::CommandToIndex
- AFXTOOLBAR/CMFCToolBar::Create
- AFXTOOLBAR/CMFCToolBar::CreateEx
- AFXTOOLBAR/CMFCToolBar::Deactivate
- AFXTOOLBAR/CMFCToolBar::EnableCustomizeButton
- AFXTOOLBAR/CMFCToolBar::EnableDocking
- AFXTOOLBAR/CMFCToolBar::EnableLargeIcons
- AFXTOOLBAR/CMFCToolBar::EnableQuickCustomization
- AFXTOOLBAR/CMFCToolBar::EnableReflections
- AFXTOOLBAR/CMFCToolBar::EnableTextLabels
- AFXTOOLBAR/CMFCToolBar::FromHandlePermanent
- AFXTOOLBAR/CMFCToolBar::GetAllButtons
- AFXTOOLBAR/CMFCToolBar::GetAllToolbars
- AFXTOOLBAR/CMFCToolBar::GetBasicCommands
- AFXTOOLBAR/CMFCToolBar::GetButton
- AFXTOOLBAR/CMFCToolBar::GetButtonInfo
- AFXTOOLBAR/CMFCToolBar::GetButtonSize
- AFXTOOLBAR/CMFCToolBar::GetButtonStyle
- AFXTOOLBAR/CMFCToolBar::GetButtonText
- AFXTOOLBAR/CMFCToolBar::GetColdImages
- AFXTOOLBAR/CMFCToolBar::GetColumnWidth
- AFXTOOLBAR/CMFCToolBar::GetCommandButtons
- AFXTOOLBAR/CMFCToolBar::GetCount
- AFXTOOLBAR/CMFCToolBar::GetCustomizeButton
- AFXTOOLBAR/CMFCToolBar::GetDefaultImage
- AFXTOOLBAR/CMFCToolBar::GetDisabledImages
- AFXTOOLBAR/CMFCToolBar::GetDisabledMenuImages
- AFXTOOLBAR/CMFCToolBar::GetDroppedDownMenu
- AFXTOOLBAR/CMFCToolBar::GetGrayDisabledButtons
- AFXTOOLBAR/CMFCToolBar::GetHighlightedButton
- AFXTOOLBAR/CMFCToolBar::GetHotBorder
- AFXTOOLBAR/CMFCToolBar::GetHotTextColor
- AFXTOOLBAR/CMFCToolBar::GetHwndLastFocus
- AFXTOOLBAR/CMFCToolBar::GetOVERWRITESetText
- AFXTOOLBAR/CMFCToolBar::GetImageSize
- AFXTOOLBAR/CMFCToolBar::GetImages
- AFXTOOLBAR/CMFCToolBar::GetImagesOffset
- AFXTOOLBAR/CMFCToolBar::GetInvalidateItemRect
- AFXTOOLBAR/CMFCToolBar::GetItemID
- AFXTOOLBAR/CMFCToolBar::GetItemRect
- AFXTOOLBAR/CMFCToolBar::GetLargeColdImages
- AFXTOOLBAR/CMFCToolBar::GetLargeDisabledImages
- AFXTOOLBAR/CMFCToolBar::GetLargeImages
- AFXTOOLBAR/CMFCToolBar::GetLockedColdImages
- AFXTOOLBAR/CMFCToolBar::GetLockedDisabledImages
- AFXTOOLBAR/CMFCToolBar::GetLockedImages
- AFXTOOLBAR/CMFCToolBar::GetLockedImageSize
- AFXTOOLBAR/CMFCToolBar::GetLockedMenuImages
- AFXTOOLBAR/CMFCToolBar::GetMenuButtonSize
- AFXTOOLBAR/CMFCToolBar::GetMenuImageSize
- AFXTOOLBAR/CMFCToolBar::GetMenuImages
- AFXTOOLBAR/CMFCToolBar::GetOrigButtons
- AFXTOOLBAR/CMFCToolBar::GetOrigResetButtons
- AFXTOOLBAR/CMFCToolBar::GetResourceID
- AFXTOOLBAR/CMFCToolBar::GetRouteCommandsViaFrame
- AFXTOOLBAR/CMFCToolBar::GetRowHeight
- AFXTOOLBAR/CMFCToolBar::GetShowTooltips
- AFXTOOLBAR/CMFCToolBar::GetSiblingToolBar
- AFXTOOLBAR/CMFCToolBar::GetUserImages
- AFXTOOLBAR/CMFCToolBar::HitTest
- AFXTOOLBAR/CMFCToolBar::InsertButton
- AFXTOOLBAR/CMFCToolBar::InsertSeparator
- AFXTOOLBAR/CMFCToolBar::InvalidateButton
- AFXTOOLBAR/CMFCToolBar::IsAddRemoveQuickCustomize
- AFXTOOLBAR/CMFCToolBar::IsAltCustomizeMode
- AFXTOOLBAR/CMFCToolBar::IsAutoGrayInactiveImages
- AFXTOOLBAR/CMFCToolBar::IsBasicCommand
- AFXTOOLBAR/CMFCToolBar::IsButtonExtraSizeAvailable
- AFXTOOLBAR/CMFCToolBar::IsButtonHighlighted
- AFXTOOLBAR/CMFCToolBar::IsCommandPermitted
- AFXTOOLBAR/CMFCToolBar::IsCommandRarelyUsed
- AFXTOOLBAR/CMFCToolBar::IsCustomizeMode
- AFXTOOLBAR/CMFCToolBar::IsDragButton
- AFXTOOLBAR/CMFCToolBar::IsExistCustomizeButton
- AFXTOOLBAR/CMFCToolBar::IsFloating
- AFXTOOLBAR/CMFCToolBar::IsLargeIcons
- AFXTOOLBAR/CMFCToolBar::IsLastCommandFromButton
- AFXTOOLBAR/CMFCToolBar::IsLocked
- AFXTOOLBAR/CMFCToolBar::IsOneRowWithSibling
- AFXTOOLBAR/CMFCToolBar::IsUserDefined
- AFXTOOLBAR/CMFCToolBar::LoadBitmap
- AFXTOOLBAR/CMFCToolBar::LoadBitmapEx
- AFXTOOLBAR/CMFCToolBar::LoadParameters
- AFXTOOLBAR/CMFCToolBar::LoadState
- AFXTOOLBAR/CMFCToolBar::LoadToolBar
- AFXTOOLBAR/CMFCToolBar::LoadToolBarEx
- AFXTOOLBAR/CMFCToolBar::OnChangeHot
- AFXTOOLBAR/CMFCToolBar::OnFillBackground
- AFXTOOLBAR/CMFCToolBar::OnReset
- AFXTOOLBAR/CMFCToolBar::OnSetAccData
- AFXTOOLBAR/CMFCToolBar::OnSetDefaultButtonText
- AFXTOOLBAR/CMFCToolBar::RemoveAllButtons
- AFXTOOLBAR/CMFCToolBar::RemoveButton
- AFXTOOLBAR/CMFCToolBar::RemoveStateFromRegistry
- AFXTOOLBAR/CMFCToolBar::ReplaceButton
- AFXTOOLBAR/CMFCToolBar::ResetAll
- AFXTOOLBAR/CMFCToolBar::ResetAllImages
- AFXTOOLBAR/CMFCToolBar::RestoreOriginalState
- AFXTOOLBAR/CMFCToolBar::SaveState
- AFXTOOLBAR/CMFCToolBar::SetBasicCommands
- AFXTOOLBAR/CMFCToolBar::SetButtonInfo
- AFXTOOLBAR/CMFCToolBar::SetButtonStyle
- AFXTOOLBAR/CMFCToolBar::SetButtonText
- AFXTOOLBAR/CMFCToolBar::SetButtons
- AFXTOOLBAR/CMFCToolBar::SetCommandUsageOptions
- AFXTOOLBAR/CMFCToolBar::SetCustomizeMode
- AFXTOOLBAR/CMFCToolBar::SetGrayDisabledButtons
- AFXTOOLBAR/CMFCToolBar::SetHeight
- AFXTOOLBAR/CMFCToolBar::SetHotBorder
- AFXTOOLBAR/CMFCToolBar::SetHotTextColor
- AFXTOOLBAR/CMFCToolBar::SetLargeIcons
- AFXTOOLBAR/CMFCToolBar::SetLockedSizes
- AFXTOOLBAR/CMFCToolBar::SetMenuSizes
- AFXTOOLBAR/CMFCToolBar::SetNonPermittedCommands
- AFXTOOLBAR/CMFCToolBar::SetOneRowWithSibling
- AFXTOOLBAR/CMFCToolBar::SetPermament
- AFXTOOLBAR/CMFCToolBar::SetRouteCommandsViaFrame
- AFXTOOLBAR/CMFCToolBar::SetShowTooltips
- AFXTOOLBAR/CMFCToolBar::SetSiblingToolBar
- AFXTOOLBAR/CMFCToolBar::SetSizes
- AFXTOOLBAR/CMFCToolBar::SetToolBarBtnText
- AFXTOOLBAR/CMFCToolBar::SetTwoRowsWithSibling
- AFXTOOLBAR/CMFCToolBar::SetUserImages
- AFXTOOLBAR/CMFCToolBar::StretchPane
- AFXTOOLBAR/CMFCToolBar::TranslateChar
- AFXTOOLBAR/CMFCToolBar::UpdateButton
- AFXTOOLBAR/CMFCToolBar::WrapToolBar
- AFXTOOLBAR/CMFCToolBar::AllowShowOnList
- AFXTOOLBAR/CMFCToolBar::CalcMaxButtonHeight
- AFXTOOLBAR/CMFCToolBar::DoPaint
- AFXTOOLBAR/CMFCToolBar::DrawButton
- AFXTOOLBAR/CMFCToolBar::DrawSeparator
- AFXTOOLBAR/CMFCToolBar::OnUserToolTip
- AFXTOOLBAR/CMFCToolBar::m_bDontScaleImages
- AFXTOOLBAR/CMFCToolBar::m_dblLargeImageRatio
helpviewer_keywords:
- CMFCToolBar [MFC], AddBasicCommand
- CMFCToolBar [MFC], AddCommandUsage
- CMFCToolBar [MFC], AddToolBarForImageCollection
- CMFCToolBar [MFC], AdjustLayout
- CMFCToolBar [MFC], AdjustSize
- CMFCToolBar [MFC], AllowChangeTextLabels
- CMFCToolBar [MFC], AreTextLabels
- CMFCToolBar [MFC], AutoGrayInactiveImages
- CMFCToolBar [MFC], ButtonToIndex
- CMFCToolBar [MFC], CalcFixedLayout
- CMFCToolBar [MFC], CalcSize
- CMFCToolBar [MFC], CanHandleSiblings
- CMFCToolBar [MFC], CleanUpImages
- CMFCToolBar [MFC], CleanUpLockedImages
- CMFCToolBar [MFC], CanBeClosed
- CMFCToolBar [MFC], CanBeRestored
- CMFCToolBar [MFC], CanFocus
- CMFCToolBar [MFC], CanHandleSiblings
- CMFCToolBar [MFC], CommandToIndex
- CMFCToolBar [MFC], Create
- CMFCToolBar [MFC], CreateEx
- CMFCToolBar [MFC], Deactivate
- CMFCToolBar [MFC], EnableCustomizeButton
- CMFCToolBar [MFC], EnableDocking
- CMFCToolBar [MFC], EnableLargeIcons
- CMFCToolBar [MFC], EnableQuickCustomization
- CMFCToolBar [MFC], EnableReflections
- CMFCToolBar [MFC], EnableTextLabels
- CMFCToolBar [MFC], FromHandlePermanent
- CMFCToolBar [MFC], GetAllButtons
- CMFCToolBar [MFC], GetAllToolbars
- CMFCToolBar [MFC], GetBasicCommands
- CMFCToolBar [MFC], GetButton
- CMFCToolBar [MFC], GetButtonInfo
- CMFCToolBar [MFC], GetButtonSize
- CMFCToolBar [MFC], GetButtonStyle
- CMFCToolBar [MFC], GetButtonText
- CMFCToolBar [MFC], GetColdImages
- CMFCToolBar [MFC], GetColumnWidth
- CMFCToolBar [MFC], GetCommandButtons
- CMFCToolBar [MFC], GetCount
- CMFCToolBar [MFC], GetCustomizeButton
- CMFCToolBar [MFC], GetDefaultImage
- CMFCToolBar [MFC], GetDisabledImages
- CMFCToolBar [MFC], GetDisabledMenuImages
- CMFCToolBar [MFC], GetDroppedDownMenu
- CMFCToolBar [MFC], GetGrayDisabledButtons
- CMFCToolBar [MFC], GetHighlightedButton
- CMFCToolBar [MFC], GetHotBorder
- CMFCToolBar [MFC], GetHotTextColor
- CMFCToolBar [MFC], GetHwndLastFocus
- CMFCToolBar [MFC], GetIgnoreSetText
- CMFCToolBar [MFC], GetImageSize
- CMFCToolBar [MFC], GetImages
- CMFCToolBar [MFC], GetImagesOffset
- CMFCToolBar [MFC], GetInvalidateItemRect
- CMFCToolBar [MFC], GetItemID
- CMFCToolBar [MFC], GetItemRect
- CMFCToolBar [MFC], GetLargeColdImages
- CMFCToolBar [MFC], GetLargeDisabledImages
- CMFCToolBar [MFC], GetLargeImages
- CMFCToolBar [MFC], GetLockedColdImages
- CMFCToolBar [MFC], GetLockedDisabledImages
- CMFCToolBar [MFC], GetLockedImages
- CMFCToolBar [MFC], GetLockedImageSize
- CMFCToolBar [MFC], GetLockedMenuImages
- CMFCToolBar [MFC], GetMenuButtonSize
- CMFCToolBar [MFC], GetMenuImageSize
- CMFCToolBar [MFC], GetMenuImages
- CMFCToolBar [MFC], GetOrigButtons
- CMFCToolBar [MFC], GetOrigResetButtons
- CMFCToolBar [MFC], GetResourceID
- CMFCToolBar [MFC], GetRouteCommandsViaFrame
- CMFCToolBar [MFC], GetRowHeight
- CMFCToolBar [MFC], GetShowTooltips
- CMFCToolBar [MFC], GetSiblingToolBar
- CMFCToolBar [MFC], GetUserImages
- CMFCToolBar [MFC], HitTest
- CMFCToolBar [MFC], InsertButton
- CMFCToolBar [MFC], InsertSeparator
- CMFCToolBar [MFC], InvalidateButton
- CMFCToolBar [MFC], IsAddRemoveQuickCustomize
- CMFCToolBar [MFC], IsAltCustomizeMode
- CMFCToolBar [MFC], IsAutoGrayInactiveImages
- CMFCToolBar [MFC], IsBasicCommand
- CMFCToolBar [MFC], IsButtonExtraSizeAvailable
- CMFCToolBar [MFC], IsButtonHighlighted
- CMFCToolBar [MFC], IsCommandPermitted
- CMFCToolBar [MFC], IsCommandRarelyUsed
- CMFCToolBar [MFC], IsCustomizeMode
- CMFCToolBar [MFC], IsDragButton
- CMFCToolBar [MFC], IsExistCustomizeButton
- CMFCToolBar [MFC], IsFloating
- CMFCToolBar [MFC], IsLargeIcons
- CMFCToolBar [MFC], IsLastCommandFromButton
- CMFCToolBar [MFC], IsLocked
- CMFCToolBar [MFC], IsOneRowWithSibling
- CMFCToolBar [MFC], IsUserDefined
- CMFCToolBar [MFC], LoadBitmap
- CMFCToolBar [MFC], LoadBitmapEx
- CMFCToolBar [MFC], LoadParameters
- CMFCToolBar [MFC], LoadState
- CMFCToolBar [MFC], LoadToolBar
- CMFCToolBar [MFC], LoadToolBarEx
- CMFCToolBar [MFC], OnChangeHot
- CMFCToolBar [MFC], OnFillBackground
- CMFCToolBar [MFC], OnReset
- CMFCToolBar [MFC], OnSetAccData
- CMFCToolBar [MFC], OnSetDefaultButtonText
- CMFCToolBar [MFC], RemoveAllButtons
- CMFCToolBar [MFC], RemoveButton
- CMFCToolBar [MFC], RemoveStateFromRegistry
- CMFCToolBar [MFC], ReplaceButton
- CMFCToolBar [MFC], ResetAll
- CMFCToolBar [MFC], ResetAllImages
- CMFCToolBar [MFC], RestoreOriginalState
- CMFCToolBar [MFC], SaveState
- CMFCToolBar [MFC], SetBasicCommands
- CMFCToolBar [MFC], SetButtonInfo
- CMFCToolBar [MFC], SetButtonStyle
- CMFCToolBar [MFC], SetButtonText
- CMFCToolBar [MFC], SetButtons
- CMFCToolBar [MFC], SetCommandUsageOptions
- CMFCToolBar [MFC], SetCustomizeMode
- CMFCToolBar [MFC], SetGrayDisabledButtons
- CMFCToolBar [MFC], SetHeight
- CMFCToolBar [MFC], SetHotBorder
- CMFCToolBar [MFC], SetHotTextColor
- CMFCToolBar [MFC], SetLargeIcons
- CMFCToolBar [MFC], SetLockedSizes
- CMFCToolBar [MFC], SetMenuSizes
- CMFCToolBar [MFC], SetNonPermittedCommands
- CMFCToolBar [MFC], SetOneRowWithSibling
- CMFCToolBar [MFC], SetPermament
- CMFCToolBar [MFC], SetRouteCommandsViaFrame
- CMFCToolBar [MFC], SetShowTooltips
- CMFCToolBar [MFC], SetSiblingToolBar
- CMFCToolBar [MFC], SetSizes
- CMFCToolBar [MFC], SetToolBarBtnText
- CMFCToolBar [MFC], SetTwoRowsWithSibling
- CMFCToolBar [MFC], SetUserImages
- CMFCToolBar [MFC], StretchPane
- CMFCToolBar [MFC], TranslateChar
- CMFCToolBar [MFC], UpdateButton
- CMFCToolBar [MFC], WrapToolBar
- CMFCToolBar [MFC], AllowShowOnList
- CMFCToolBar [MFC], CalcMaxButtonHeight
- CMFCToolBar [MFC], DoPaint
- CMFCToolBar [MFC], DrawButton
- CMFCToolBar [MFC], DrawSeparator
- CMFCToolBar [MFC], OnUserToolTip
- CMFCToolBar [MFC], m_bDontScaleImages
- CMFCToolBar [MFC], m_dblLargeImageRatio
ms.assetid: e7679c01-fb94-44c0-98c6-3af955292fb5
ms.openlocfilehash: 9a90327bde693b87a53838da35adde21ed48dfbb
ms.sourcegitcommit: 7a6116e48c3c11b97371b8ae4ecc23adce1f092d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/22/2020
ms.locfileid: "81754046"
---
# <a name="cmfctoolbar-class"></a>Класс CMFCToolBar

Класс `CMFCToolBar` напоминает [класс CToolBar,](../../mfc/reference/ctoolbar-class.md)но обеспечивает дополнительную поддержку функций пользовательского интерфейса. Они включают плоские панели инструментов, панели инструментов с наиболее часто используемыми изображениями, крупные значки, кнопки пролистывания страниц, заблокированные панели инструментов, элементы управления главной панели, текст под изображениями, фоновые изображения и панели инструментов с вкладками. Класс `CMFCToolBar` также содержит встроенную поддержку пользовательской настройки панелей инструментов и меню, перетаскивания между панелями элементов и меню, кнопки поля со списком, кнопки редактируемых полей, различных палитр и кнопок сворачивания.

Для получения более подробной информации смотрите исходный код, расположенный в папке **VC\\atlmfc\\src\\mfc** установки Visual Studio.

## <a name="syntax"></a>Синтаксис

```
class CMFCToolBar : public CMFCBaseToolBar
```

## <a name="members"></a>Участники

### <a name="public-constructors"></a>Открытые конструкторы

|Имя|Описание|
|----------|-----------------|
|`CMFCToolBar::CMFCToolBar`|Конструктор по умолчанию.|
|`CMFCToolBar::~CMFCToolBar`|Деструктор.|

### <a name="public-methods"></a>Открытые методы

|Имя|Описание|
|----------|-----------------|
|[CMFCToolBar::AddBasicCommand](#addbasiccommand)|Добавляет команду меню в список команд, которые всегда отображаются при открытии меню.|
|[CMFCToolBar::AddCommandUsage](#addcommandusage)|Приращения по одному счетчику, который связан с данной командой.|
|[CMFCToolBar::AddtoolbarForImageCollection](#addtoolbarforimagecollection)|Добавляет изображения из ресурсов пользовательского интерфейса в коллекцию изображений в приложении.|
|[CMFCToolBar::AdjustLayout](#adjustlayout)|Пересчитывает размер и положение панели инструментов. (Оверлет [CBasePane::AdjustLayout](../../mfc/reference/cbasepane-class.md#adjustlayout)).|
|[CMFCToolBar::AdjustSize](#adjustsize)|Пересчитывает размер панели инструментов.|
|[CMFCToolBar::AllowChangeTextLabels](#allowchangetextlabels)|Уточняется, можно ли отображать текстовые метки под изображениями на кнопках панели инструментов.|
|[CMFCToolBar::AreTextLabels](#aretextlabels)|Уточняется, отображаются ли текстовые метки под изображениями в настоящее время на кнопках панели инструментов.|
|[CMFCToolBar::AutograyInactiveImages](#autograyinactiveimages)|Включить или отключить автоматическое поколение неактивных изображений кнопок.|
|[CMFCToolBar::ButtontoIndex](#buttontoindex)|Возвращает индекс указанного объекта [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) в этой панели инструментов.|
|[CMFCToolBar::CalcFixedLayout](#calcfixedlayout)|Вычисляет горизонтальный размер панели инструментов. (Оверлет [CBasePane::CalcFixedLayout](../../mfc/reference/cbasepane-class.md#calcfixedlayout).)|
|[CMFCToolBar::CalcSize](#calcsize)|Вызывается рамкой в рамках процесса расчета макета. (Переопределяет [CPane::CalcSize](../../mfc/reference/cpane-class.md#calcsize).)|
|[CMFCToolBar::CanHandleSiblings](#canhandlesiblings)|Определяет, расположена ли панель инструментов и панель того же уровня в одной области.|
|[CMFCToolBar::ОчисткаImages](#cleanupimages)|Освобождает системные ресурсы, выделенные для изображений панели инструментов.|
|[CMFCToolBar::CleanUpLockedImages](#cleanuplockedimages)|Освобождает системные ресурсы, выделенные для заблокированных изображений панели инструментов.|
|[CMFCToolBar::CanbeClosed](#canbeclosed)|Определяет, может ли пользователь закрыть панель инструментов. (Переопределяет [CBasePane::CanBeClosed](../../mfc/reference/cbasepane-class.md#canbeclosed).)|
|[CMFCToolBar::CanBeRestored](#canberestored)|Определяет, может ли система восстановить панель инструментов в исходное состояние после настройки.|
|[CMFCToolBar::CanFocus](#canfocus)|Определяет, может ли панель получить фокус. (Переопределяет [CBasePane::CanFocus](../../mfc/reference/cbasepane-class.md#canfocus).)|
|[CMFCToolBar::CanHandleSiblings](#canhandlesiblings)|Определяет, расположена ли панель инструментов и панель того же уровня в одной области.|
|[CMFCToolBar::CommandtoIndex](#commandtoindex)|Возвращает индекс кнопки в панели инструментов с указанным идентификатором команды.|
|[CMFCToolBar::Создание](#create)|Создает объект `CMFCToolBar`.|
|[CMFCToolBar::CreateEx](#createex)|Создает `CMFCToolBar` объект, который использует дополнительные параметры стиля, такие как большие значки.|
|[CMFCToolBar: :Dэактивировать](#deactivate)|Отключает панель инструментов.|
|[CMFCToolBar::EnableCustomizeButton](#enablecustomizebutton)|Позволяет или отменяет кнопку **«Добавить» или «Удалить кнопки»,** которая отображается на конце панели инструментов.|
|[CMFCToolBar::EnableDocking](#enabledocking)|Позволяет стыковку панели к основной раме. (Переопределяет [CBasePane::EnableDocking](../../mfc/reference/cbasepane-class.md#enabledocking).)|
|[CMFCToolBar::EnableLargeIcons](#enablelargeicons)|Позволяет или отсваивает большие значки на кнопках панели инструментов.|
|[CMFCToolBar::Enable'uickCustomization](#enablequickcustomization)|Позволяет или отключает быструю настройку панели инструментов, чтобы пользователь мог нажать клавишу **Alt** и перетащить кнопку на новое место.|
|[CMFCToolBar::EnableReflections](#enablereflections)|Позволяет или отсваивает отражение команды.|
|[CMFCToolBar::EnableTextLabels](#enabletextlabels)|Позволяет или отсваивает текстовые метки под изображениями кнопки панели инструментов.|
|[CMFCToolBar::ОтРукентный](#fromhandlepermanent)|Извлекает указатель на `CMFCToolBar` объект, содержащий данную ручку окна.|
|[CMFCToolBar::GetAllButtons](#getallbuttons)|Возвращает список кнопок только для чтения в панели инструментов.|
|[CMFCToolBar::GetAllToolbars](#getalltoolbars)|Возвращает список всех инструментов в приложении.|
|[CMFCToolBar::GetBasicCommands](#getbasiccommands)|Возвращает список основных команд, определяемых в приложении, только для чтения.|
|[CMFCToolBar::GetButton](#getbutton)|Возвращает указатель объекту `CMFCToolBarButton` с указанным индексом кнопки панели инструментов.|
|[CMFCToolBar::GetButtonInfo](#getbuttoninfo)|Возвращает идентификатор команды, стиль и индекс изображения кнопки в указанном индексе.|
|[CMFCToolBar::GetButtonSize](#getbuttonsize)|Возвращает размеры каждой кнопки на панели инструментов.|
|[CMFCToolBar::GetButtonStyle](#getbuttonstyle)|Возвращает текущий стиль кнопки панели инструментов, которая находится в указанном индексе.|
|[CMFCToolBar::GetButtonText](#getbuttontext)|Возвращает текстовую метку кнопки с указанным индексом.|
|[CMFCToolBar::GetColdImages](#getcoldimages)|Возвращает указатель в коллекцию изображений холодной панели инструментов в приложении.|
|[CMFCToolBar::GetColumnШирин](#getcolumnwidth)|Возвращает ширину кнопок панели инструментов.|
|[CMFCToolBar::GetCommandButtons](#getcommandbuttons)|Возвращает список кнопок с указанным идентификатором команды из всех панелей инструментов в приложении.|
|[CMFCToolBar::GetCount](#getcount)|Возвращает количество кнопок и сепараторов на панели инструментов.|
|[CMFCToolBar::GetCustomizeButton](#getcustomizebutton)|Извлекает указатель на `CMFCCustomizeButton` объект, связанный с панелью инструментов.|
|[CMFCToolBar::GetDefaultImage](#getdefaultimage)|Возвращает индекс изображения по умолчанию для кнопки панели инструментов с указанным идентификатором команды.|
|[CMFCToolBar::GetDisabledImages](#getdisabledimages)|Возвращает указатель в коллекцию изображений, которые используются для отключенных кнопок панели инструментов в приложении.|
|[CMFCToolBar::GetDisabledMenuImages](#getdisabledmenuimages)|Возвращает указатель в коллекцию изображений, которые используются для отключенных кнопок меню в приложении.|
|[CMFCToolBar::GetDroppedDownMenu](#getdroppeddownmenu)|Извлекает указатель на объект кнопки меню, который в настоящее время отображает его подменю.|
|[CMFCToolBar::GetGrayDisabledButtons](#getgraydisabledbuttons)|Уточняется, являются ли изображения отключенных кнопок затемненными версиями обычных кнопочных изображений или взяты из коллекции изображений отключенных кнопок.|
|[CMFCToolBar::GetHighlightedButton](#gethighlightedbutton)|Возвращает указатель на кнопку панели инструментов, которая в настоящее время выделена.|
|[CMFCToolBar::GetHotBorder](#gethotborder)|Определяет, являются ли кнопки панели инструментов горячими.|
|[CMFCToolBar::GetHotTextColor](#gethottextcolor)|Возвращает цвет текста выделенных кнопок панели инструментов.|
|[CMFCToolBar::GetHwndLastFocus](#gethwndlastfocus)|Возвращает ручку в окно, в которой был фокус ввода непосредственно перед панелью инструментов.|
|[CMFCToolBar::GetIgnoreSetText](#getignoresettext)|Определяет, игнорируются ли вызовы для установки меток кнопок.|
|[CMFCToolBar::GetImageSize](#getimagesize)|Возвращает текущий размер изображений кнопки панели инструментов.|
|[CMFCToolBar::GetImages](#getimages)|Возвращает указатель в коллекцию изображений кнопок по умолчанию в приложении.|
|[CMFCToolBar::GetImagesOffset](#getimagesoffset)|Возвращает смещение индекса, используемого для поиска изображений кнопки панели инструментов для этой панели инструментов, в глобальном списке изображений кнопки панели инструментов.|
|[CMFCToolBar::GetInvalidateItemRect](#getinvalidateitemrect)|Извлекает область области клиента, которая должна быть перерисована для кнопки в данном индексе.|
|[CMFCToolBar::GetItemID](#getitemid)|Возвращает идентификатор команды кнопки панели инструментов в указанном индексе.|
|[CMFCToolBar::GetItemRect](#getitemrect)|Возвращает прямоугольник кнопки в указанном индексе.|
|[CMFCToolBar::GetLargeColdImages](#getlargecoldimages)|Возвращает указатель в коллекцию изображений большой холодной панели инструментов в приложении.|
|[CMFCToolBar::GetLargeDisabledImages](#getlargedisabledimages)|Возвращает указатель в коллекцию изображений большой отключенной панели инструментов в приложении.|
|[CMFCToolBar::GetLargeImages](#getlargeimages)|Возвращает указатель в коллекцию изображений большой панели инструментов в приложении.|
|[CMFCToolBar::GetLockedColdImages](#getlockedcoldimages)|Возвращает указатель в коллекцию заблокированных холодных изображений в панели инструментов.|
|[CMFCToolBar::GetLockedDisabledImages](#getlockeddisabledimages)|Возвращает указатель в коллекцию заблокированных изображений с ограниченными возможностями в панели инструментов.|
|[CMFCToolBar::GetLockedImages](#getlockedimages)|Возвращает указатель в коллекцию заблокированных изображений кнопки в панели инструментов.|
|[CMFCToolBar::GetLockedImageSize](#getlockedimagesize)|Возвращает размер заблокированной панели инструментов по умолчанию.|
|[CMFCToolBar::GetLockedMenuImages](#getlockedmenuimages)|Возвращает указатель на коллекцию заблокированных изображений меню панели инструментов в панели инструментов.|
|[CMFCToolBar::GetMenuButtonSize](#getmenubuttonsize)|Возвращает размер кнопок меню в приложении.|
|[CMFCToolBar::GetMenuImageSize](#getmenuimagesize)|Возвращает размер изображений кнопки меню в приложении.|
|[CMFCToolBar::GetMenuImages](#getmenuimages)|Возвращает указатель в коллекцию изображений кнопки меню в приложении.|
|[CMFCToolBar::GetOrigButtons](#getorigbuttons)|Извлекает коллекцию ненастраиваемых кнопок панели инструментов.|
|[CMFCToolBar::GetOrigResetButtons](#getorigresetbuttons)|Извлекает коллекцию ненастраиваемых кнопок сбросить панели инструментов.|
|[CMFCToolBar::GetResourceID](#getresourceid)|Извлекает идентификатор панели ресурсов.|
|[CMFCToolBar::GetRouteCommandsViaFrame](#getroutecommandsviaframe)|Определяет, какой объект, родительский кадр или владелец отправляет команды на панель инструментов.|
|[CMFCToolBar::GetRowHeight](#getrowheight)|Возвращает высоту кнопок панели инструментов.|
|[CMFCToolBar::GetShowTooltips](#getshowtooltips)|Уточняется, отображаются ли советы по инструментам для кнопок панели инструментов.|
|[CMFCToolBar::GetSiblingToolBar](#getsiblingtoolbar)|Получает брата панели инструментов.|
|[CMFCToolBar::GetUserImages](#getuserimages)|Возвращает указатель в коллекцию изображений кнопки панели инструментов, определяемой пользователем, в приложении.|
|[CMFCToolBar::HitTest](#hittest)|Возвращает индекс кнопки панели инструментов, расположенной в указанном положении.|
|[CMFCToolBar::Вставить кнопку](#insertbutton)|Вставляет кнопку в панель инструментов.|
|[CMFCToolBar::InsertSeparator](#insertseparator)|Вставляет сепаратор в панель инструментов.|
|[CMFCToolBar::Недействительная кнопка](#invalidatebutton)|Недействительная область клиента кнопки панели инструментов, которая существует в предоставленном индексе.|
|[CMFCToolBar::IsAddRemoveКвикбуйт](#isaddremovequickcustomize)|Определяет, может ли пользователь добавлять или удалять кнопки панели инструментов с помощью опции **«Настройка** меню».|
|[CMFCToolBar::IsAltCustomizeMode](#isaltcustomizemode)|Уточняется, используется ли *быстрая настройка* для перетаскивания кнопки.|
|[CMFCToolBar::IsAutograyInactiveImages](#isautograyinactiveimages)|Уточняется, включено ли автоматическое генерирование неактивных (не подсвеченных) изображений кнопок.|
|[CMFCToolBar::IsBasicCommand](#isbasiccommand)|Определяет, есть ли команда в списке основных команд.|
|[CMFCToolBar::IsButtonExtraSizeДоступно](#isbuttonextrasizeavailable)|Определяет, может ли панель инструментов отображать кнопки, которые имеют расширенные границы.|
|[CMFCToolBar::IsButtonHighlighted](#isbuttonhighlighted)|Определяет, выделена ли кнопка на панели инструментов.|
|[CMFCToolBar::IsCommandPermitted](#iscommandpermitted)|Определяет, разрешена ли команда.|
|[CMFCToolBar::IsCommandРедкоИспользуется](#iscommandrarelyused)|Определяет, используется ли команда редко [(см. CMFCToolBar::SetCommandUsageOptions).](#setcommandusageoptions)|
|[CMFCToolBar::IsCustomizeMode](#iscustomizemode)|Уточняется, находится ли платформа панели инструментов в режиме настройки.|
|[CMFCToolBar::IsdragButton](#isdragbutton)|Определяет, перетаскивается ли кнопка панели инструментов.|
|[CMFCToolBar::IsExistCustomizeButton](#isexistcustomizebutton)|Определяет, содержит ли панель инструментов кнопку **Настройка.**|
|[CMFCToolBar::IsFloating](#isfloating)|Определяет, плавает ли панель инструментов.|
|[CMFCToolBar::IsLargeIcons](#islargeicons)|Уточняется, отображаются ли панели инструментов в приложении в настоящее время большие значки.|
|[CMFCToolBar::IsLastCommandFromButton](#islastcommandfrombutton)|Определяет, была ли отправлена последняя выполненная команда с указанной кнопки панели инструментов.|
|[CMFCToolBar::Заблокирован](#islocked)|Определяет, заблокирована ли панель инструментов.|
|[CMFCToolBar::IsonerowWithSibling](#isonerowwithsibling)|Определяет, расположены ли панель инструментов и панель инструментов для брата в одном ряду.|
|[CMFCToolBar::IsuserDefined](#isuserdefined)|Определяет, определяется ли панель инструментов для пользователя.|
|[CMFCToolBar::LoadBitmap](#loadbitmap)|Загружает изображения значков панели инструментов из ресурсов приложения.|
|[CMFCToolBar::LoadBitmapEx](#loadbitmapex)|Загружает изображения значков панели инструментов из ресурсов приложения. Включает в себя большие изображения.|
|[CMFCToolBar::НагрузкаПараметры](#loadparameters)|Загружает глобальные параметры панели инструментов из реестра Windows.|
|[CMFCToolBar::Нагрузка](#loadstate)|Загружает информацию о состоянии панели инструментов из реестра Windows. (Переопределяет [CPane::LoadState](../../mfc/reference/cpane-class.md#loadstate).)|
|[CMFCToolBar::LoadToolBar](#loadtoolbar)|Загружает панель инструментов из ресурсов приложения.|
|[CMFCToolBar::LoadToolBarEx](#loadtoolbarex)|Загружает панель инструментов из `CMFCToolBarInfo` ресурсов приложения, используя класс помощника, чтобы приложение могло использовать большие изображения.|
|[CMFCToolBar::OnChangeHot](#onchangehot)|Вызывается по системе, когда пользователь выбирает кнопку на панели инструментов.|
|[CMFCToolBar::Onfillbackground](#onfillbackground)|Вызывается рамки от [CBasePane: :DoPaint](../../mfc/reference/cbasepane-class.md#dopaint) для заполнения панели инструментов фона.|
|[CMFCToolBar::OnReset](#onreset)|Восстанавливает панель инструментов в исходное состояние.|
|[CMFCToolbar::OnsetAccData](#onsetaccdata)|(Переопределяет [CBasePane::OnSetAccData](../../mfc/reference/cbasepane-class.md#onsetaccdata).)|
|[CMFCToolbar::OnSetDefaultButtonText](#onsetdefaultbuttontext)|Восстанавливает текст кнопки панели инструментов в состояние по умолчанию.|
|`CMFCToolBar::OnUpdateCmdUI`|Для внутреннего использования.|
|[CMFCToolBar::RemoveAllButtons](#removeallbuttons)|Удаляет все кнопки из панели инструментов.|
|[CMFCToolBar::Удалить кнопку](#removebutton)|Удаляет кнопку с указанным индексом из панели инструментов.|
|[CMFCToolBar::RemoveStateFromRegistry](#removestatefromregistry)|Удаляет сведения о состоянии для панели инструментов из реестра Windows.|
|[CMFCToolBar::Заменить кнопку](#replacebutton)|Заменяет кнопку панели инструментов другой кнопкой панели инструментов.|
|[CMFCToolBar::ResetAll](#resetall)|Восстанавливает все панели инструментов в исходных состояниях.|
|[CMFCToolBar::ResetAllImages](#resetallimages)|Очищает все коллекции изображений панели инструментов в приложении.|
|[CMFCToolBar::RestoreOriginalState](#restoreoriginalstate)|Восстанавливает первоначальное состояние панели инструментов.|
|[CMFCToolBar::SaveState](#savestate)|Сохраняет сведения о состоянии для панели инструментов в реестре Windows. (Переопределяет [CPane::SaveState](../../mfc/reference/cpane-class.md#savestate).)|
|`CMFCToolBar::Serialize`|(Переопределяет `CBasePane::Serialize`.)|
|[CMFCToolBar::SetBasicCommands](#setbasiccommands)|Устанавливает список команд, которые всегда отображаются при открытии меню пользователем.|
|[CMFCToolBar::SetButtonInfo](#setbuttoninfo)|Устанавливает идентификатор команды, стиль и идентификатор изображения кнопки панели инструментов.|
|[CMFCToolBar::SetButtonStyle](#setbuttonstyle)|Устанавливает стиль кнопки панели инструментов в данном индексе.|
|[CMFCToolBar::SetButtonText](#setbuttontext)|Устанавливает текстовую метку кнопки панели инструментов.|
|[CMFCToolBar::SetButtons](#setbuttons)|Устанавливает кнопки для панели инструментов.|
|[CMFCToolBar::SetCommandUsageOptions](#setcommandusageoptions)|Определяет, когда редко используемые команды не отображаются в меню приложения.|
|[CMFCToolBar::SetCustomizeMode](#setcustomizemode)|Включает или отрабатывает режим настройки для всех панели инструментов в приложении.|
|[CMFCToolBar::SetGrayDisabledButtons](#setgraydisabledbuttons)|Уточняется, затемнены ли кнопки отключения на панели инструментов или же для отключенных кнопок используются изображения с ограниченными возможностями.|
|[CMFCToolBar::SetHeight](#setheight)|Устанавливает высоту панели инструментов.|
|[CMFCToolBar::SetHotBorder](#sethotborder)|Определяет, являются ли кнопки панели инструментов горячими.|
|[CMFCToolBar::SetHotTextColor](#sethottextcolor)|Устанавливает цвет текста для горячих кнопок панели инструментов.|
|[CMFCToolBar::SetLargeIcons](#setlargeicons)|Определяет, отображаются ли кнопки панели инструментов большие значки.|
|[CMFCToolBar::SetLockedSizes](#setlockedsizes)|Устанавливает размеры заблокированных кнопок и заблокированных изображений на панели инструментов.|
|[CMFCToolBar::SetMenuSizes](#setmenusizes)|Устанавливает размер кнопок меню панели инструментов и их изображений.|
|[CMFCToolBar::SetNonPermittedCommands](#setnonpermittedcommands)|Устанавливает список команд, которые не могут быть выполнены пользователем.|
|[CMFCToolBar::SetonerowWithSibling](#setonerowwithsibling)|Позиции панели инструментов и ее брата на одном ряду.|
|[CMFCToolBar::SetPermament](#setpermament)|Определяет, может ли пользователь закрыть панель инструментов.|
|[CMFCToolBar::SetRouteCommandsViaFrame](#setroutecommandsviaframe)|Определяет, отправляет ли родительский кадр или владелец команды на панель инструментов.|
|[CMFCToolBar::SetShowTooltips](#setshowtooltips)|Уточняется, отображает ли фреймворк советы по инструменту.|
|[CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar)|Определяет брата панели инструментов.|
|[CMFCToolBar::SetSizes](#setsizes)|Определяет размеры кнопок и изображений на всех панели инструментов.|
|[CMFCToolBar::SetToolBarBtnText](#settoolbarbtntext)|Определяет свойства кнопки на панели инструментов.|
|[CMFCToolBar::SetTwoRowsWithSibling](#settworowswithsibling)|Позиции панели инструментов и ее брата на отдельных строках.|
|[CMFCToolBar::SetUserImages](#setuserimages)|Устанавливает коллекцию изображений, определяемых пользователем, в приложении.|
|[CMFCToolBar::StretchPane](#stretchpane)|Растягивает панель инструментов вертикально или горизонтально. (Оверлет [CBasePane::StretchPane](../../mfc/reference/cbasepane-class.md#stretchpane).)|
|[CMFCToolBar::TranslateChar](#translatechar)|Выполняет команду кнопки, если указанный код ключа соответствует допустимому ярлыку клавиатуры.|
|[CMFCToolBar::Обновление Кнопка](#updatebutton)|Обновляет состояние указанной кнопки.|
|[CMFCToolBar::WrapToolBar](#wraptoolbar)|Перекладывая кнопки панели инструментов в заданные размеры.|

### <a name="protected-methods"></a>Защищенные методы

|Имя|Описание|
|----------|-----------------|
|[CMFCToolbar::Allowshowonlist](#allowshowonlist)|Определяет, отображается ли панель инструментов в списке на панели **Toolbars** в поле **настраивания** диалога.|
|[CMFCToolBar::CalcMaxButtonHeight](#calcmaxbuttonheight)|Вычисляет максимальную высоту кнопки в панели инструментов.|
|[CMFCToolBar::DoPaint](#dopaint)|Перерисовывает панель инструментов.|
|[CMFCToolBar::DrawButton](#drawbutton)|Перерисовывает кнопку панели инструментов.|
|[CMFCToolBar::DrawSeparator](#drawseparator)|Перерисовывает сепаратор на панели инструментов.|
|[CMFCtoolbar::OnUserToolTip](#onusertooltip)|Вызывается по фреймворку, когда набор инструментов для кнопки вот-вот будет отображаться.|

### <a name="data-members"></a>Элементы данных

|Имя|Описание|
|----------|-----------------|
|[CMFCToolBar::m_bDontScaleImages](#m_bdontscaleimages)|Определяет, масштабировать или нет изображения панели инструментов в режиме высокого DPI.|
|[CMFCToolBar::m_dblLargeImageRatio](#m_dbllargeimageratio)|Определяет соотношение между размером (высотой или шириной) больших изображений и размером обычных изображений.|

## <a name="remarks"></a>Примечания

Чтобы включить `CMFCToolBar` объект в приложение, выполните следующие действия:

1. Добавьте `CMFCToolBar` объект в окно основной рамы.

1. При обработке WM_CREATE сообщения для окна основного кадра, позвоните либо [CMFCToolBar::Create](#create) или [CMFCToolBar::CreateEx,](#createex) чтобы создать панель инструментов и указать ее стиль.

1. Позвоните [CBasePane::EnableDocking,](../../mfc/reference/cbasepane-class.md#enabledocking) чтобы указать стиль стыковки.

Чтобы вставить специальную кнопку, такую как комбо-бокс или панель инструментов, зарезервируйте кнопку манекена в родительском ресурсе и замените кнопку манекена во время выполнения с помощью [CMFCToolBar::ReplaceButton.](#replacebutton) Для получения дополнительной информации, [см. Walkthrough: Ввод контроля на панели инструментов](../walkthrough-putting-controls-on-toolbars.md).

`CMFCToolBar`является базовым классом для класса библиотеки MFC [CMFCMenuBar класса](../../mfc/reference/cmfcmenubar-class.md), [CMFCPopupMenuBar класса](../../mfc/reference/cmfcpopupmenubar-class.md), и [CMFCDropDownToolBar класса](../../mfc/reference/cmfcdropdowntoolbar-class.md).

## <a name="example"></a>Пример

В приведенном ниже примере демонстрируется использование различных методов класса `CMFCToolBar` . На примере показано, как установить текст оконного метки панели инструментов, установить границы, установить стиль панели и включить кнопку **«Добавить» или удалить кнопки,** которая появляется на конце панели инструментов. Этот фрагмент кода является частью [образца IE Demo.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#8](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_2.cpp)]

## <a name="requirements"></a>Требования

**Заголовок:** afxtoolbar.h

## <a name="inheritance-hierarchy"></a>Иерархия наследования

[CObject](../../mfc/reference/cobject-class.md)

[CCmdTarget](../../mfc/reference/ccmdtarget-class.md)

[CWnd](../../mfc/reference/cwnd-class.md)

[CBasePane](../../mfc/reference/cbasepane-class.md)

[CPane](../../mfc/reference/cpane-class.md)

[CMFCBaseToolBar](../../mfc/reference/cmfcbasetoolbar-class.md)

`CMFCToolBar`

## <a name="cmfctoolbaraddbasiccommand"></a><a name="addbasiccommand"></a>CMFCToolBar::AddBasicCommand

Добавляет команду меню в список команд, которые всегда отображаются при открытии меню.

```
static void __stdcall AddBasicCommand(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Определяет команду для добавления.

### <a name="remarks"></a>Примечания

При открытии меню всегда отображается базовая команда. Этот метод имеет смысл, когда пользователь выбирает для просмотра недавно используемых команд.

Используйте метод [CMFCToolBar::SetBasicCommands](#setbasiccommands) для настройки списка команд, которые всегда отображаются при открытии меню. Используйте метод [CMFCToolBar::GetBasicCommands](#getbasiccommands) для получения списка основных команд, используемых вашим приложением.

## <a name="cmfctoolbaraddcommandusage"></a><a name="addcommandusage"></a>CMFCToolBar::AddCommandUsage

Приращения по одному счетчику, который связан с данной командой.

```
static void __stdcall AddCommandUsage(UINT uiCommand);
```

### <a name="parameters"></a>Параметры

*uiCommand*<br/>
(в) Определяет счетчик команды на приращение.

### <a name="remarks"></a>Примечания

Рамочная система вызывает этот метод, когда пользователь выбирает элемент меню.

В фреше используется счетчики команд для отображения недавно используемых элементов меню.

Этот метод приравняает счетчик команды с помощью [cmFCCmdUsageCount::AddCmd](../../mfc/reference/cmfccmdusagecount-class.md#addcmd) метод.

## <a name="cmfctoolbaraddtoolbarforimagecollection"></a><a name="addtoolbarforimagecollection"></a>CMFCToolBar::AddtoolbarForImageCollection

Добавляет изображения из ресурсов пользовательского интерфейса в коллекцию изображений в приложении.

```
static BOOL __stdcall AddToolBarForImageCollection(
    UINT uiResID,
    UINT uiBmpResID=0,
    UINT uiColdResID=0,
    UINT uiMenuResID=0,
    UINT uiDisabledResID=0,
    UINT uiMenuDisabledResID=0);
```

### <a name="parameters"></a>Параметры

*uiResID*<br/>
(в) Идентификатор ресурса панели инструментов с изображениями для загрузки.

*uiBmpResID*<br/>
(в) Идентификатор ресурса битной карты с изображениями панели инструментов.

*uiColdResID*<br/>
(в) Идентификатор ресурса битной карты с «холодными» изображениями панели инструментов.

*uiMenuResID*<br/>
(в) Идентификатор ресурсов битной карты с изображениями меню.

*uiDisabledResID*<br/>
(в) Идентификатор ресурса битной карты с отключенными изображениями панели инструментов.

*uiMenuDisabledResID*<br/>
(в) Идентификатор ресурсов битной карты с отключенными изображениями меню.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если метод удается; FALSE, если *uiResID* или *uiBmpResID* не указывают действительные ресурсы, или происходит другая ошибка.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы загрузить бит-карту с изображениями панели инструментов и добавьте ее в коллекцию изображений панели инструментов. Этот метод создает временный объект панели инструментов и вызывает [CMFCToolBar::LoadToolBar](#loadtoolbar).

## <a name="cmfctoolbaradjustlayout"></a><a name="adjustlayout"></a>CMFCToolBar::AdjustLayout

Пересчитывает размер и положение панели инструментов.

```
virtual void AdjustLayout();
```

### <a name="remarks"></a>Примечания

Вызовите этот метод, когда панель инструментов была создана для пересчета его размера и положения.

Рамочная система вызывает этот метод каждый раз, когда должна быть изменена компоновка панели инструментов. Например, макет должен изменяться, когда пользователь перемещает другую панель управления, изменяет размер окна приложения или настраивает панель инструментов.

Переизобить этот метод, чтобы обеспечить свой `CMFCToolbar`собственный динамический макет в классах, которые вы получаете из.

## <a name="cmfctoolbaradjustsize"></a><a name="adjustsize"></a>CMFCToolBar::AdjustSize

Пересчитывает размер панели инструментов.

```cpp
void AdjustSize();
```

### <a name="remarks"></a>Примечания

Этот метод гарантирует, что панель инструментов вписывается в границы родительского кадра. Этот метод ничего не делает, если панель инструментов не имеет родительской рамы.

[Метод CMFCToolBar::AdjustLayout](#adjustlayout) называет этот метод для перерасчета размера, если родитель `CMFCReBar` панели инструментов не является объектом.

## <a name="cmfctoolbarallowchangetextlabels"></a><a name="allowchangetextlabels"></a>CMFCToolBar::AllowChangeTextLabels

Уточняется, можно ли отображать текстовые метки под изображениями на кнопках панели инструментов.

```
virtual BOOL AllowChangeTextLabels() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если разрешено отображать текстовые метки под изображениями; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается полем диалога настройки, чтобы определить, включать ли флажок для **текстовых меток Show** на странице **Toolbars** для выбранной панели инструментов.

Реализация по умолчанию возвращает TRUE.

Переопределить этот метод в объекте, полученном из `CMFCToolBar` и вернуть FALSE, когда вы не хотите, чтобы пользователь решал, отображаются ли текстовые метки на кнопках панели инструментов под изображениями.

## <a name="cmfctoolbarallowshowonlist"></a><a name="allowshowonlist"></a>CMFCToolbar::Allowshowonlist

Определяет, отображается ли панель инструментов в списке панелей инструментов на панели **Toolbars** в поле **настраиваемых** диалогов.

```
virtual BOOL AllowShowOnList() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если объект панели инструментов может отображаться в поле списка на странице настройки панели инструментов; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот метод вызывается фреймворкой, чтобы определить, должен ли список на `CMFCToolBar`странице настройки панели инструментов включать определенный объект, полученный из.

Реализация по умолчанию всегда возвращает TRUE. Переопределить этот метод, если вы не хотите, чтобы панель инструментов появилась в списке панелей инструментов в поле диалога настройки.

## <a name="cmfctoolbararetextlabels"></a><a name="aretextlabels"></a>CMFCToolBar::AreTextLabels

Уточняется, отображаются ли текстовые метки под изображениями в настоящее время на кнопках панели инструментов.

```
BOOL AreTextLabels() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если кнопки панели инструментов отображают текстовые метки под изображениями; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Используйте [CMFCToolBar::EnableTextLabels,](#enabletextlabels) чтобы указать, отображается ли текст. Значение по умолчанию — FALSE. Позвоните [CMFCToolBar::AllowChangeTextLabels,](#allowchangetextlabels) чтобы указать, может ли пользователь изменить эту настройку в поле диалога настройки.

## <a name="cmfctoolbarautograyinactiveimages"></a><a name="autograyinactiveimages"></a>CMFCToolBar::AutograyInactiveImages

Включить или отключить автоматическое поколение неактивных изображений кнопок.

```
static void AutoGrayInactiveImages(
    BOOL bEnable=TRUE,
    int nGrayImagePercentage=0,
    BOOL bRedrawAllToolbars=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
(в) Значение Boolean, которое определяет, следует ли тусклый неактивных изображений. Если этот параметр является правдой, неактивные изображения затемняются. В противном случае неактивные изображения не затемняются.

*nGrayImageПроцент*<br/>
(в) Определяет процент яркости для неактивных изображений. Если *bEnable* FALSE, это значение игнорируется.

*bRedrawAllToolbars*<br/>
(в) Значение Boolean, которое определяет, следует ли перерисовать все панели инструментов в приложении. Если этот параметр является правдой, этот метод перерисовывает все панели инструментов.

### <a name="remarks"></a>Примечания

Если *bEnable* является правдой, платформа использует *nGrayImagePercentage* для создания неактивных изображений из обычных изображений. В противном случае необходимо предоставить набор неактивных изображений с помощью метода [CMFCToolBar::GetColdImages.](#getcoldimages) Этот параметр по умолчанию отключен.

Для получения дополнительной информации о *nGrayImagePercentage* параметр, см [CMFCToolBarImages::GrayImages](../../mfc/reference/cmfctoolbarimages-class.md#grayimages).

## <a name="cmfctoolbarbuttontoindex"></a><a name="buttontoindex"></a>CMFCToolBar::ButtontoIndex

Возвращает индекс указанного объекта [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) в этой панели инструментов.

```
int ButtonToIndex(const CMFCToolBarButton* pButton) const;
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
(в) Указатель на объект кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Индекс *pButton* во внутреннем списке кнопок панели инструментов; или -1, если указанная кнопка не находится на этой панели инструментов.

## <a name="cmfctoolbarcalcfixedlayout"></a><a name="calcfixedlayout"></a>CMFCToolBar::CalcFixedLayout

Вычисляет горизонтальный размер панели инструментов.

```
virtual CSize CalcFixedLayout(
    BOOL bStretch,
    BOOL bHorz);
```

### <a name="parameters"></a>Параметры

*bStretch*<br/>
(в) TRUE растянуть панель инструментов до размера родительской рамы.

*bHorz*<br/>
(в) TRUE для ориентации панели инструментов горизонтально; FALSE сориентировать панель инструментов вертикально.

### <a name="return-value"></a>Возвращаемое значение

Объект, `CSize` опознавав размер панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод вычисляет размер панели `CMFCToolBar::CalcLayout` инструментов с помощью метода. Он передает LM_STRETCH флаг для параметра *dwMode,* если *bStretch* является правдой. Он проходит LM_HORZ флаг, если *bHorz* является правдой.

На примере, использующем этот метод, можно ознакомиться в примере VisualStudioDemo.

## <a name="cmfctoolbarcalcmaxbuttonheight"></a><a name="calcmaxbuttonheight"></a>CMFCToolBar::CalcMaxButtonHeight

Вычисляет максимальную высоту кнопок в панели инструментов.

```
virtual int CalcMaxButtonHeight();
```

### <a name="return-value"></a>Возвращаемое значение

Максимальная высота кнопок.

### <a name="remarks"></a>Примечания

Этот метод вычисляет максимальную высоту среди всех кнопок панели инструментов на панели инструментов. Высота может варьироваться в зависимости от таких факторов, как текущее состояние стыковки панели инструментов.

Переопределить этот метод в классе, полученном из, `CMFCToolBar` чтобы обеспечить свой собственный расчет высоты.

## <a name="cmfctoolbarcalcsize"></a><a name="calcsize"></a>CMFCToolBar::CalcSize

Вызывается рамкой в рамках процесса расчета макета.

```
virtual CSize CalcSize(BOOL bVertDock);
```

### <a name="parameters"></a>Параметры

*bVertDock*<br/>
(в) TRUE указать, что панель инструментов пристыкована вертикально; FALSE указать, что панель инструментов пристыкована горизонтально.

### <a name="return-value"></a>Возвращаемое значение

Объект, `CSize` опознававательный размер кнопок на панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод учитывает атрибуты, влияющие на размер каждой кнопки, такие как область текстовой метки и размер границы.

Если панель инструментов не содержит кнопок, этот метод возвращает зарезервированный размер одной кнопки с помощью метода [CMFCToolBar::GetButtonSize.](#getbuttonsize)

## <a name="cmfctoolbarcanbeclosed"></a><a name="canbeclosed"></a>CMFCToolBar::CanbeClosed

Определяет, может ли пользователь закрыть панель инструментов.

```
virtual BOOL CanBeClosed() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если панель инструментов может быть закрыта пользователем; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, может ли пользователь закрыть панель инструментов. Если метод возвращает TRUE, фреймворк позволяет SC_CLOSE команду в меню системы панели инструментов, и пользователь может закрыть панель инструментов, используя флажок в списке панелей инструментов в поле диалога настройки.

Реализация по умолчанию возвращает TRUE. Переопределить этот метод в классе, полученном из, `CMFCToolBar` чтобы сделать объекты панели инструментов, которые не могут быть закрыты пользователем.

## <a name="cmfctoolbarcanberestored"></a><a name="canberestored"></a>CMFCToolBar::CanBeRestored

Определяет, может ли система восстановить панель инструментов в исходное состояние после настройки.

```
virtual BOOL CanBeRestored() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если панель инструментов может быть восстановлена из ресурсов приложения; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, чтобы определить, можно ли вернуть панель инструментов в исходное состояние после настройки. Исходное состояние загружается из ресурсов приложения.

Если `CanBeRestored` возвращается TRUE, страница **Toolbars** в поле диалога настройки позволяет кнопку **сбросить** для выбранной панели инструментов.

Реализация по умолчанию возвращает TRUE, если исходный идентификатор панели ресурсов при загрузке не является нулевым. Как правило, только пользовательские панели инструментов не могут быть восстановлены.

Вы можете переопределить `CanBeRestored` метод настройки этого поведения в производных классах.

## <a name="cmfctoolbarcanfocus"></a><a name="canfocus"></a>CMFCToolBar::CanFocus

Определяет, может ли панель получить фокус.

```
virtual BOOL CanFocus() const;
```

### <a name="return-value"></a>Возвращаемое значение

Этот метод возвращает FALSE.

### <a name="remarks"></a>Примечания

Этот метод переопределяет реализацию базового класса, [CBasePane::CanFocus](../../mfc/reference/cbasepane-class.md#canfocus), потому что объекты панели инструментов не могут получать фокус.

## <a name="cmfctoolbarcanhandlesiblings"></a><a name="canhandlesiblings"></a>CMFCToolBar::CanHandleSiblings

Определяет, расположена ли панель инструментов и панель того же уровня в одной области.

```
BOOL CanHandleSiblings();
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если панель инструментов имеет брата и панели инструментов и его брат расположены на той же панели; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Внутренний метод CMFCCustomizeButton::CreatePopupMenu называет этот метод, чтобы определить, как показать всплывающее меню **Customize.** Если этот метод возвращает TRUE, фреймворк отображает **кнопки Show на one Row** или **кнопки Show на кнопках Two Rows.**

Использование этого метода обычно не требуется. Чтобы включить кнопку **настройки,** которая появляется на панели инструментов, позвоните в [cmFCToolBar::EnableCustomizeButton](#enablecustomizebutton) метод. Для включения **кнопки показа на одном ряду** или для **показа кнопок на кнопках «Два ряда»** позвоните [по телефону CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar).

## <a name="cmfctoolbarcleanupimages"></a><a name="cleanupimages"></a>CMFCToolBar::ОчисткаImages

Освобождает системные ресурсы, выделенные для изображений панели инструментов.

```
static void CMFCToolBar::CleanUpImages();
```

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод при выключении приложения.

## <a name="cmfctoolbarcleanuplockedimages"></a><a name="cleanuplockedimages"></a>CMFCToolBar::CleanUpLockedImages

Освобождает системные ресурсы, выделенные для заблокированных изображений панели инструментов.

```cpp
void CleanUpLockedImages();
```

### <a name="remarks"></a>Примечания

Вызовите этот метод при изменении визуального стиля приложения. На примере, использующем этот метод, можно ознакомиться в примере VisualStudioDemo.

## <a name="cmfctoolbarcommandtoindex"></a><a name="commandtoindex"></a>CMFCToolBar::CommandtoIndex

Возвращает индекс кнопки в панели инструментов с указанным идентификатором команды.

```
int CommandToIndex(
    UINT nIDFind,
    int iIndexFirst=0) const;
```

### <a name="parameters"></a>Параметры

*nIDFind*<br/>
(в) Упогоняет идентификатор команды.

*iIndexПервый*<br/>
(в) Определяет начальный индекс для начала.

### <a name="return-value"></a>Возвращаемое значение

Нулевой индекс кнопки панели инструментов, если метод был успешным; -1, если нет кнопки с указанным идентификатором.

### <a name="remarks"></a>Примечания

Объект `CMFCToolBar` поддерживает внутренний список кнопок на панели инструментов. Вызов исчисляйте эту функцию, чтобы получить индекс кнопки в списке, учитывая идентификатор команды кнопки.

Если *iIndex* больше 0, этот метод игнорирует любую кнопку на панели инструментов, которая имеет индекс меньше, чем *iIndex.*

## <a name="cmfctoolbarcreate"></a><a name="create"></a>CMFCToolBar::Создание

Создает объект `CMFCToolBar`.

```
virtual BOOL Create(
    CWnd* pParentWnd,
    DWORD dwStyle=AFX_DEFAULT_TOOLBAR_STYLE,
    UINT nID=AFX_IDW_TOOLBAR);
```

### <a name="parameters"></a>Параметры

*pParentWnd*<br/>
(в) Указатель на родительское окно панели инструментов.

*dwStyle*<br/>
(в) Стиль панели инструментов. Список стилей [управления инструментами и кнопки](/windows/win32/Controls/toolbar-control-and-button-styles) можно увидеть в SDK Windows.

*nID*<br/>
(в) Идентификатор окна ребенка панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если этот метод удается; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот метод создает панель управления и прикрепляет ее к панели инструментов. Он создает панель управления с TBSTYLE_FLAT стилем. Позвоните [CMFCToolBar::CreateEx,](#createex) если вы хотите другой стиль панели управления.

## <a name="cmfctoolbarcreateex"></a><a name="createex"></a>CMFCToolBar::CreateEx

Создает `CMFCToolBar` объект, который использует дополнительные параметры стиля, такие как большие значки.

```
virtual BOOL CreateEx(
    CWnd* pParentWnd,
    DWORD dwCtrlStyle=TBSTYLE_FLAT,
    DWORD dwStyle=AFX_DEFAULT_TOOLBAR_STYLE,
    CRect rcBorders=CRect(1,
    1,
    1,
    1),
    UINT nID=AFX_IDW_TOOLBAR);
```

### <a name="parameters"></a>Параметры

*pParentWnd*<br/>
(в) Указатель на родительское окно панели инструментов.

*dwCtrlStyle*<br/>
(в) Дополнительные стили для создания встроенного объекта панели управления.

*dwStyle*<br/>
(в) Стиль панели инструментов. Ознакомиться со [стилами управления панелью инструментов и кнопками](/windows/win32/Controls/toolbar-control-and-button-styles) можно посмотреть.

*rcГраници*<br/>
(в) Объект, `CRect` определяя ширину границ окна панели инструментов.

*nID*<br/>
(в) Идентификатор окна ребенка панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если этот метод удается; в противном случае 0.

### <a name="remarks"></a>Примечания

Этот метод создает панель управления и прикрепляет ее к панели инструментов.

Вызовите этот метод вместо [CMFCToolBar::Создание,](#create) когда вы хотите предоставить определенные стили. Например, установите *dwCtrlStyle* для TBSTYLE_FLAT TBSTYLE_TRANSPARENT создать панель инструментов, напоминающую панели инструментов, которые используются Internet Explorer 4.

### <a name="example"></a>Пример

В следующем примере показано, `CreateEx` как `CMFCToolBar` использовать метод класса. Этот фрагмент кода является частью [образца IE Demo.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#7](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_3.cpp)]

## <a name="cmfctoolbardeactivate"></a><a name="deactivate"></a>CMFCToolBar: :Dэактивировать

Отключает панель инструментов.

```
virtual void Deactivate();
```

### <a name="remarks"></a>Примечания

Этот метод отключает панель инструментов, удалив фокус с выделенной кнопки панели инструментов. Рамочная система вызывает этот метод, когда панель инструментов теряет фокус или разрушается.

## <a name="cmfctoolbardopaint"></a><a name="dopaint"></a>CMFCToolBar::DoPaint

Перерисовывает панель инструментов.

```
virtual void DoPaint(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
(в) Указатель на контекст устройства.

### <a name="remarks"></a>Примечания

Этот метод вызывается фреймворкой, когда часть панели инструментов должна быть перекрашена.

Переопределить этот метод, чтобы настроить внешний `CMFCToolBar`вид объекта, полученного из.

## <a name="cmfctoolbardrawbutton"></a><a name="drawbutton"></a>CMFCToolBar::DrawButton

Перерисовывает кнопку панели инструментов.

```
virtual BOOL DrawButton(
    CDC* pDC,
    CMFCToolBarButton* pButton,
    CMFCToolBarImages* pImages,
    BOOL bHighlighted,
    BOOL bDrawDisabledImages);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
(в) Указатель на контекст устройства.

*pButton*<br/>
(в) Указатель на кнопку для рисования.

*pImages*<br/>
(в) Указатель на изображения панели инструментов.

*bНазалион*<br/>
(в) TRUE, если кнопка выделена; в противном случае FALSE.

*bDrawDisabledImages*<br/>
(в) TRUE, если отключенные кнопки затемнены; в противном случае FALSE.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если кнопка была перекрашена; FALSE, если кнопка скрыта.

### <a name="remarks"></a>Примечания

Метод [CMFCToolBar::DrawButton](#drawbutton) называет этот метод, когда кнопка панели инструментов должна быть перекрашена.

Переопределить этот метод, если вы хотите настроить внешний вид кнопок на панели инструментов.

## <a name="cmfctoolbardrawseparator"></a><a name="drawseparator"></a>CMFCToolBar::DrawSeparator

Перерисовывает сепаратор на панели инструментов.

```
virtual void DrawSeparator(
    CDC* pDC,
    const CRect& rect,
    BOOL bHorz);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
(в) Указатель на контекст устройства.

*rect*<br/>
(в) Ограничивающий прямоугольник места, где нарисован сепаратор, в пикселях.

*bHorz*<br/>
(в) ПРАВДА, если сепаратор горизонтальный, FALSE, если сепаратор вертикальный.

### <a name="remarks"></a>Примечания

[CMFCToolBar::DoPaint](#dopaint) называет этот метод для каждого [CMFCToolBar: :Dобъект,](#drawseparator) который имеет TBBS_SEPARATOR стиль, вместо вызова [CMFCToolBar: :DrawButton](#drawbutton) для этих кнопок.

Переопределить этот метод в классе, полученном из [CMFCToolBar,](../../mfc/reference/cmfctoolbar-class.md) чтобы настроить внешний вид сепараторов на панели инструментов. Реализация по умолчанию вызывает [CMFCVisualManager::OnDrawSeparator,](../../mfc/reference/cmfcvisualmanager-class.md#ondrawseparator) чтобы нарисовать сепаратор, внешний вид которого определяется текущим визуальным менеджером.

## <a name="cmfctoolbarenablecustomizebutton"></a><a name="enablecustomizebutton"></a>CMFCToolBar::EnableCustomizeButton

Включает или отсваивает кнопку Настройка, которая появляется на панели инструментов.

```cpp
void EnableCustomizeButton(
    BOOL bEnable,
    int iCustomizeCmd,
    const CString& strCustomizeText,
    BOOL bQuickCustomize=TRUE);

void EnableCustomizeButton(
    BOOL bEnable,
    int iCustomizeCmd,
    UINT uiCustomizeTextResId,
    BOOL bQuickCustomize=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
(в) Позволяет или отсваивает кнопку настройки.

*iCustomizeCmd*<br/>
(в) Идентификатор команды кнопки Настройка.

*strCustomizeText*<br/>
(в) Текстовая метка кнопки Настройка.

*uiCustomizeTextResId*<br/>
(в) Идентификатор строки ресурса метки кнопки Настройка.

*b'UickCustomize*<br/>
(в) Позволяет или отменяет опцию **Добавить или удалить кнопки** в меню, которое падает с кнопки.

### <a name="remarks"></a>Примечания

Если *iCustomizeCmd* является -1, фреймворк отображает кнопку Настройка, когда несколько кнопок панели инструментов не вписываются в область панели инструментов. Кнопка отображает двойную левую стрелку, или шеврон, что указывает на то, что кнопок больше.

Если *iCustomizeCmd* указывает действительное идентификатор команды, и *bEnable* является правдой, кнопка настройки всегда отображается. Кнопка имеет небольшую нитную стрелку и открывает меню, содержащее команду. Эта команда использует текстовую метку, указанную *strCustomizeText.* Если *b'uickCustomize* также является правдой, в меню отображается опция **Добавить или удалить кнопки.**

Рамки динамически добавляют в меню любые кнопки, которые не вписываются в область панели инструментов перед элементом, указанным *iCustomizeCmd.* Шеврон отображается рядом со стрелкой вниз.

## <a name="cmfctoolbarenabledocking"></a><a name="enabledocking"></a>CMFCToolBar::EnableDocking

Позволяет стыковку панели к основной раме.

```
virtual void EnableDocking(DWORD dwAlignment);
```

### <a name="parameters"></a>Параметры

*dwAlignment*<br/>
(в) Определяет выравнивание стыковки для включения.

### <a name="remarks"></a>Примечания

Этот метод расширяет реализацию базового класса, [CBasePane::EnableDocking,](../../mfc/reference/cbasepane-class.md#enabledocking)установив член `CBasePane::m_dwControlBarStyle` данных для AFX_CBRS_FLOAT. Затем этот метод передает *dwAlignment* в реализацию базового класса.

## <a name="cmfctoolbarenablelargeicons"></a><a name="enablelargeicons"></a>CMFCToolBar::EnableLargeIcons

Позволяет или отсваивает большие значки на кнопках панели инструментов.

```cpp
void EnableLargeIcons(BOOL bEnable);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
(в) TRUE для включения больших иконок, FALSE, чтобы отключить большие иконки.

### <a name="remarks"></a>Примечания

По умолчанию включены большие значки.

## <a name="cmfctoolbarenablequickcustomization"></a><a name="enablequickcustomization"></a>CMFCToolBar::Enable'uickCustomization

Позволяет или отключает быструю настройку панели инструментов, чтобы пользователь мог нажать клавишу **Alt** и перетащить кнопку на новое место.

```
static void EnableQuickCustomization(BOOL bEnable=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
(в) TRUE для обеспечения быстрой настройки, FALSE, чтобы отключить быструю настройку.

## <a name="cmfctoolbarenablereflections"></a><a name="enablereflections"></a>CMFCToolBar::EnableReflections

Позволяет или отсваивает отражение команды.

```cpp
void EnableReflections(BOOL bEnable = TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
(в) TRUE для отражения команды; FALSE, чтобы отключить отражение команды.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы включить отражение команды для кнопок панели инструментов, которые содержат встроенные элементы управления, такие как комбо-боксы.

Для получения дополнительной информации [TN062: Message Reflection for Windows Controls](../../mfc/tn062-message-reflection-for-windows-controls.md)о отражении команды см.

## <a name="cmfctoolbarenabletextlabels"></a><a name="enabletextlabels"></a>CMFCToolBar::EnableTextLabels

Позволяет или отсваивает текстовые метки под изображениями кнопки панели инструментов.

```cpp
void EnableTextLabels(BOOL bEnable=TRUE);
```

### <a name="parameters"></a>Параметры

*bEnable*<br/>
TRUE, если текстовые метки появляются под изображениями кнопки панели инструментов; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Если текстовые метки включены, все кнопки на панели инструментов увеличены, чтобы обеспечить пространство для меток, которые будут отображаться под изображениями. Коробка диалога настройки имеет флажок **этикетки Текста На** странице **Toolbars.** Когда пользователь выбирает панель инструментов и проверяет эту `EnableTextLabels` опцию, фреймворк требует выбранную панель инструментов. Вы можете отключить флажок для объекта, полученного из [CMFCToolBar,](../../mfc/reference/cmfctoolbar-class.md) вернувшись FALSE из [CMFCToolBar::AllowChangeTextLabels](#allowchangetextlabels) .

## <a name="cmfctoolbarfromhandlepermanent"></a><a name="fromhandlepermanent"></a>CMFCToolBar::ОтРукентный

Извлекает указатель на `CMFCToolBar` объект, содержащий данную ручку окна.

```
static CMFCToolBar* __stdcall FromHandlePermanent(HWND hwnd);
```

### <a name="parameters"></a>Параметры

*Hwnd*<br/>
(в) Ручка окна, чтобы искать.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CMFCToolBar` объект, содержащий данную ручку окна, `CMFCToolBar` или NULL, если не существует соответствующего объекта.

### <a name="remarks"></a>Примечания

Этот общий метод рассматривает каждую панель `CMFCToolBar` инструментов в приложении для объекта, содержащего данную ручку окна.

## <a name="cmfctoolbargetallbuttons"></a><a name="getallbuttons"></a>CMFCToolBar::GetAllButtons

Возвращает список кнопок только для чтения в панели инструментов.

```
const CObList& GetAllButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Постоянная ссылка на объект [класса CObList,](../../mfc/reference/coblist-class.md) который содержит коллекцию объектов [класса CMFCToolBarButton.](../../mfc/reference/cmfctoolbarbutton-class.md)

## <a name="cmfctoolbargetalltoolbars"></a><a name="getalltoolbars"></a>CMFCToolBar::GetAllToolbars

Возвращает список всех инструментов в приложении.

```
static const CObList& GetAllToolbars();
```

### <a name="return-value"></a>Возвращаемое значение

Ссылка на объект [класса CObList,](../../mfc/reference/coblist-class.md) содержащего коллекцию объектов. `CMFCToolBar`

## <a name="cmfctoolbargetbasiccommands"></a><a name="getbasiccommands"></a>CMFCToolBar::GetBasicCommands

Возвращает список основных команд, определяемых в приложении, только для чтения.

```
static const CList<UINT,UINT>& GetBasicCommands();
```

### <a name="return-value"></a>Возвращаемое значение

Ссылка на объект [класса CList,](../../mfc/reference/clist-class.md) содержащий набор основных команд.

### <a name="remarks"></a>Примечания

Добавить основные команды, позвонив [cmFCToolBar::AddBasicCommand](#addbasiccommand) или [CMFCToolBar::SetBasicCommands](#setbasiccommands).

## <a name="cmfctoolbargetbutton"></a><a name="getbutton"></a>CMFCToolBar::GetButton

Возвращает указатель на объект [класса CMFCToolBarButton](../../mfc/reference/cmfctoolbarbutton-class.md) по указанному индексу.

```
CMFCToolBarButton* GetButton(int iIndex) const;
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
(в) Определяет индекс кнопки для возврата.

### <a name="return-value"></a>Возвращаемое значение

Указатель на кнопку панели инструментов, если она существует; или NULL, если такой кнопки нет.

## <a name="cmfctoolbargetbuttoninfo"></a><a name="getbuttoninfo"></a>CMFCToolBar::GetButtonInfo

Возвращает идентификатор команды, стиль и индекс изображения кнопки в указанном индексе.

```cpp
void GetButtonInfo(
    int nIndex,
    UINT& nID,
    UINT& nStyle,
    int& iImage) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Упоняет индекс кнопки в списке кнопок на панели инструментов.

*nID*<br/>
(ваут) Идентификатор команды кнопки.

*nStyle*<br/>
(ваут) Стиль кнопки.

*iImage*<br/>
(ваут) Индекс изображения для кнопки.

### <a name="remarks"></a>Примечания

Метод `GetButtonInfo` находит кнопку панели инструментов в указанном индексе и получает идентификатор команды, стиль и индекс изображения кнопки.

Если кнопка в указанном индексе не существует, в фреймворке устанавливается *nID* и *nStyle* до 0, а *iImage* - -1 при возврате метода.

## <a name="cmfctoolbargetbuttonsize"></a><a name="getbuttonsize"></a>CMFCToolBar::GetButtonSize

Возвращает размеры каждой кнопки на панели инструментов.

```
CSize GetButtonSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект [класса CSize,](../../atl-mfc-shared/reference/csize-class.md) который определяет размеры каждой кнопки на панели инструментов.

### <a name="remarks"></a>Примечания

Позвоните [CMFCToolBar::SetSizes](#setsizes) или [CMFCToolBar::SetLockedSizes](#setlockedsizes) установить размеры каждой кнопки на панели инструментов.

## <a name="cmfctoolbargetbuttonstyle"></a><a name="getbuttonstyle"></a>CMFCToolBar::GetButtonStyle

Возвращает текущий стиль кнопки панели инструментов, которая находится в указанном индексе.

```
UINT GetButtonStyle(int nIndex) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Определяет индекс кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Значение, означаваеваеееее стиль кнопки панели инструментов. . Ознакомиться со [стилами управления панели инструментов](../../mfc/reference/toolbar-control-styles.md) можно ознакомиться на листе возможных стилей.

### <a name="remarks"></a>Примечания

Позвоните [CMFCToolBar::SetButtonStyle,](#setbuttonstyle) чтобы установить стиль кнопки панели инструментов

## <a name="cmfctoolbargetbuttontext"></a><a name="getbuttontext"></a>CMFCToolBar::GetButtonText

Возвращает текстовую метку кнопки с указанным индексом.

```
CString GetButtonText(int nIndex) const;

void GetButtonText(
    int nIndex,
    CString& rString) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Индекс кнопки панели инструментов.

*rString*<br/>
(ваут) Текст метки кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Текст метки кнопки панели инструментов.

### <a name="remarks"></a>Примечания

Позвоните [CMFCToolBar::SetButtonText](#setbuttontext) или [CMFCToolBar::SetToolBarBtnText](#settoolbarbtntext) для установки текстовой метки.

## <a name="cmfctoolbargetcoldimages"></a><a name="getcoldimages"></a>CMFCToolBar::GetColdImages

Возвращает указатель в коллекцию изображений холодной панели инструментов в приложении.

```
static CMFCToolBarImages* GetColdImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию холодных изображений кнопки панели инструментов.

### <a name="remarks"></a>Примечания

Холодные изображения — это изображения, которые используются, когда пользователь не взаимодействует с кнопками панели инструментов. Позвоните [CMFCToolBar::LoadBitmapEx](#loadbitmapex) или [CMFCToolBar::LoadBitmap](#loadbitmap) для загрузки холодных изображений.

## <a name="cmfctoolbargetcolumnwidth"></a><a name="getcolumnwidth"></a>CMFCToolBar::GetColumnШирин

Возвращает ширину кнопок панели инструментов.

```
virtual int GetColumnWidth() const;
```

### <a name="return-value"></a>Возвращаемое значение

Значение, оговаривает ширину кнопок панели инструментов.

### <a name="remarks"></a>Примечания

Рамочная система вызывает этот метод для расчета макета панели инструментов. Переопределить этот метод в производном классе, чтобы указать другую ширину столбца для панели инструментов.

## <a name="cmfctoolbargetcommandbuttons"></a><a name="getcommandbuttons"></a>CMFCToolBar::GetCommandButtons

Возвращает список кнопок с указанным идентификатором команды из всех панелей инструментов в приложении.

```
static int GetCommandButtons(
    UINT uiCmd,
    CObList& listButtons);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Идентификатор команды кнопок.

*списокКонов*<br/>
(ваут) Ссылка на объект [класса CObList,](../../mfc/reference/coblist-class.md) который получает список кнопок панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Количество кнопок с указанным идентификатором команды.

## <a name="cmfctoolbargetcount"></a><a name="getcount"></a>CMFCToolBar::GetCount

Возвращает количество кнопок и сепараторов на панели инструментов.

```
int GetCount() const;
```

### <a name="return-value"></a>Возвращаемое значение

Количество кнопок и сепараторов на панели инструментов.

## <a name="cmfctoolbargetcustomizebutton"></a><a name="getcustomizebutton"></a>CMFCToolBar::GetCustomizeButton

Извлекает указатель на `CMFCCustomizeButton` объект, связанный с панелью инструментов.

```
CMFCCustomizeButton* GetCustomizeButton();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CMFCCustomizeButton` объект, связанный с панелью инструментов.

### <a name="remarks"></a>Примечания

Этот метод получает кнопку **настройки,** которая появляется в конце панели инструментов. Используйте метод [CMFCToolBar::EnableCustomizeButton,](#enablecustomizebutton) чтобы добавить кнопку **настройки** в панель инструментов.

Вы можете позвонить в [CMFCToolBar::IsExistCustomizeButton](#isexistcustomizebutton) метод, чтобы `CMFCCustomizeButton` определить, содержит ли панель инструментов действительный объект.

## <a name="cmfctoolbargetdefaultimage"></a><a name="getdefaultimage"></a>CMFCToolBar::GetDefaultImage

Возвращает индекс изображения по умолчанию для кнопки панели инструментов с указанным идентификатором команды.

```
static int GetDefaultImage(UINT uiID);
```

### <a name="parameters"></a>Параметры

*uiID*<br/>
(в) Упоняет идентификатор команды кнопки.

### <a name="return-value"></a>Возвращаемое значение

Индекс изображения панели инструментов в общем списке изображений.

### <a name="remarks"></a>Примечания

Используйте этот общий метод для получения индекса изображения по умолчанию для кнопки панели инструментов с указанным идентификатором команды. Значение возврата — это индекс в общую коллекцию изображений кнопки панели инструментов для всех панели инструментов в приложении. Позвоните в [CMFCToolBar::GetImages](#getimages) метод, чтобы получить указатель на эту коллекцию.

## <a name="cmfctoolbargetdisabledimages"></a><a name="getdisabledimages"></a>CMFCToolBar::GetDisabledImages

Возвращает указатель в коллекцию изображений, которые используются для отключенных кнопок панели инструментов в приложении.

```
static CMFCToolBarImages* __stdcall GetDisabledImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию отключенных изображений кнопки панели инструментов.

### <a name="remarks"></a>Примечания

Загрузите изображения кнопки отключения с помощью [cmFCToolBarEditButton Типа](../../mfc/reference/cmfctoolbareditboxbutton-class.md) и [CMFCToolBar::LoadBitmap](#loadbitmap) методы.

## <a name="cmfctoolbargetdisabledmenuimages"></a><a name="getdisabledmenuimages"></a>CMFCToolBar::GetDisabledMenuImages

Возвращает указатель в коллекцию изображений, которые используются для отключенных кнопок меню в приложении.

```
static CMFCToolBarImages* __stdcall GetDisabledMenuImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений меню с ограниченными возможностями.

### <a name="remarks"></a>Примечания

Загрузите отключенные изображения с помощью метода [CMFCToolBarEditButtonButton.](../../mfc/reference/cmfctoolbareditboxbutton-class.md)

## <a name="cmfctoolbargetdroppeddownmenu"></a><a name="getdroppeddownmenu"></a>CMFCToolBar::GetDroppedDownMenu

Извлекает указатель на объект кнопки меню, который в настоящее время отображает его подменю.

```
CMFCToolBarMenuButton* GetDroppedDownMenu(int* pIndex = NULL) const;
```

### <a name="parameters"></a>Параметры

*pИндекс*<br/>
(ваут) Получает индекс кнопки в наборе кнопок панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект кнопки меню, который отображает его подменю или NULL, если меню не отображает его подменю.

### <a name="remarks"></a>Примечания

Если этот метод возвращает значение, не являвается НУЛ, а *pIndex* не является NULL, значение, наносимые *pIndex,* устанавливается в индекс кнопки меню в наборе кнопок панели инструментов.

## <a name="cmfctoolbargetgraydisabledbuttons"></a><a name="getgraydisabledbuttons"></a>CMFCToolBar::GetGrayDisabledButtons

Уточняется, являются ли изображения отключенных кнопок затемненными версиями обычных кнопочных изображений или взяты из коллекции изображений отключенных кнопок.

```
BOOL GetGrayDisabledButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, чтобы затемнить изображения отключенных кнопок; FALSE для получения изображений из коллекции изображений с ограниченными возможностями.

### <a name="remarks"></a>Примечания

Используйте [CMFCToolBar::SetGrayDisabledButtons](#setgraydisabledbuttons) для переключения между затемненными изображениями и изображениями из коллекции отключенных изображений.

## <a name="cmfctoolbargethighlightedbutton"></a><a name="gethighlightedbutton"></a>CMFCToolBar::GetHighlightedButton

Возвращает указатель на кнопку панели инструментов, которая в настоящее время выделена.

```
CMFCToolBarButton* GetHighlightedButton() const;
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект кнопки панели инструментов; или NULL, если кнопка не выделена.

### <a name="remarks"></a>Примечания

Кнопка панели инструментов выделяется, если она имеет фокус клавиатуры. Кнопка панели инструментов также выделяется, если кнопки панели инструментов являются горячими гусениками в этом приложении (для получения дополнительной информации, [см. CMFCToolBar::GetHotBorder](#gethotborder) и [CMFCToolBar::SetHotBorder](#sethotborder)) и мышь указывает на него, когда нет кнопки панели инструментов или пункт меню имеет клавиатуру фокусировки.

## <a name="cmfctoolbargethotborder"></a><a name="gethotborder"></a>CMFCToolBar::GetHotBorder

Определяет, являются ли кнопки панели инструментов *горячими.* Если кнопка с горячей гусевицей, она выделяется, когда мышь перемещается по ней.

```
BOOL GetHotBorder() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если кнопки панели инструментов являются горячими; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

По умолчанию кнопки панели инструментов отслеживаются по горячим следам.

## <a name="cmfctoolbargethottextcolor"></a><a name="gethottextcolor"></a>CMFCToolBar::GetHotTextColor

Возвращает цвет текста выделенных кнопок панели инструментов.

```
static COLORREF GetHotTextColor();
```

### <a name="return-value"></a>Возвращаемое значение

Значение [COLORREF,](/windows/win32/gdi/colorref) представляющее текущий выделенный цвет текста.

### <a name="remarks"></a>Примечания

Позвоните [CMFCToolBar::SetHotTextColor](#sethottextcolor) установить новый цвет текста для выделенных кнопок панели инструментов.

## <a name="cmfctoolbargethwndlastfocus"></a><a name="gethwndlastfocus"></a>CMFCToolBar::GetHwndLastFocus

Возвращает ручку в окно, в которой был фокус ввода непосредственно перед панелью инструментов.

```
HWND GetHwndLastFocus() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ручка к окну, которая не является произведомой от [cmFCBaseToolBar класса](../../mfc/reference/cmfcbasetoolbar-class.md), который ранее был входная направленность; или NULL, если нет такого окна.

### <a name="remarks"></a>Примечания

Когда `CMFCToolBar` элемент управления получает фокус ввода, он хранит ручку к окну, которая потеряла фокус, чтобы восстановить ее позже.

## <a name="cmfctoolbargetignoresettext"></a><a name="getignoresettext"></a>CMFCToolBar::GetIgnoreSetText

Определяет, игнорируются ли вызовы для установки меток кнопок.

```
BOOL GetIgnoreSetText() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если вызовы для установки меток кнопки игнорируются; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbargetimages"></a><a name="getimages"></a>CMFCToolBar::GetImages

Возвращает указатель в коллекцию изображений кнопок по умолчанию в приложении.

```
static CMFCToolBarImages* GetImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на объект [класса CMFCToolBarImages,](../../mfc/reference/cmfctoolbarimages-class.md) содержащий набор изображений по умолчанию для всех инструментов в приложении.

### <a name="remarks"></a>Примечания

Этот общий метод обеспечивает доступ к коллекции всех изображений панели инструментов по умолчанию для приложения. Позвоните в [CMFCToolBar::LoadBitmap](#loadbitmap) метод добавления изображений в коллекцию.

## <a name="cmfctoolbargetimagesize"></a><a name="getimagesize"></a>CMFCToolBar::GetImageSize

Возвращает текущий размер изображений кнопки панели инструментов.

```
CSize GetImageSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Объект [класса CSize,](../../atl-mfc-shared/reference/csize-class.md) представляющий текущий размер изображений кнопки панели инструментов.

## <a name="cmfctoolbargetimagesoffset"></a><a name="getimagesoffset"></a>CMFCToolBar::GetImagesOffset

Возвращает смещение индекса, используемого для поиска изображений кнопки панели инструментов для этой панели инструментов, в глобальном списке изображений кнопки панели инструментов.

```
int GetImagesOffset() const;
```

### <a name="return-value"></a>Возвращаемое значение

Индексная смещение изображений панели инструментов.

### <a name="remarks"></a>Примечания

Все изображения панели инструментов по умолчанию хранятся в глобальном списке [класса CMFCToolBarImages.](../../mfc/reference/cmfctoolbarimages-class.md) Изображения для каждой кнопки в панели инструментов хранятся последовательно в этом списке. Чтобы вычислить индекс изображения, добавьте индекс кнопки в панели инструментов в смещение начала списка изображений для этой кнопки панели инструментов.

Позвоните [CMFCToolBar::ButtonTo,](#buttontoindex) чтобы получить индекс кнопки панели инструментов с помощью указателя на кнопку.

Позвоните [CMFCToolBar::GetImages,](#getimages) чтобы получить указатель на коллекцию изображений панели инструментов.

## <a name="cmfctoolbargetinvalidateitemrect"></a><a name="getinvalidateitemrect"></a>CMFCToolBar::GetInvalidateItemRect

Извлекает область области клиента, которая должна быть перерисована для кнопки в данном индексе.

```
virtual void GetInvalidateItemRect(
    int nIndex,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Индекс кнопки, для которой можно получить область клиента.

*lpRect*<br/>
(ваут) Указатель на объект RECT, который получает область клиентской области.

### <a name="remarks"></a>Примечания

Параметр *lpRect* не должен быть NULL. Если в при условии индексе не существует кнопки, *lpRect* получает объект RECT, который инициализирован до нуля.

## <a name="cmfctoolbargetitemid"></a><a name="getitemid"></a>CMFCToolBar::GetItemID

Возвращает идентификатор команды кнопки панели инструментов в указанном индексе.

```
UINT GetItemID(int nIndex) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Определяет индекс кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Идентификатор команды кнопки панели инструментов; или ноль, если кнопка с указанным индексом не существует.

## <a name="cmfctoolbargetitemrect"></a><a name="getitemrect"></a>CMFCToolBar::GetItemRect

Возвращает прямоугольник кнопки в указанном индексе.

```
virtual void GetItemRect(
    int nIndex,
    LPRECT lpRect) const;
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Определяет индекс кнопки панели инструментов.

*lpRect*<br/>
(ваут) Указатель объекта, `CRect` который получает координаты прямоугольника, ограничивающего изображение.

### <a name="remarks"></a>Примечания

Объект, `CRect` на который указывает *lpRect,* установлен на 0, если кнопка в указанном индексе не существует.

### <a name="example"></a>Пример

В следующем примере показано, `GetItemRect` как `CMFCToolBar` использовать метод класса. Этот фрагмент кода является частью [образца IE Demo.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#9](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_4.cpp)]

## <a name="cmfctoolbargetlargecoldimages"></a><a name="getlargecoldimages"></a>CMFCToolBar::GetLargeColdImages

Возвращает указатель в коллекцию изображений большой холодной панели инструментов в приложении.

```
static CMFCToolBarImages* GetLargeColdImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию больших холодных изображений.

### <a name="remarks"></a>Примечания

Холодные изображения — это изображения, которые используются, когда пользователь не взаимодействует с кнопками панели инструментов. Позвоните [CMFCToolBar::LoadBitmapEx](#loadbitmapex) для загрузки больших холодных изображений.

## <a name="cmfctoolbargetlargedisabledimages"></a><a name="getlargedisabledimages"></a>CMFCToolBar::GetLargeDisabledImages

Возвращает указатель в коллекцию изображений большой отключенной панели инструментов в приложении.

```
static CMFCToolBarImages* GetLargeDisabledImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию больших отключенных изображений кнопки панели инструментов.

### <a name="remarks"></a>Примечания

Большие изображения являются большими версиями обычных изображений кнопки панели инструментов. Позвоните [CMFCToolBar::LoadBitmapEx](#loadbitmapex) или [CMFCToolBar::LoadBitmap](#loadbitmap) для загрузки больших изображений.

## <a name="cmfctoolbargetlargeimages"></a><a name="getlargeimages"></a>CMFCToolBar::GetLargeImages

Возвращает указатель в коллекцию изображений большой панели инструментов в приложении.

```
static CMFCToolBarImages* GetLargeImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений большой панели инструментов.

### <a name="remarks"></a>Примечания

Большие изображения являются большими версиями обычных изображений кнопки панели инструментов. Позвоните [CMFCToolBar::LoadBitmapEx](#loadbitmapex) для загрузки больших изображений.

## <a name="cmfctoolbargetlockedcoldimages"></a><a name="getlockedcoldimages"></a>CMFCToolBar::GetLockedColdImages

Возвращает указатель в коллекцию заблокированных холодных изображений в панели инструментов.

```
CMFCToolBarImages* GetLockedColdImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных холодных изображений, или NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения являются версиями обычных изображений кнопки панели инструментов, которые используется фреймворком, когда пользователь не может настроить панель инструментов. Холодные изображения — это изображения, которые используются, когда пользователь не взаимодействует с кнопками панели инструментов.

Этот метод возвращает NULL, если панель инструментов не заблокирована. Этот метод также генерирует сбой утверждения в сборке Debug, если панель инструментов не заблокирована. Для получения дополнительной информации о заблокированных панели инструментов, [см. CMFCToolBar::IsLocked](#islocked).

Позвоните в [CMFCToolBar::LoadBitmapEx](#loadbitmapex) метод для загрузки заблокированных холодных изображений.

## <a name="cmfctoolbargetlockeddisabledimages"></a><a name="getlockeddisabledimages"></a>CMFCToolBar::GetLockedDisabledImages

Возвращает указатель в коллекцию заблокированных изображений с ограниченными возможностями в панели инструментов.

```
CMFCToolBarImages* GetLockedDisabledImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных изображений с ограниченными возможностями или NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения являются версиями обычных изображений кнопки панели инструментов, которые используется фреймворком, когда пользователь не может настроить панель инструментов. Изображения-изутвешие изображения изображения которые фреймворк использует когда кнопка имеет TBBS_DISABLED тип.

Этот метод возвращает NULL, если панель инструментов не заблокирована. Этот метод также генерирует сбой утверждения в сборке Debug, если панель инструментов не заблокирована. Для получения дополнительной информации о заблокированных панели инструментов, [см. CMFCToolBar::IsLocked](#islocked).

Позвоните в [CMFCToolBar::LoadBitmapEx](#loadbitmapex) метод для загрузки заблокированных изображений.

## <a name="cmfctoolbargetlockedimages"></a><a name="getlockedimages"></a>CMFCToolBar::GetLockedImages

Возвращает указатель в коллекцию заблокированных изображений кнопки в панели инструментов.

```
CMFCToolBarImages* GetLockedImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных изображений кнопки панели инструментов, или NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения являются версиями обычных изображений кнопки панели инструментов, которые используется фреймворком, когда пользователь не может настроить панель инструментов.

Этот метод возвращает NULL, если панель инструментов не заблокирована. Этот метод также генерирует сбой утверждения в сборке Debug, если панель инструментов не заблокирована. Для получения дополнительной информации о заблокированных панели инструментов, [см. CMFCToolBar::IsLocked](#islocked).

## <a name="cmfctoolbargetlockedimagesize"></a><a name="getlockedimagesize"></a>CMFCToolBar::GetLockedImageSize

Возвращает размер заблокированной панели инструментов по умолчанию.

```
CSize GetLockedImageSize() const;
```

### <a name="return-value"></a>Возвращаемое значение

Структура, `CSize` опознававательная размер заблокированных изображений панели инструментов или пустая `CSize` структура, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения являются версиями обычных изображений кнопки панели инструментов, которые используется фреймворком, когда пользователь не может настроить панель инструментов.

Этот метод `CSize` возвращает структуру с нулевой шириной и нулевой высотой, если панель инструментов не заблокирована. Этот метод также генерирует сбой утверждения в сборке Debug, если панель инструментов не заблокирована. Для получения дополнительной информации о заблокированных панели инструментов, [см. CMFCToolBar::IsLocked](#islocked).

Позвоните в [метод CMFCToolBar::SetLockedSizes,](#setlockedsizes) чтобы указать размер заблокированного изображения.

## <a name="cmfctoolbargetlockedmenuimages"></a><a name="getlockedmenuimages"></a>CMFCToolBar::GetLockedMenuImages

Возвращает указатель на коллекцию заблокированных изображений меню панели инструментов в панели инструментов.

```
CMFCToolBarImages* GetLockedMenuImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию заблокированных изображений меню панели инструментов, или NULL, если панель инструментов не заблокирована.

### <a name="remarks"></a>Примечания

Заблокированные изображения являются версиями обычных изображений меню панели инструментов, которые используется фреймворкой, когда пользователь не может настроить панель инструментов.

Этот метод возвращает NULL, если панель инструментов не заблокирована. Этот метод также генерирует сбой утверждения в сборке Debug, если панель инструментов не заблокирована. Для получения дополнительной информации о заблокированных панели инструментов, [см. CMFCToolBar::IsLocked](#islocked).

Позвоните в [CMFCToolBar::LoadBitmapEx](#loadbitmapex) метод для загрузки заблокированных изображений меню.

## <a name="cmfctoolbargetmenubuttonsize"></a><a name="getmenubuttonsize"></a>CMFCToolBar::GetMenuButtonSize

Возвращает размер кнопок меню в приложении.

```
static CSize GetMenuButtonSize();
```

### <a name="return-value"></a>Возвращаемое значение

Объект, `CSize` представляющий размер кнопок меню, в пикселях.

### <a name="remarks"></a>Примечания

Размер кнопок меню на панели инструментов сохраняется как глобальная переменная и может быть извлечен с помощью этого статического метода.

Позвоните [CMFCToolBar::SetMenuSizes,](#setmenusizes) чтобы установить эту глобальную переменную.

## <a name="cmfctoolbargetmenuimages"></a><a name="getmenuimages"></a>CMFCToolBar::GetMenuImages

Возвращает указатель в коллекцию изображений кнопки меню в приложении.

```
static CMFCToolBarImages* GetMenuImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений меню.

### <a name="remarks"></a>Примечания

Позвоните в [CMFCToolBar::LoadBitmapEx](#loadbitmapex) метод для загрузки изображений меню.

Позвоните в [CMFCToolBar::SetMenuSizes](#setmenusizes) метод, чтобы установить размер кнопок и их изображений.

## <a name="cmfctoolbargetmenuimagesize"></a><a name="getmenuimagesize"></a>CMFCToolBar::GetMenuImageSize

Возвращает размер изображений кнопки меню в приложении.

```
static CSize GetMenuImageSize();
```

### <a name="return-value"></a>Возвращаемое значение

Объект, `CSize` представляющий размер изображений меню.

### <a name="remarks"></a>Примечания

Этот метод возвращает размер изображений в кнопках меню панели инструментов, которые поддерживаются как глобальная переменная. Позвоните [CMFCToolBar::SetMenuSizes,](#setmenusizes) чтобы установить эту глобальную переменную.

## <a name="cmfctoolbargetorigbuttons"></a><a name="getorigbuttons"></a>CMFCToolBar::GetOrigButtons

Извлекает коллекцию ненастраиваемых кнопок панели инструментов.

```
const CObList& GetOrigButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ссылка на список ненастраиваемых кнопок панели инструментов.

### <a name="remarks"></a>Примечания

Платформа создает копию кнопок панели инструментов, прежде чем они настроены пользователем. Метод [CMFCToolBar::SetButtons](#setbuttons) добавляет копию каждой кнопки в предоставленном массиве в список оригинальных кнопок. Метод [CMFCToolBar::RestoreOriginalState](#restoreoriginalstate) восстанавливает исходное состояние панели инструментов, загружая ее из файла ресурса.

Чтобы установить список оригинальных кнопок для панели инструментов, позвоните по методу [CMFCToolBar::SetOrigButtons.](#setorigbuttons)

## <a name="cmfctoolbargetorigresetbuttons"></a><a name="getorigresetbuttons"></a>CMFCToolBar::GetOrigResetButtons

Извлекает коллекцию ненастраиваемых кнопок сбросить панели инструментов.

```
const CObList& GetOrigResetButtons() const;
```

### <a name="return-value"></a>Возвращаемое значение

Ссылка на список ненастраиваемых кнопок сбросить панели инструментов.

### <a name="remarks"></a>Примечания

Когда пользователь нажимает кнопку **Стаксета** в режиме настройки, фреймворк использует этот метод для восстановления кнопок, которые были удалены из панели инструментов.

Метод [CMFCToolBar::SetButtons](#setbuttons) добавляет копию каждой кнопки панели инструментов в список оригинальных кнопок сброса после вызова метода [CMFCToolBar::OnReset.](#onreset) Вы можете переопределить [cmFCToolBar::OnReset](#onreset) метод для настройки внешнего вида кнопок после того, как пользователь нажмет кнопку **сброс.**

## <a name="cmfctoolbargetresourceid"></a><a name="getresourceid"></a>CMFCToolBar::GetResourceID

Извлекает идентификатор панели ресурсов.

```
UINT GetResourceID() const;
```

### <a name="return-value"></a>Возвращаемое значение

Идентификатор ресурса панели инструментов.

### <a name="remarks"></a>Примечания

Позвоните в [CMFCToolBar::LoadToolBarEx](#loadtoolbarex) метод для установки идентификатора ресурсов панели инструментов.

## <a name="cmfctoolbargetroutecommandsviaframe"></a><a name="getroutecommandsviaframe"></a>CMFCToolBar::GetRouteCommandsViaFrame

Определяет, какой объект, родительский кадр или владелец отправляет команды на панель инструментов.

```
BOOL GetRouteCommandsViaFrame();
```

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если родительский кадр отправляет команды на панель инструментов; 0, если владелец отправляет команды на панель инструментов.

### <a name="remarks"></a>Примечания

По умолчанию родительский кадр отправляет команды на панель инструментов. Позвоните [CMFCToolBar::SetRouteCommandsViaFrame,](#setroutecommandsviaframe) чтобы изменить это поведение.

Если этот метод возвращает значение ненулевого значения, можно получить указатель `CMFCToolBar::GetCommandTarget` на объект родительской кадра с помощью метода. На примере, использующем этот метод, можно ознакомиться в примере VisualStudioDemo.

## <a name="cmfctoolbargetrowheight"></a><a name="getrowheight"></a>CMFCToolBar::GetRowHeight

Возвращает высоту кнопок панели инструментов.

```
virtual int GetRowHeight() const;
```

### <a name="return-value"></a>Возвращаемое значение

Высота кнопок панели инструментов, в пикселях.

### <a name="remarks"></a>Примечания

Рамочная система вызывает этот метод для расчета макета панели инструментов. Переопределить этот метод в производном классе, чтобы указать другую высоту для панели инструментов.

## <a name="cmfctoolbargetshowtooltips"></a><a name="getshowtooltips"></a>CMFCToolBar::GetShowTooltips

Уточняется, отображаются ли советы по инструментам для кнопок панели инструментов.

```
static BOOL GetShowTooltips();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если советы инструмент показаны для кнопок панели инструментов; в противном случае FALSE.

### <a name="remarks"></a>Примечания

По умолчанию советы инструмент отображается. Вы можете изменить этот статический флаг, позвонив [cmFCToolBar::SetShowTooltips](#setshowtooltips).

## <a name="cmfctoolbargetsiblingtoolbar"></a><a name="getsiblingtoolbar"></a>CMFCToolBar::GetSiblingToolBar

Получает брата панели инструментов.

```
CMFCToolBar* GetSiblingToolBar();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на панель инструментов для братьев и сестер.

### <a name="remarks"></a>Примечания

Для получения дополнительной информации о том, как включить **кнопки шоу на одном ряду** и показать **кнопки на двух рядах кнопки,** см. [CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar)

## <a name="cmfctoolbargetuserimages"></a><a name="getuserimages"></a>CMFCToolBar::GetUserImages

Возвращает указатель в коллекцию изображений кнопки панели инструментов, определяемой пользователем, в приложении.

```
static CMFCToolBarImages* GetUserImages();
```

### <a name="return-value"></a>Возвращаемое значение

Указатель на коллекцию изображений кнопки панели инструментов, определяемой пользователем, для всех инструментов в приложении.

### <a name="remarks"></a>Примечания

Позвоните в [метод CMFCToolBar::SetUserImages](#setuserimages) для настройки коллекции изображений, определенных пользователями, в приложении.

## <a name="cmfctoolbarhittest"></a><a name="hittest"></a>CMFCToolBar::HitTest

Возвращает индекс кнопки панели инструментов, расположенной в указанном положении.

```
virtual int HitTest(CPoint point);
```

### <a name="parameters"></a>Параметры

*Точки*<br/>
(в) Точка, которая будет проверена, в клиентских координатах.

### <a name="return-value"></a>Возвращаемое значение

Индекс кнопки, расположенной в указанном положении, или -1, если такой кнопки нет или кнопка является сепаратором.

## <a name="cmfctoolbarinsertbutton"></a><a name="insertbutton"></a>CMFCToolBar::Вставить кнопку

Вставляет кнопку в панель инструментов.

```
virtual int InsertButton(
    const CMFCToolBarButton& button,
    INT_PTR iInsertAt=-1);

virtual int InsertButton(
    CMFCToolBarButton* pButton,
    int iInsertAt=-1);
```

### <a name="parameters"></a>Параметры

*кнопка*<br/>
(в) Определяет кнопку для вставки.

*iInsertAt*<br/>
(в) Определяет положение на нулевой основе для вставки кнопки в.

### <a name="return-value"></a>Возвращаемое значение

Положение, в которое была вставлена кнопка или -1, если происходит ошибка.

### <a name="remarks"></a>Примечания

Если *iInsertAt* является -1, этот метод добавляет кнопку в конец списка кнопок панели инструментов.

Позвоните в [CMFCToolBar::InsertSeparator](#insertseparator) метод вставить сепаратор в панель инструментов.

## <a name="cmfctoolbarinsertseparator"></a><a name="insertseparator"></a>CMFCToolBar::InsertSeparator

Вставляет сепаратор в панель инструментов.

```
virtual int InsertSeparator(INT_PTR iInsertAt=-1);
```

### <a name="parameters"></a>Параметры

*iInsertAt*<br/>
(в) Определяет положение на нулевой основе для вставки сепаратора. Этот параметр должен быть больше 0.

### <a name="return-value"></a>Возвращаемое значение

Положение, в которое был вставлен сепаратор или -1, если происходит ошибка.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы вставить сепаратор между двумя существующими кнопками. Если *iInsertAt* является -1, этот метод добавляет сепаратор в конец списка кнопок панели инструментов.

Вы не можете использовать этот метод, чтобы добавить сепаратор в пустую панель инструментов.

Позвоните в [CMFCToolBar::InsertButton](#insertbutton) метод вставить кнопку в панель инструментов.

## <a name="cmfctoolbarinvalidatebutton"></a><a name="invalidatebutton"></a>CMFCToolBar::Недействительная кнопка

Недействительная область клиента кнопки панели инструментов, которая существует в предоставленном индексе.

```
CMFCToolBarButton* InvalidateButton(int nIndex);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Индекс кнопки с нулевым уровнем в панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Указатель на `CMFCToolBarButton` объект, существующий в при условии индекса, или NULL, если такого объекта не существует.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда он обновляет область клиента, связанную с кнопкой панели инструментов. Он вызывает [CWnd::InvalidateRec](../../mfc/reference/cwnd-class.md#invalidaterect) метод с прямоугольником `CMFCToolBarButton` клиента объекта, который существует в при условии индекса.

## <a name="cmfctoolbarisaddremovequickcustomize"></a><a name="isaddremovequickcustomize"></a>CMFCToolBar::IsAddRemoveКвикбуйт

Определяет, может ли пользователь добавлять или удалять кнопки панели инструментов с помощью опции **«Настройка** меню».

```
BOOL IsAddRemoveQuickCustomize();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если пользователь может использовать опцию **Настроить** меню для изменения панели инструментов; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarisaltcustomizemode"></a><a name="isaltcustomizemode"></a>CMFCToolBar::IsAltCustomizeMode

Уточняется, используется ли *быстрая настройка* для перетаскивания кнопки. При быстрой настройке пользователь может нажать и удерживать клавишу Alt и перетащить кнопку на новое место.

```
static BOOL __stdcall IsAltCustomizeMode();
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если быстрая настройка используется для перетаскивания кнопки; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarisautograyinactiveimages"></a><a name="isautograyinactiveimages"></a>CMFCToolBar::IsAutograyInactiveImages

Уточняется, включено ли автоматическое генерирование неактивных (не подсвеченных) изображений кнопок.

```
static BOOL IsAutoGrayInactiveImages();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если включена возможность автоматического тусклых неактивных изображений; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Вы можете включить или отключить автоматическое затемнение неактивных изображений, позвонив [cmFCToolBar::AutoGrayInactiveImages](#autograyinactiveimages).

## <a name="cmfctoolbarisbasiccommand"></a><a name="isbasiccommand"></a>CMFCToolBar::IsBasicCommand

Определяет, есть ли команда в списке основных команд.

```
static BOOL IsBasicCommand(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Определяет команду для проверки.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если указанная команда принадлежит к списку основных команд; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот статический метод определяет, относится ли команда, указанная *uiCmd,* к глобальному списку основных команд. Вы можете изменить список основных команд, позвонив [по CMFCToolBar::AddBasicCommand](#addbasiccommand) или [CMFCToolBar::SetBasicCommands.](#setbasiccommands)

## <a name="cmfctoolbarisbuttonextrasizeavailable"></a><a name="isbuttonextrasizeavailable"></a>CMFCToolBar::IsButtonExtraSizeДоступно

Определяет, может ли панель инструментов отображать кнопки, которые имеют расширенные границы.

```
virtual BOOL IsButtonExtraSizeAvailable() const;
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если бар может отображать кнопки с дополнительным размером границы; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Объект панели инструментов возвращает TRUE, если он может отображать кнопки, которые имеют расширенные границы. Кнопка панели инструментов вызывает этот метод, когда он обрабатывает [CMFCToolBarButton::OnChangeParentWnd](../../mfc/reference/cmfctoolbarbutton-class.md#onchangeparentwnd) уведомления и установит свой внутренний дополнительный флаг размера границы соответственно. Этот внутренний флаг может быть извлечен позже, позвонив [по телефону CMFCToolBarButton::IsExtraSize](../../mfc/reference/cmfctoolbarbutton-class.md#isextrasize).

Переопределить этот метод в классе, полученном из `CMFCToolBar` и вернуть правду, если ваш бар может отображать кнопки панели инструментов с дополнительным размером границы и вернуть FALSE в противном случае. Реализация по умолчанию возвращает TRUE.

## <a name="cmfctoolbarisbuttonhighlighted"></a><a name="isbuttonhighlighted"></a>CMFCToolBar::IsButtonHighlighted

Определяет, выделена ли указанная кнопка.

```
BOOL IsButtonHighlighted(int iButton) const;
```

### <a name="parameters"></a>Параметры

*iButton*<br/>
(в) Определяет индекс кнопки панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если указанная кнопка выделена; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbariscommandpermitted"></a><a name="iscommandpermitted"></a>CMFCToolBar::IsCommandPermitted

Определяет, разрешена ли команда.

```
static BOOL IsCommandPermitted(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Определяет команду для проверки.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если указанная команда разрешена; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот статический метод определяет, относится ли команда, указанная *uiCmd,* к глобальному списку неразрешенных команд.

Вы можете изменить список неразрешенных команд, позвонив [по CMFCToolBar::SetNonPermittedCommands](#setnonpermittedcommands).

## <a name="cmfctoolbariscommandrarelyused"></a><a name="iscommandrarelyused"></a>CMFCToolBar::IsCommandРедкоИспользуется

Определяет, используется ли команда редко.

```
static BOOL IsCommandRarelyUsed(UINT uiCmd);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Определяет команду для проверки.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если указанная команда используется редко; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Метод `IsCommandRarelyUsed` возвращает FALSE, когда возникает одно или несколько следующих условий:

- Указанная команда относится к списку основных команд

- Указанная команда является одной из стандартных команд

- Платформа находится в режиме настройки

- Список основных команд пуст

- Более 20% командных вызовов являются вызовами указанной команды.

## <a name="cmfctoolbariscustomizemode"></a><a name="iscustomizemode"></a>CMFCToolBar::IsCustomizeMode

Уточняется, находится ли платформа панели инструментов в режиме настройки.

```
static BOOL IsCustomizeMode();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если фреймворк находится в режиме настройки; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Вы можете переключить режим настройки, позвонив [в CMFCToolBar::SetCustomizeMode](#setcustomizemode).

Рамка изменяет режим, когда пользователь вызывает поле диалога настройки [(CMFCToolBarsCustomizeDialog Class).](../../mfc/reference/cmfctoolbarscustomizedialog-class.md)

## <a name="cmfctoolbarisdragbutton"></a><a name="isdragbutton"></a>CMFCToolBar::IsdragButton

Определяет, перетаскивается ли кнопка панели инструментов.

```
BOOL IsDragButton(const CMFCToolBarButton* pButton) const;
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
(в) Указатель на кнопку панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если указанная кнопка перетаскивается; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarisexistcustomizebutton"></a><a name="isexistcustomizebutton"></a>CMFCToolBar::IsExistCustomizeButton

Определяет, содержит ли панель инструментов кнопку **Настройка.**

```
BOOL IsExistCustomizeButton();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если панель инструментов содержит кнопку **настройки;** в противном случае FALSE.

### <a name="remarks"></a>Примечания

Если этот метод возвращает TRUE, [метод CMFCToolBar::GetCustomizeButton](#getcustomizebutton) возвращает указатель кнопке **Настройка,** которая появляется в конце панели инструментов.

Используйте метод [CMFCToolBar::EnableCustomizeButton,](#enablecustomizebutton) чтобы добавить кнопку **настройки** в панель инструментов.

## <a name="cmfctoolbarisfloating"></a><a name="isfloating"></a>CMFCToolBar::IsFloating

Определяет, плавает ли панель инструментов.

```
virtual BOOL IsFloating() const;
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если панель инструментов плавает; в противном случае, FALSE.

## <a name="cmfctoolbarislargeicons"></a><a name="islargeicons"></a>CMFCToolBar::IsLargeIcons

Уточняется, отображаются ли панели инструментов в приложении в настоящее время большие значки.

```
static BOOL IsLargeIcons();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если приложение использует большие значки; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Позвоните [CMFCToolBar::SetLargeIcons,](#setlargeicons) чтобы переключаться между большими иконками и обычными иконками.

Платформа автоматически изменяет режим, когда пользователь переключает флажок **Больших иконок** на странице **параметры** диалогового окна **customization.**

## <a name="cmfctoolbarislastcommandfrombutton"></a><a name="islastcommandfrombutton"></a>CMFCToolBar::IsLastCommandFromButton

Определяет, была ли отправлена последняя выполненная команда с указанной кнопки панели инструментов.

```
static BOOL IsLastCommandFromButton(CMFCToolBarButton* pButton);
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
(в) Указатель на кнопку.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если последняя команда была отправлена с кнопки, что *pButton* определяет; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот метод получает указатель на [структуру MSG,](/windows/win32/api/winuser/ns-winuser-msg) позвонив `CWnd::GetCurrentMessage`. Затем он сравнивает HWND кнопки `MSG::lParam` `MSG::hwnd` с и членами, чтобы определить, является ли кнопка источником команды.

## <a name="cmfctoolbarislocked"></a><a name="islocked"></a>CMFCToolBar::Заблокирован

Определяет, заблокирована ли панель инструментов.

```
BOOL IsLocked() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если панель инструментов заблокирована; в противном случае, FALSE.

### <a name="remarks"></a>Примечания

Этот метод возвращает TRUE, когда пользователь не может выполнять задачи настройки, такие как перепозиционирование кнопок панели инструментов.

Заблокированные панели инструментов используют отдельные списки изображений. Для получения дополнительной информации об этих списках изображений, см [CMFCToolBar::LoadBitmapEx](#loadbitmapex).

## <a name="cmfctoolbarisonerowwithsibling"></a><a name="isonerowwithsibling"></a>CMFCToolBar::IsonerowWithSibling

Определяет, расположены ли панель инструментов и панель инструментов для брата в одном ряду.

```
BOOL IsOneRowWithSibling();
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если панель инструментов и ее брат расположены на одном ряду; в противном случае FALSE.

### <a name="remarks"></a>Примечания

[Метод CMFCCustomizeButton::CreatePopupMenu](internal-classes.md) называет этот метод, чтобы определить, как показать всплывающее меню **Customize.** Если этот метод возвращает TRUE, фреймворк отображает **кнопку Show На кнопке One Row.** В противном случае фреймворк отображает кнопки Show на кнопке **«Два ряда».**

Использование этого метода обычно не требуется. Для включения **кнопки показа на одном ряду** или для **показа кнопок на кнопках «Два ряда»** позвоните [по телефону CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar).

## <a name="cmfctoolbarisresourcechanged"></a><a name="isresourcechanged"></a>CMFCToolBar::IsResourceChanged

```
virtual BOOL IsResourceChanged() const;
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarissibling"></a><a name="issibling"></a>CMFCToolBar::Issibling

```
BOOL IsSibling();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarisuserdefined"></a><a name="isuserdefined"></a>CMFCToolBar::IsuserDefined

Определяет, определяется ли панель инструментов для пользователя.

```
BOOL IsUserDefined() const;
```

### <a name="return-value"></a>Возвращаемое значение

TRUE, если панель инструментов была создана пользователем; в противном случае FALSE.

## <a name="cmfctoolbarloadbitmap"></a><a name="loadbitmap"></a>CMFCToolBar::LoadBitmap

Загружает изображения значков панели инструментов из ресурсов приложения.

```
virtual BOOL LoadBitmap(
    UINT uiResID,
    UINT uiColdResID=0,
    UINT uiMenuResID=0,
    BOOL bLocked=FALSE,
    UINT uiDisabledResID=0,
    UINT uiMenuDisabledResID=0);
```

### <a name="parameters"></a>Параметры

*uiResID*<br/>
(в) Идентификатор ресурса битной карты, относящся к горячим изображениям панели инструментов.

*uiColdResID*<br/>
(в) Идентификатор ресурса битной карты, относящся к изображениям холодной панели инструментов.

*uiMenuResID*<br/>
(в) Идентификатор ресурса битной карты, отсылаемый к обычным изображениям меню.

*Заблокирован*<br/>
(в) TRUE для блокировки панели инструментов; в противном случае FALSE.

*uiDisabledResID*<br/>
(в) Идентификатор ресурса битной карты, отсылаемый к изображениям панели инструментов с ограниченными возможностями.

*uiMenuDisabledResID*<br/>
(в) Идентификатор ресурса битной карты, отсылаемый к изображениям отключенного меню.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Метод [CMFCToolBar::LoadToolBarEx](#loadtoolbarex) вызывает этот метод, чтобы загрузить изображения, связанные с панелью инструментов. Переопределите этот метод для выполнения пользовательской загрузки графических ресурсов.

Вызовите метод `LoadBitmapEx` , чтобы загрузить дополнительные изображения после создания панели инструментов.

## <a name="cmfctoolbarloadbitmapex"></a><a name="loadbitmapex"></a>CMFCToolBar::LoadBitmapEx

```
virtual BOOL LoadBitmapEx(
    CMFCToolBarInfo& params,
    BOOL bLocked = FALSE);
```

### <a name="parameters"></a>Параметры

(в) *парамы*<br/>
(в) *bLocked*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarloadlargeiconsstate"></a><a name="loadlargeiconsstate"></a>CMFCToolBar::LoadLargeIconsState

```
static BOOL __stdcall LoadLargeIconsState(LPCTSTR lpszProfileName = NULL);
```

### <a name="parameters"></a>Параметры

(в) *lpszProfileName*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarloadparameters"></a><a name="loadparameters"></a>CMFCToolBar::НагрузкаПараметры

Загружает глобальные параметры панели инструментов из реестра Windows.

```
static BOOL LoadParameters(LPCTSTR lpszProfileName=NULL);
```

### <a name="parameters"></a>Параметры

*lpszProfileName*<br/>
(в) Определяет относительный путь ключа реестра Windows.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Этот метод загружает глобальные параметры, такие как тип анимации меню, стиль тени меню и отображение больших иконок из реестра Windows.

Метод [CWinAppEx::LoadState](../../mfc/reference/cwinappex-class.md#loadstate) называет этот метод частью процесса инициализации приложения.

## <a name="cmfctoolbarloadstate"></a><a name="loadstate"></a>CMFCToolBar::Нагрузка

Загружает информацию о состоянии панели инструментов из реестра Windows.

```
virtual BOOL LoadState(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>Параметры

*lpszProfileName*<br/>
(в) Определяет относительный путь ключа реестра Windows.

*Nindex*<br/>
(в) Упоняет идентификатор панели управления.

*uiID*<br/>
(в) Упоняет идентификатор панели ресурсов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа называет этот метод частью процесса инициализации приложения. Для получения дополнительной информации [см. CWinAppEx::LoadState](../../mfc/reference/cwinappex-class.md#loadstate).

## <a name="cmfctoolbarloadtoolbar"></a><a name="loadtoolbar"></a>CMFCToolBar::LoadToolBar

Загружает панель инструментов из ресурсов приложения.

```
virtual BOOL LoadToolBar(
    UINT uiResID,
    UINT uiColdResID=0,
    UINT uiMenuResID=0,
    BOOL bLocked=FALSE,
    UINT uiDisabledResID=0,
    UINT uiMenuDisabledResID=0,
    UINT uiHotResID=0);
```

### <a name="parameters"></a>Параметры

*uiResID*<br/>
(в) Идентификатор ресурса панели инструментов.

*uiColdResID*<br/>
(в) Идентификатор ресурса битной карты, относящся к изображениям холодной панели инструментов.

*uiMenuResID*<br/>
(в) Идентификатор ресурса битной карты, отсылаемый к обычным изображениям меню.

*Заблокирован*<br/>
(в) Значение Boolean, которое определяет, заблокирована панель инструментов или нет. Если этот параметр *является правдой,* панель инструментов заблокирована. В противном случае панель инструментов не заблокирована.

*uiDisabledResID*<br/>
(в) Идентификатор ресурса битной карты, отсылаемый к изображениям панели инструментов с ограниченными возможностями.

*uiMenuDisabledResID*<br/>
(в) Идентификатор ресурса битной карты, отсылаемый к изображениям отключенного меню.

*uiHotResID*<br/>
(в) Идентификатор ресурса битной карты, относящся к горячим изображениям панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Фрейм вызывает этот метод во время инициализации для загрузки изображений, связанных с панелью инструментов.

### <a name="example"></a>Пример

В следующем примере показано, `LoadToolBar` как `CMFCToolBar` использовать метод в классе. Этот фрагмент кода является частью [образца IE Demo.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#7](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_3.cpp)]

## <a name="cmfctoolbarloadtoolbarex"></a><a name="loadtoolbarex"></a>CMFCToolBar::LoadToolBarEx

Загружает панель инструментов из `CMFCToolBarInfo` ресурсов приложения, используя класс помощника, чтобы приложение могло использовать большие изображения.

```
virtual BOOL LoadToolBarEx(
    UINT uiToolbarResID,
    CMFCToolBarInfo& params,
    BOOL bLocked=FALSE);
```

### <a name="parameters"></a>Параметры

*uiToolbarResID*<br/>
(в) Идентификатор ресурса панели инструментов.

*params*<br/>
(в) Ссылка на `CMFCToolBarInfo` объект, содержащий идолы ресурсов для изображений панели инструментов.

*Заблокирован*<br/>
(в) Значение Boolean, которое определяет, заблокирована панель инструментов или нет. Если этот параметр является правдой, панель инструментов заблокирована. В противном случае панель инструментов не заблокирована.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Вызовите этот метод для загрузки изображений панели инструментов с ресурсов приложения.

## <a name="cmfctoolbarm_dbllargeimageratio"></a><a name="m_dbllargeimageratio"></a>CMFCToolBar::m_dblLargeImageRatio

Определяет соотношение между размером (высотой или шириной) больших изображений и размером обычных изображений.

```
AFX_IMPORT_DATA static double m_dblLargeImageRatio;
```

### <a name="remarks"></a>Примечания

Коэффициент по умолчанию составляет 2. Это значение можно изменить, чтобы сделать большие изображения панели инструментов больше или меньше.

Платформа использует этот член данных, когда вы не указываете набор больших изображений. Например, если вы предоставляете только набор небольших изображений с размером 16x16 и хотите, чтобы большие изображения имели размер 24x24, установите этот член данных до 1,5.

## <a name="cmfctoolbarnextmenu"></a><a name="nextmenu"></a>CMFCToolBar::NextMenu

```
virtual BOOL NextMenu();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbaronbeforeremovebutton"></a><a name="onbeforeremovebutton"></a>CMFCToolbar::Напредварительной кнопке

```
virtual BOOL OnBeforeRemoveButton(
    CMFCToolBarButton* pButton,
    DROPEFFECT dropEffect);
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
[in] Не используется.

*dropEffect*<br/>
[in] Не используется.

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbaronchangehot"></a><a name="onchangehot"></a>CMFCToolBar::OnChangeHot

Вызывается по системе, когда пользователь выбирает кнопку на панели инструментов.

```
virtual void OnChangeHot(int iHot);
```

### <a name="parameters"></a>Параметры

*iHot*<br/>
(в) Определяет выбранный индекс выбранной кнопки панели инструментов; или -1, если не выбрана кнопка панели инструментов.

### <a name="remarks"></a>Примечания

Переопределить этот метод для обработки уведомлений, которые пользователь выбрал кнопку на панели инструментов.

## <a name="cmfctoolbaronchangevisualmanager"></a><a name="onchangevisualmanager"></a>CMFCToolBar::ChangeVisualManager

```
virtual void OnChangeVisualManager();
```

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbaronfillbackground"></a><a name="onfillbackground"></a>CMFCToolBar::Onfillbackground

Вызывается рамки от [CBasePane: :DoPaint](../../mfc/reference/cbasepane-class.md#dopaint) для заполнения панели инструментов фона.

```
virtual void OnFillBackground(CDC* pDC);
```

### <a name="parameters"></a>Параметры

*pDC*<br/>
(в) Указатель на контекст устройства.

### <a name="remarks"></a>Примечания

[CMFCToolBar::DoPaint](#dopaint) называет этот метод, когда фон панели инструментов был заполнен. Реализация по умолчанию не выполняет никаких действий.

Переопределить этот метод, чтобы нарисовать пользовательский фон в производных классах.

## <a name="cmfctoolbaronglobalfontschanged"></a><a name="onglobalfontschanged"></a>CMFCToolBar::OnGlobalFontsИзменен

```
virtual void OnGlobalFontsChanged();
```

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbaronreset"></a><a name="onreset"></a>CMFCToolBar::OnReset

Восстанавливает панель инструментов в исходное состояние.

```
virtual void OnReset();
```

### <a name="remarks"></a>Примечания

Переопределить этот метод для обработки уведомлений о сбрасе панели инструментов.

Реализация по умолчанию не выполняет никаких действий. Переопределение `OnReset` в классе, `CMFCToolBar` полученном от того, когда панель инструментов имеет фиктивные кнопки, которые должны быть заменены, когда панель инструментов возвращается в исходное состояние.

## <a name="cmfctoolbaronsetaccdata"></a><a name="onsetaccdata"></a>CMFCToolbar::OnsetAccData

```
virtual BOOL OnSetAccData(long lVal);
```

### <a name="parameters"></a>Параметры

(в) *lVal*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbaronsetdefaultbuttontext"></a><a name="onsetdefaultbuttontext"></a>CMFCToolbar::OnSetDefaultButtonText

Восстанавливает текст кнопки панели инструментов в состояние по умолчанию.

```
virtual BOOL OnSetDefaultButtonText(CMFCToolBarButton* pButton);
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
(в) Указывает на кнопку, текст которой устанавливается.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если текст был успешно восстановлен; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Переопределить этот метод для обработки уведомлений о том, что текст кнопки панели инструментов изменяется на его значение по умолчанию.

Реализация по умолчанию загружает текст кнопки из ресурсов приложения.

## <a name="cmfctoolbaronusertooltip"></a><a name="onusertooltip"></a>CMFCtoolbar::OnUserToolTip

Вызывается по фреймворку, когда набор инструментов для кнопки вот-вот будет отображаться.

```
virtual BOOL OnUserToolTip(
    CMFCToolBarButton* pButton,
    CString& strTTText) const;
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
(в) Указывает на кнопку панели инструментов, для которой должен отображаться набор инструментов.

*strTTText*<br/>
(ваут) Ссылка `CString` на объект, который получает текст инструментария.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если *strTTText* был заселен текстом tooltip; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Рамочная система вызывает этот метод, когда вот-вот будет отображаться набор инструментов для кнопки панели инструментов. Если `OnUserToolTip` возвращается TRUE, в фреймворке `OnUserToolTip` отображается набор инструментов, содержащий текст, возвращенный в *strTTText.* В противном случае набор инструментов содержит текст кнопки.

Переопределение `OnUserToolTip` для настройки советов инструментов кнопок панели инструментов. Реализация по умолчанию вызывает [CMFCToolBar::OnUserToolTip](#onusertooltip) для получения текста tooltip.

## <a name="cmfctoolbarprevmenu"></a><a name="prevmenu"></a>CMFCToolBar::PrevMenu

```
virtual BOOL PrevMenu();
```

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarprocesscommand"></a><a name="processcommand"></a>CMFCToolBar: :ProcessCommand

Размещает WM_COMMAND сообщение в окне, владеющее панелью инструментов.

```
BOOL ProcessCommand(CMFCToolBarButton* pButton);
```

### <a name="parameters"></a>Параметры

*pButton*<br/>
(в) Указатель на кнопку на панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Этот метод должен всегда возвращать ПРАВДУ. MFC использует значения FALSE внутренне.

### <a name="remarks"></a>Примечания

Этот метод размещает WM_COMMAND сообщение в окно, которое владеет панелью инструментов, позвонив [cWnd::PostMessage](../../mfc/reference/cwnd-class.md#postmessage) и передав идентификатор команды указанной кнопки в качестве параметра *wParam.*

[ON_COMMAND](message-map-macros-mfc.md#on_command) Используйте макрос для отображения WM_COMMAND сообщения к функции члена.

## <a name="cmfctoolbarremoveallbuttons"></a><a name="removeallbuttons"></a>CMFCToolBar::RemoveAllButtons

Удаляет все кнопки и сепараторы из панели инструментов.

```
virtual void RemoveAllButtons();
```

### <a name="remarks"></a>Примечания

Фрейм вызывает этот метод, когда он воссоздает или разрушает панель инструментов.

## <a name="cmfctoolbarremovebutton"></a><a name="removebutton"></a>CMFCToolBar::Удалить кнопку

Удаляет из панели инструментов кнопку с указанным индексом.

```
virtual BOOL RemoveButton(int iIndex);
```

### <a name="parameters"></a>Параметры

*iIndex*<br/>
(в) Устраняет нулевой индекс кнопки для удаления.

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если метод успешно, или FALSE, если указанный индекс является недействительным или индекс относится к **кнопке настройки.**

### <a name="remarks"></a>Примечания

Этот метод обновляет дополнительные атрибуты панели инструментов, которые зависят от удаления кнопки. Например, этот метод удаляет несущественные сепараторы из панели инструментов и восстанавливает таблицу ключей ярлыка.

Для получения дополнительной информации о кнопке **Настройка,** см [CMFCToolBar::EnableCustomizeButton](#enablecustomizebutton).

## <a name="cmfctoolbarremovestatefromregistry"></a><a name="removestatefromregistry"></a>CMFCToolBar::RemoveStateFromRegistry

Удаляет сведения о состоянии для панели инструментов из реестра Windows.

```
virtual BOOL RemoveStateFromRegistry(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>Параметры

*lpszProfileName*<br/>
(в) Определяет ключ реестра, где находится государственная информация.

*Nindex*<br/>
(в) Идентификатор управления панели инструментов.

*uiID*<br/>
(в) Идентификатор ресурса панели инструментов. Если этот параметр -1, этот метод использует метод [CWnd::GetDlgCtrlID](../../mfc/reference/cwnd-class.md#getdlgctrlid) для получения идентификатора ресурса.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда удаляет определяемую пользователем панель инструментов.

Переопределить этот метод, если вы храните дополнительную информацию о состоянии в реестре Windows.

## <a name="cmfctoolbarreplacebutton"></a><a name="replacebutton"></a>CMFCToolBar::Заменить кнопку

Заменяет кнопку панели инструментов другой кнопкой панели инструментов.

```
int ReplaceButton(
    UINT uiCmd,
    const CMFCToolBarButton& button,
    BOOL bAll=FALSE);
```

### <a name="parameters"></a>Параметры

*uiCmd*<br/>
(в) Идентификатор команды кнопки для замены.

*кнопка*<br/>
(в) Ссылка на `CMFCToolBarButton` вставку.

*Мяч*<br/>
(в) Значение Boolean, которое определяет, следует ли заменить все кнопки, которые имеют идентификатор команды, указанный *uiCmd.* Если этот параметр соответствует действительности, все кнопки, которые имеют указанный идентификатор команды, заменяются. В противном случае первая кнопка заменяется.

### <a name="return-value"></a>Возвращаемое значение

Количество заменяемых кнопок. Этот метод возвращает 0, если кнопка с указанным идентификатором команды не существует на панели инструментов.

### <a name="remarks"></a>Примечания

Вызовите этот метод, когда вы хотите добавить кнопки панели инструментов, которые не могут быть загружены из ресурсов. Вы можете создать кнопку заполнителя во время проектирования и заменить эту кнопку на пользовательской кнопкой при инициализации панели инструментов. На примере, использующем этот метод, можно ознакомиться в примере VisualStudioDemo.

### <a name="example"></a>Пример

В следующем примере показано, `ReplaceButton` как `CMFCToolBar` использовать метод в классе. Этот фрагмент кода является частью [образца IE Demo.](../../overview/visual-cpp-samples.md)

[!code-cpp[NVC_MFC_IEDemo#6](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_1.h)]
[!code-cpp[NVC_MFC_IEDemo#10](../../mfc/reference/codesnippet/cpp/cmfctoolbar-class_5.cpp)]

## <a name="cmfctoolbarresetall"></a><a name="resetall"></a>CMFCToolBar::ResetAll

Восстанавливает все панели инструментов в исходных состояниях.

```
static void __stdcall ResetAll();
```

### <a name="remarks"></a>Примечания

Этот метод [называетcm CMFCToolBar::RestoreOriginalState](#restoreoriginalstate) метод на каждой панели инструментов в приложении, которые могут быть восстановлены. Он использует [метод CMFCToolBar::CanBeRestored,](#canberestored) чтобы определить, можно ли восстановить панель инструментов.

## <a name="cmfctoolbarresetallimages"></a><a name="resetallimages"></a>CMFCToolBar::ResetAllImages

Очищает все коллекции изображений панели инструментов в приложении.

```
static void __stdcall ResetAllImages();
```

### <a name="remarks"></a>Примечания

Этот метод очищает коллекции изображений, которые инициализированы [CMFCToolBar::LoadToolBar](#loadtoolbar) и [CMFCToolBar::LoadBitmap](#loadbitmap) методы.

## <a name="cmfctoolbarresetimages"></a><a name="resetimages"></a>CMFCToolBar::ResetImages

```
virtual void ResetImages();
```

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarrestorefocus"></a><a name="restorefocus"></a>CMFCToolBar::RestoreFocus

```
virtual void RestoreFocus();
```

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarrestoreoriginalstate"></a><a name="restoreoriginalstate"></a>CMFCToolBar::ВосстановлениеOriginalState

Восстанавливает первоначальное состояние панели инструментов.

```
virtual BOOL RestoreOriginalState();
```

### <a name="return-value"></a>Возвращаемое значение

ПРАВДА, если метод успешно, или FALSE, если метод не удается или панель инструментов определяется пользователем.

### <a name="remarks"></a>Примечания

Этот метод загружает панель инструментов из файла ресурса с помощью метода [CMFCToolBar::LoadToolBar.](#loadtoolbar)

Рамочная система вызывает этот метод, когда пользователь выбирает кнопку **Сбросить все** на странице **Toolbars** в поле диалога настройки.

## <a name="cmfctoolbarsaveparameters"></a><a name="saveparameters"></a>CMFCToolBar::СохранениеПараметры

```
static BOOL __stdcall SaveParameters(LPCTSTR lpszProfileName = NULL);
```

### <a name="parameters"></a>Параметры

(в) *lpszProfileName*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarsavestate"></a><a name="savestate"></a>CMFCToolBar::SaveState

Сохраняет сведения о состоянии для панели инструментов в реестре Windows.

```
virtual BOOL SaveState(
    LPCTSTR lpszProfileName=NULL,
    int nIndex=-1,
    UINT uiID=(UINT)-1);
```

### <a name="parameters"></a>Параметры

*lpszProfileName*<br/>
(в) Определяет относительный путь ключа реестра Windows.

*Nindex*<br/>
(в) Идентификатор управления панели инструментов.

*uiID*<br/>
(в) Идентификатор ресурса панели инструментов.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Платформа вызывает этот метод, когда он сохраняет состояние приложения в реестре. Для получения дополнительной информации [см. CWinAppEx::SaveState](../../mfc/reference/cwinappex-class.md#savestate).

## <a name="cmfctoolbarsetbasiccommands"></a><a name="setbasiccommands"></a>CMFCToolBar::SetBasicCommands

Устанавливает список команд, которые всегда отображаются при открытии меню пользователем.

```
static void __stdcall SetBasicCommands(CList<UINT,UINT>& lstCommands);
```

### <a name="parameters"></a>Параметры

*lstCommands*<br/>
(в) Ссылка на `CList` объект, содержащий набор команд.

### <a name="remarks"></a>Примечания

При открытии меню всегда отображается базовая команда. Этот метод имеет смысл, когда пользователь выбирает для просмотра недавно используемых команд.

Используйте метод [CMFCToolBar::AddBasicCommand,](#addbasiccommand) чтобы добавить команду в список основных команд. Используйте метод [CMFCToolBar::GetBasicCommands](#getbasiccommands) для получения списка основных команд, используемых вашим приложением.

Например, пример Explorer можно опрометовать этот метод.

## <a name="cmfctoolbarsetbuttoninfo"></a><a name="setbuttoninfo"></a>CMFCToolBar::SetButtonInfo

Устанавливает идентификатор команды, стиль и идентификатор изображения кнопки панели инструментов.

```cpp
void SetButtonInfo(
    int nIndex,
    UINT nID,
    UINT nStyle,
    int iImage);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Индекс нулевой основе кнопки, свойства которой установлены.

*nID*<br/>
(в) Идентификатор команды кнопки.

*nStyle*<br/>
(в) Стиль кнопки. Ознакомиться со [стилами управления панелью инструментов](../../mfc/reference/toolbar-control-styles.md) можно найти в списках доступных стилей кнопок для панели инструментов.

*iImage*<br/>
(в) Индекс изображения кнопки с нулевым уровнем изображения (т.е. индекс в коллекции изображений панели инструментов).

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы установить свойства кнопки панели инструментов.

В сборке Debug этот метод генерирует сбой утверждения, если индекс, указанный *nIndex,* недействителен.

Позвоните в [метод CMFCToolBar::SetButtonStyle,](#setbuttonstyle) чтобы установить только стиль кнопки.

## <a name="cmfctoolbarsetbuttons"></a><a name="setbuttons"></a>CMFCToolBar::SetButtons

Устанавливает кнопки для панели инструментов.

```
virtual BOOL SetButtons(
    const UINT* lpIDArray,
    int nIDCount,
    BOOL bRemapImages=TRUE);
```

### <a name="parameters"></a>Параметры

*lpIDArray*<br/>
(в) Указатель на массив идонов командных разных итогов кнопок для вставки.

*nIDCount*<br/>
(в) Количество элементов в *lpIDArray*.

*bRemapImages*<br/>
(в) Значение Boolean, которое определяет, следует ли связывать существующие изображения кнопок с вставленными кнопками. Если этот параметр является правдой, изображения переносятся.

### <a name="return-value"></a>Возвращаемое значение

Ненулевое значение, если метод выполнен успешно; в противном случае — 0.

### <a name="remarks"></a>Примечания

Вызов иметод, чтобы удалить существующие кнопки из панели инструментов и вставить набор новых кнопок.

Этот метод добавляет кнопку **настройки** в панель инструментов и отправляет AFX_WM_RESETTOOLBAR сообщение в родительское окно панели инструментов. Для получения дополнительной информации о кнопке **Настройка,** см [CMFCToolBar::EnableCustomizeButton](#enablecustomizebutton).

## <a name="cmfctoolbarsetbuttonstyle"></a><a name="setbuttonstyle"></a>CMFCToolBar::SetButtonStyle

Устанавливает стиль кнопки панели инструментов в данном индексе.

```
virtual void SetButtonStyle(
    int nIndex,
    UINT nStyle);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Индекс на нулевой основе кнопки панели инструментов, стиль которой должен быть установлен.

*nStyle*<br/>
(в) Стиль кнопки. Ознакомиться со [стилами управления панелью инструментов](../../mfc/reference/toolbar-control-styles.md) можно найти в списках доступных стилей кнопок для панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод удаляет TBBS_PRESSED стиль, если *nStyle* TBBS_DISABLED, потому что пользователь не может нажать кнопку отключена.

## <a name="cmfctoolbarsetbuttontext"></a><a name="setbuttontext"></a>CMFCToolBar::SetButtonText

Устанавливает текстовую метку кнопки панели инструментов.

```
BOOL SetButtonText(
    int nIndex,
    LPCTSTR lpszText);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Индекс кнопки панели инструментов.

*lpszText*<br/>
(в) Текстовая метка кнопки панели инструментов. Должно быть, не null.

### <a name="return-value"></a>Возвращаемое значение

TRUE, если метод удается; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот метод возвращает FALSE, если предоставленный индекс не относится к действительной кнопке панели инструментов.

## <a name="cmfctoolbarsetcommandusageoptions"></a><a name="setcommandusageoptions"></a>CMFCToolBar::SetCommandUsageOptions

Определяет, когда редко используемые команды не отображаются в меню приложения.

```
static BOOL SetCommandUsageOptions(
    UINT nStartCount,
    UINT nMinUsagePercentage=5);
```

### <a name="parameters"></a>Параметры

*nStartCount*<br/>
(в) Обрасывайте количество раз, когда команды должны выполняться до того, как в фреймворке отображаюттолько только основные и недавно используемые команды.

*nMinUsageПроцент*<br/>
(в) Процент раз, когда команда должна быть выполнена, чтобы считаться недавно используемой командой.

### <a name="return-value"></a>Возвращаемое значение

FALSE, если *nMinUsagePercentage* равен или больше, чем 100; в противном случае TRUE.

### <a name="remarks"></a>Примечания

Вызовите этот метод, чтобы настроить алгоритм, используемый платформой, чтобы определить, как появляются основные и недавно использованные элементы меню. Для получения дополнительной информации об основных командах см. [CMFCToolBar::AddBasicCommand](#addbasiccommand).

Этот класс `CMFCCmdUsageCount` использует класс для отслеживания количества команд. Для получения дополнительной информации об этом классе, см [CMFCCmdUsageCount класса](../../mfc/reference/cmfccmdusagecount-class.md).

## <a name="cmfctoolbarsetcustomizemode"></a><a name="setcustomizemode"></a>CMFCToolBar::SetCustomizeMode

Включает или отрабатывает режим настройки для всех панели инструментов в приложении.

```
static BOOL __stdcall SetCustomizeMode(BOOL bSet=TRUE);
```

### <a name="parameters"></a>Параметры

*bSet*<br/>
(в) Значение Boolean, которое определяет, включать или отключать режим настройки или отключать. Установите этот параметр для TRUE, чтобы включить режим настройки или FALSE, чтобы отключить его.

### <a name="return-value"></a>Возвращаемое значение

TRUE при вызове этого метода изменяет режим настройки; в противном случае FALSE.

### <a name="remarks"></a>Примечания

Этот метод регулирует расположение и перерисовывает каждую панель инструментов в приложении. Позвоните в [CMFCToolBar::IsCustomizeMode](#iscustomizemode) метод, чтобы определить, является ли приложение в режиме настройки,

## <a name="cmfctoolbarsetgraydisabledbuttons"></a><a name="setgraydisabledbuttons"></a>CMFCToolBar::SetGrayDisabledButtons

Уточняется, затемнены ли недоступные кнопки на панели инструментов или используются недоступные изображения.

```cpp
void SetGrayDisabledButtons(BOOL bGrayDisabledButtons);
```

### <a name="parameters"></a>Параметры

*bGrayDisabledButtons*<br/>
(в) Значение Boolean, которое определяет, как отображать недоступные кнопки. Если этот параметр является правдой, фреймворк затемняет кнопки. В противном случае в фреймворке используется коллекция недоступных изображений.

### <a name="remarks"></a>Примечания

По умолчанию недоступные кнопки затемняются.

## <a name="cmfctoolbarsetheight"></a><a name="setheight"></a>CMFCToolBar::SetHeight

Устанавливает высоту панели инструментов.

```cpp
void SetHeight(int cyHeight);
```

### <a name="parameters"></a>Параметры

*cyHeight*<br/>
(в) Высота панели инструментов, в пикселях.

### <a name="remarks"></a>Примечания

Этот метод перерисовывает панель инструментов после того, как она устанавливает высоту.

## <a name="cmfctoolbarsethelpmode"></a><a name="sethelpmode"></a>CMFCToolBar::SetHelpMode

```
static void __stdcall SetHelpMode(BOOL bOn = TRUE);
```

### <a name="parameters"></a>Параметры

(в) *bOn*<br/>

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarsethot"></a><a name="sethot"></a>CMFCToolBar::SetHot

```
BOOL SetHot(CMFCToolBarButton* pMenuButton);
```

### <a name="parameters"></a>Параметры

(в) *pMenuButton*<br/>

### <a name="return-value"></a>Возвращаемое значение

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarsethotborder"></a><a name="sethotborder"></a>CMFCToolBar::SetHotBorder

Определяет, являются ли кнопки панели инструментов горячими.

```cpp
void SetHotBorder(BOOL bShowHotBorder);
```

### <a name="parameters"></a>Параметры

*bShowHotBorder*<br/>
(в) Значение Boolean, которое определяет, следует ли к кнопкам панели инструментов с горячей кнопкой. Если этот параметр является правдой, панель инструментов нагревает свои кнопки. В противном случае панель инструментов не отслеживает свои кнопки.

### <a name="remarks"></a>Примечания

Если кнопка отслеживается по горячим следам, фреймворк выделяет кнопку, когда мышь перемещается по ней. По умолчанию каждая панель инструментов отслеживает свои кнопки.

Позвоните в [CMFCToolBar::GetHotBorder](#gethotborder) метод, чтобы определить, является ли панель инструментов нагревает свои кнопки.

## <a name="cmfctoolbarsethottextcolor"></a><a name="sethottextcolor"></a>CMFCToolBar::SetHotTextColor

Устанавливает цвет текста для горячих кнопок панели инструментов.

```
static void SetHotTextColor(COLORREF clrText);
```

### <a name="parameters"></a>Параметры

*clrText*<br/>
(в) Определяет цвет текста для кнопок панели инструментов, которые являются горячими.

### <a name="remarks"></a>Примечания

Для получения дополнительной информации о горячих гусеничных кнопках инструментов, [см. CMFCToolBar::GetHotBorder](#gethotborder) и [CMFCToolBar::SetHotBorder](#sethotborder).

## <a name="cmfctoolbarsetignoresettext"></a><a name="setignoresettext"></a>CMFCToolBar::SetIgnoreSetText

```cpp
void SetIgnoreSetText(BOOL bValue);
```

### <a name="parameters"></a>Параметры

(в) *bValue*<br/>

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarsetlargeicons"></a><a name="setlargeicons"></a>CMFCToolBar::SetLargeIcons

Определяет, отображаются ли кнопки панели инструментов большие значки.

```
static void SetLargeIcons(BOOL bLargeIcons=TRUE);
```

### <a name="parameters"></a>Параметры

*bLargeIcons*<br/>
(в) Значение Boolean, которое определяет, какие значки использовать. Если этот параметр является истинным, фреймворк отображает большие значки. В противном случае фреймворк отображает обычные значки.

### <a name="remarks"></a>Примечания

Рамочная система называет этот метод, когда пользователь изменяет состояние флажка **Большие значки** во вкладке **Параметры** диалогового **окна.** Этот метод изменяет все панели инструментов в приложении.

По умолчанию фреймворк отображает обычные значки.

Для получения дополнительной информации о **настраиваемый** диалоговый ящик, [см.](../../mfc/reference/cmfctoolbarscustomizedialog-class.md)

## <a name="cmfctoolbarsetlockedsizes"></a><a name="setlockedsizes"></a>CMFCToolBar::SetLockedSizes

Устанавливает размеры заблокированных кнопок и заблокированных изображений на панели инструментов.

```cpp
void SetLockedSizes(
    SIZE sizeButton,
    SIZE sizeImage,
    BOOL bDontScale = FALSE);
```

### <a name="parameters"></a>Параметры

*размерКнопка*<br/>
(в) Определяет размер заблокированных кнопок панели инструментов.

*размерИзображение*<br/>
(в) Определяет размер заблокированных изображений панели инструментов.

*bDontScale*<br/>
Определяет, следует ли масштабировать или не заблокировать изображения панели инструментов в режиме высокого DPI.

### <a name="remarks"></a>Примечания

Размер заблокированных кнопок по умолчанию составляет 23х22 пикселя. Размер заблокированных изображений по умолчанию составляет 16х15 пикселей.

Позвоните в [CMFCToolBar::GetLockedImageSize](#getlockedimagesize) метод для получения размера заблокированных изображений. Позвоните в [CMFCToolBar::GetButtonSize](#getbuttonsize) метод для получения размера заблокированных кнопок панели инструментов.

## <a name="cmfctoolbarsetmaskmode"></a><a name="setmaskmode"></a>CMFCToolBar::SetMaskMode

```cpp
void SetMaskMode(BOOL bMasked);
```

### <a name="parameters"></a>Параметры

(в) *bMasked*<br/>

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarsetmenusizes"></a><a name="setmenusizes"></a>CMFCToolBar::SetMenuSizes

Устанавливает размер кнопок меню панели инструментов и их изображений.

```
static void __stdcall SetMenuSizes(
    SIZE sizeButton,
    SIZE sizeImage);
```

### <a name="parameters"></a>Параметры

*размерКнопка*<br/>
(в) Определяет размер кнопок панели инструментов в пикселях.

*размерИзображение*<br/>
(в) Определяет размер изображений панели инструментов в пикселях.

### <a name="remarks"></a>Примечания

По умолчанию кнопки меню и их изображения имеют неопределенный размер.

Позвоните в [метод CMFCToolBar::GetMenuButtonSize](#getmenubuttonsize) метод, чтобы определить размер кнопок меню и [CMFCToolBar::GetMenuImageSize](#getmenuimagesize) метод для определения размера изображений кнопки меню.

Например, примеры iEDemo и MSMoneyDemo приведены в примерах, которые используют этот метод.

## <a name="cmfctoolbarsetnonpermittedcommands"></a><a name="setnonpermittedcommands"></a>CMFCToolBar::SetNonPermittedCommands

Устанавливает список команд, которые не могут быть выполнены пользователем.

```
static void SetNonPermittedCommands(CList<UINT,UINT>& lstCommands);
```

### <a name="parameters"></a>Параметры

*lstCommands*<br/>
(в) Ссылка на `CList` объект, содержащий команды, которые не могут быть выполнены пользователем.

### <a name="remarks"></a>Примечания

Вызов иметод, чтобы пользователь не выбирал определенные команды. Например, можно запретить пользователю выбирать определенные команды по соображениям безопасности. Например, примеры, используемые в этом методе, можно найти образцы MDITabsDemo и MenuSubSet.

Этот метод очищает предыдущий список неразрешенных команд. По умолчанию список неразрешенных команд пуст.

## <a name="cmfctoolbarsetonerowwithsibling"></a><a name="setonerowwithsibling"></a>CMFCToolBar::SetonerowWithSibling

Позиции панели инструментов и ее брата на одном ряду.

```cpp
void SetOneRowWithSibling();
```

### <a name="remarks"></a>Примечания

Рамочная система вызывает этот метод, когда пользователь нажимает **кнопку Show На кнопке One Row.**

Позвоните в [CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar) метод, чтобы **показать кнопки на одном ряду** или показать **кнопки на двух рядах кнопки.** Если вы позвоните [по телефону CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar) для этой панели инструментов, панель инструментов для братьев и сестер перемещается в ряд этой панели инструментов. В противном случае эта панель инструментов перемещается в ряд брата.

Рамочная система называетcm [CMFCToolBar::SetTwoRowsWithSibling](#settworowswithsibling) метод, когда пользователь нажимает кнопку Show на кнопке **«Два ряда».**

## <a name="cmfctoolbarsetorigbuttons"></a><a name="setorigbuttons"></a>CMFCToolBar::SetOrigButtons

```cpp
void SetOrigButtons(const CObList& lstOrigButtons);
```

### <a name="parameters"></a>Параметры

(в) *lstOrigButtons*<br/>

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarsetpermament"></a><a name="setpermament"></a>CMFCToolBar::SetPermament

Определяет, может ли пользователь закрыть панель инструментов.

```cpp
void SetPermament(BOOL bPermament=TRUE);
```

### <a name="parameters"></a>Параметры

*bПермат*<br/>
(в) Значение Boolean, которое определяет, может ли пользователь закрыть панель инструментов. Если этот параметр является правдой, пользователь не может закрыть панель инструментов. В противном случае пользователь может закрыть панель инструментов.

### <a name="remarks"></a>Примечания

По умолчанию пользователь может закрыть каждую панель инструментов.

Позвоните в [CMFCToolBar::CanBeClosed](#canbeclosed) метод, чтобы определить, может ли пользователь закрыть панель инструментов.

## <a name="cmfctoolbarsetroutecommandsviaframe"></a><a name="setroutecommandsviaframe"></a>CMFCToolBar::SetRouteCommandsViaFrame

Определяет, отправляет ли родительский кадр или владелец команды на панель инструментов.

```cpp
void SetRouteCommandsViaFrame(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
(в) Если этот параметр является правдой, родительский кадр отправляет команды на панель инструментов. В противном случае владелец отправляет команды на панель инструментов.

### <a name="remarks"></a>Примечания

По умолчанию родительский кадр отправляет команды на панель инструментов. Позвоните в [CMFCToolBar::GetRouteCommandsViaFrame](#getroutecommandsviaframe) метод, чтобы определить, является ли родительский кадр или владелец отправляет команды на панель инструментов.

## <a name="cmfctoolbarsetshowtooltips"></a><a name="setshowtooltips"></a>CMFCToolBar::SetShowTooltips

Уточняется, отображает ли фреймворк советы по инструменту.

```
static void SetShowTooltips(BOOL bValue);
```

### <a name="parameters"></a>Параметры

*bValue*<br/>
(в) Если этот параметр является правдой, в рамках отображается советы по инструменту. В противном случае, фреймворк скрывает советы инструментов.

### <a name="remarks"></a>Примечания

По умолчанию в фреймворке отображается советы по инструментам.

Позвоните в [метод CMFCToolBar::GetShowTooltips,](#getshowtooltips) чтобы определить, показывает ли фреймворк советы по инструменту.

## <a name="cmfctoolbarsetsiblingtoolbar"></a><a name="setsiblingtoolbar"></a>CMFCToolBar::SetSiblingToolBar

Определяет брата панели инструментов.

```cpp
void SetSiblingToolBar(CMFCToolBar* pBrotherToolbar);
```

### <a name="parameters"></a>Параметры

*pBrotherToolbar*<br/>
(в) Указатель на панель инструментов для братьев и сестер.

### <a name="remarks"></a>Примечания

Этот метод позволяет **показывать кнопки на одном ряду** или показывать **кнопки на кнопках «Два ряда»,** которые отображаются при отображении пользовательского **всплывающее** меню. Вызовите этот метод, когда требуется дать пользователю возможность указать, отображаются ли связанные панели инструментов в одной строке или в разных строках.

Вызовите этот метод после включения кнопки **настройки,** которая появляется на панели инструментов. Чтобы включить кнопку **настройки,** позвоните в [метод CMFCToolBar::EnableCustomizeButton.](#enablecustomizebutton)

Чтобы получить брата панели инструментов, позвоните [cmFCToolBar::GetSiblingToolBar](#getsiblingtoolbar).

## <a name="cmfctoolbarsetsizes"></a><a name="setsizes"></a>CMFCToolBar::SetSizes

Определяет размеры кнопок и изображений на всех панели инструментов.

```
static void __stdcall SetSizes(
    SIZE sizeButton,
    SIZE sizeImage);
```

### <a name="parameters"></a>Параметры

*размерКнопка*<br/>
(в) Размер кнопок панели инструментов, в пикселях.

*размерИзображение*<br/>
(в) Размер изображений кнопки панели инструментов, в пикселях.

### <a name="remarks"></a>Примечания

Размер кнопок панели инструментов по умолчанию составляет 23х22 пикселя. Размер изображения кнопки панели инструментов по умолчанию составляет 16х15 пикселей.

Позвоните в [CMFCToolBar::GetImageSize](#getimagesize) метод для получения размера изображений кнопки панели инструментов. Позвоните в [CMFCToolBar::GetButtonSize](#getbuttonsize) метод для получения размера кнопок панели инструментов.

## <a name="cmfctoolbarsettoolbarbtntext"></a><a name="settoolbarbtntext"></a>CMFCToolBar::SetToolBarBtnText

Определяет свойства кнопки на панели инструментов.

```cpp
void SetToolBarBtnText(
    UINT nBtnIndex,
    LPCTSTR szText=NULL,
    BOOL bShowText=TRUE,
    BOOL bShowImage=TRUE);
```

### <a name="parameters"></a>Параметры

*nBtnIndex*<br/>
(в) Индекс на нулевой основе кнопки панели инструментов в списке кнопок панели инструментов.

*szТекст*<br/>
(в) Определяет текстовую метку кнопки панели инструментов.

*bShowText*<br/>
(в) Если этот параметр является истинным, в фрейм-лейбле отображается текстовая метка. В противном случае фреймворк скрывает текстовую метку.

*bShowImage*<br/>
(в) Если этот параметр является истинным, фреймворк отображает изображение кнопки панели инструментов. В противном случае фреймворк скрывает изображение кнопки панели инструментов.

### <a name="remarks"></a>Примечания

По умолчанию фреймворк отображает изображения кнопок панели инструментов, но не отображает текстовую метку кнопок панели инструментов.

В сборках Debug этот метод генерирует сбой утверждения, если *nBtnIndex* не ссылается на действительную кнопку панели инструментов или кнопка панели инструментов является сепаратором.

## <a name="cmfctoolbarsettworowswithsibling"></a><a name="settworowswithsibling"></a>CMFCToolBar::SetTwoRowsWithSibling

Позиции панели инструментов и ее брата на отдельных строках.

```cpp
void SetTwoRowsWithSibling();
```

### <a name="remarks"></a>Примечания

Рамочная система вызывает этот метод, когда пользователь нажимает кнопку Show На кнопке **«Два ряда».**

Позвоните в [CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar) метод, чтобы **показать кнопки на одном ряду** или показать **кнопки на двух рядах кнопки.** Если вы позвоните [по телефону CMFCToolBar::SetSiblingToolBar](#setsiblingtoolbar) для этой панели инструментов, панель инструментов для братьев и сестер перемещается в отдельный ряд. В противном случае панель инструментов перемещается в отдельный ряд.

Рамочная система называется [методом CMFCToolBar::SetOneRowWithSibling](#setonerowwithsibling) метод, когда пользователь нажимает **кнопку Show на** кнопке One Row.

## <a name="cmfctoolbarsetuserimages"></a><a name="setuserimages"></a>CMFCToolBar::SetUserImages

Устанавливает коллекцию изображений, определяемых пользователем, в приложении.

```
static BOOL SetUserImages(CMFCToolBarImages* pUserImages);
```

### <a name="parameters"></a>Параметры

*pUserImages*<br/>
(в) Указатель на коллекцию изображений, определяемых пользователем.

### <a name="return-value"></a>Возвращаемое значение

Nonzero, если метод удается; в противном `CMFCToolBarImages` случае 0, если указанный объект недействителен или имеет размер изображения, который отличается от размера изображения по умолчанию панели инструментов.

### <a name="remarks"></a>Примечания

Платформа использует изображения, определяемые пользователем, для рисования кнопок панели инструментов, настроенных пользователем. Список изображений, указанный *pUserImages,* делится между всеми инструментами в приложении.

Этот метод генерирует сбой утверждения в сборке `CMFCToolBarImages` Debug, если указанный объект недействителен или имеет размер изображения, который отличается от размера изображения по умолчанию панели инструментов.

Образцы OutlookDemo, ToolTipDemo и VisualStudioDemo используют этот метод для настройки глобальной коллекции изображений, определяемых пользователями. Они загружают файл, который называется UserImages.bmp, который находится в рабочем каталоге приложения.

Позвоните в [CMFCToolBar::GetUserImages](#getuserimages) метод для получения коллекции пользовательских изображений в приложении.

## <a name="cmfctoolbarstretchpane"></a><a name="stretchpane"></a>CMFCToolBar::StretchPane

Растягивает панель инструментов вертикально или горизонтально и при необходимости перемещает кнопки.

```
virtual CSize StretchPane(
    int nLength,
    BOOL bVert);
```

### <a name="parameters"></a>Параметры

*nДлина*<br/>
(в) Сумма, в пикселях, с помощью которых можно растянуть стекло.

*bVert*<br/>
(в) Если правда, растягивает стекло вертикально. Если FALSE, растягивает стекло горизонтально.

### <a name="return-value"></a>Возвращаемое значение

Объект, `CSize` опознавав размер клиентской области панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод называет [CMFCToolBar::WrapToolBar](#wraptoolbar) для перестановки кнопок в растянутой панели инструментов.

Значение возврата определяется по телефону [CMFCToolBar::CalcSize](#calcsize).

## <a name="cmfctoolbartranslatechar"></a><a name="translatechar"></a>CMFCToolBar::TranslateChar

Выполняет команду кнопки, если указанный код ключа соответствует допустимому ярлыку клавиатуры.

```
virtual BOOL TranslateChar(UINT nChar);
```

### <a name="parameters"></a>Параметры

*Nchar*<br/>
(в) Определяет виртуальный код ключа. Список стандартных виртуальных кодов ключей можно узнать на примере Winuser.h

### <a name="return-value"></a>Возвращаемое значение

FALSE, если указанный код ключа либо непечатаем, либо не соответствует допустимому ярлыку клавиатуры; TRUE, если указанный код ключа соответствует варианту выпадающего меню; в противном случае, возвратное значение от [CMFCToolBar::ProcessCommand](#processcommand).

### <a name="remarks"></a>Примечания

Платформа называет этот метод при нажатии ключа вместе с ключом Alt.

## <a name="cmfctoolbarupdatebutton"></a><a name="updatebutton"></a>CMFCToolBar::Обновление Кнопка

Обновляет состояние указанной кнопки.

```cpp
void UpdateButton(int nIndex);
```

### <a name="parameters"></a>Параметры

*Nindex*<br/>
(в) Упогоняет нулевой индекс кнопки для обновления.

### <a name="remarks"></a>Примечания

## <a name="cmfctoolbarwraptoolbar"></a><a name="wraptoolbar"></a>CMFCToolBar::WrapToolBar

Перекладывая кнопки панели инструментов в заданные размеры.

```
int WrapToolBar(
    int nWidth,
    int nHeight = 32767,
    CDC* pDC = NULL,
    int nColumnWidth = -1,
    int nRowHeight = -1);
```

### <a name="parameters"></a>Параметры

*nWidth*<br/>
(в) Максимальная ширина панели инструментов.

*nВысота*<br/>
(в) Максимальная высота панели инструментов. Не используется, если панель инструментов плавает.

*pDC*<br/>
(в) Указатель на контекст устройства. Если NULL, используется контекст устройства для панели инструментов.

*nColumnШирин*<br/>
(в) Ширина кнопки. Если -1, используется текущая ширина.

Высота кнопки *nRowHeight.* Если -1, используется текущая высота.

### <a name="return-value"></a>Возвращаемое значение

Количество строк кнопок на панели инструментов.

### <a name="remarks"></a>Примечания

Этот метод перемещает кнопки в панели инструментов, обернув кнопки в дополнительные строки, если это необходимо.

## <a name="cmfctoolbarm_bdontscaleimages"></a><a name="m_bdontscaleimages"></a>CMFCToolBar::m_bDontScaleImages

Определяет, следует ли масштабировать изображения панели инструментов в режиме высокого DPI.

```
AFX_IMPORT_DATA static BOOL m_bDontScaleImages;
```

### <a name="remarks"></a>Примечания

## <a name="see-also"></a>См. также раздел

[Диаграмма иерархии](../../mfc/hierarchy-chart.md)<br/>
[Классы](../../mfc/reference/mfc-classes.md)<br/>
[Класс CMFCMenuBar](../../mfc/reference/cmfcmenubar-class.md)<br/>
[Класс CMFCPopupMenuBar](../../mfc/reference/cmfcpopupmenubar-class.md)<br/>
[Класс CMFCDropDownToolBar](../../mfc/reference/cmfcdropdowntoolbar-class.md)<br/>
[Пошаговое руководство. Размещение элементов управления на панели инструментов](../../mfc/walkthrough-putting-controls-on-toolbars.md)
