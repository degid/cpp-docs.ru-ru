---
title: code_seg - прагма
ms.date: 08/29/2019
f1_keywords:
- vc-pragma.code_seg
helpviewer_keywords:
- pragmas, code_seg
- code_seg pragma
ms.assetid: bf4faac1-a511-46a6-8d9e-456851d97d56
ms.openlocfilehash: 65d702273593dc7fba68cc040f700b01a2c5e4a7
ms.sourcegitcommit: 63784729604aaf526de21f6c6b62813882af930a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/17/2020
ms.locfileid: "79446473"
---
# <a name="code_seg-pragma"></a>code_seg - прагма

Указывает текстовую секцию (сегмент), в которой функции хранятся в объекте объекта (OBJ-файл).

## <a name="syntax"></a>Синтаксис

> **#pragma code_seg (** ["*section-name*" [ **,** "*section-Class*"]] **)** \
> **#pragma code_seg (** { **Push** | **POP** } [ **,** *идентификатор* ] [ **,** "*section-name*" [ **,** "*section-Class*"]] **)**

### <a name="parameters"></a>Параметры

**отправка**\
Используемых Помещает запись во внутренний стек компилятора. **Принудительная отправка** может иметь *идентификатор* и *имя раздела*.

\ **POP**
Используемых Удаляет запись из верхнего внутреннего стека компилятора. **POP** может иметь *идентификатор* и *имя раздела*. С помощью *идентификатора*можно открыть несколько записей, используя только одну команду **POP** . Имя *раздела* стало именем активного текстового раздела после точки подключения.

*идентификатор*\
Используемых При использовании с **Push**назначает имя записи во внутреннем стеке компилятора. При использовании с **POP**директива выводит записи из внутреннего стека до тех пор, пока *идентификатор* не будет удален. Если *идентификатор* не найден во внутреннем стеке, ничего не извлекается.

"*раздел-имя*" \
Используемых Имя раздела. При использовании с **POP**стек извлекается, а *имя раздела* становится именем активного текстового раздела.

"*класс-раздел*" \
Используемых Игнорируется, но входит в совместимость с версиями Microsoft C++ , предшествующими версии 2,0.

## <a name="remarks"></a>Примечания

*Раздел* в объектном файле — это именованный блок данных, который загружается в память как единое целое. *Текстовый раздел* — это раздел, содержащий исполняемый код. В этой статье термины *сегмент* и *раздел* имеют одинаковое значение.

Директива pragma **code_seg** указывает компилятору разместить весь последующий объектный код из блока преобразования в текстовый раздел с именем *section-name*. По умолчанию Текстовый раздел, используемый для функций в объектном файле, называется `.text`. Директива pragma **code_seg** без параметра *name раздела* сбрасывает имя текстового раздела для последующего объектного кода для `.text`.

Директива pragma **code_seg** не контролирует размещение объектного кода, созданного для экземпляров шаблонов. Кроме того, он не контролирует код, создаваемый компилятором неявно, например специальные функции элементов. Для управления этим кодом рекомендуется использовать вместо него атрибут [__declspec (code_seg (...))](../cpp/code-seg-declspec.md) . Он позволяет управлять размещением всего объектного кода, включая код, созданный компилятором.

Список имен, которые не следует использовать для создания раздела, см. в разделе [/section](../build/reference/section-specify-section-attributes.md).

Можно также указать разделы для инициализированных данных ([data_seg](../preprocessor/data-seg.md)), неинициализированные данные ([bss_seg](../preprocessor/bss-seg.md)) и переменные const ([const_seg](../preprocessor/const-seg.md)).

Вы можете использовать [dumpbin. EXE](../build/reference/dumpbin-command-line.md) для просмотра объектных файлов. Версии DUMPBIN для каждой поддерживаемой целевой архитектуры входят в состав Visual Studio.

## <a name="example"></a>Пример

В этом примере показано, как использовать директиву pragma **code_seg** для управления размещением объектного кода.

```cpp
// pragma_directive_code_seg.cpp
void func1() {                  // stored in .text
}

#pragma code_seg(".my_data1")
void func2() {                  // stored in my_data1
}

#pragma code_seg(push, r1, ".my_data2")
void func3() {                  // stored in my_data2
}

#pragma code_seg(pop, r1)      // stored in my_data1
void func4() {
}

int main() {
}
```

## <a name="see-also"></a>См. также раздел

[code_seg (__declspec)](../cpp/code-seg-declspec.md)\
[Директивы pragma и ключевое слово __pragma](../preprocessor/pragma-directives-and-the-pragma-keyword.md)
