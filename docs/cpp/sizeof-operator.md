---
title: Оператор sizeof
ms.date: 11/04/2016
f1_keywords:
- sizeof_cpp
helpviewer_keywords:
- sizeof operator
ms.assetid: 8bc3b6fb-54a1-4eb7-ada0-05f8c5efc532
ms.openlocfilehash: 13e181bf84e359d433fbe951b1aa69320a1f0013
ms.sourcegitcommit: 1f009ab0f2cc4a177f2d1353d5a38f164612bdb1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/27/2020
ms.locfileid: "87186299"
---
# <a name="sizeof-operator"></a>Оператор sizeof

Возвращает размер операнда по отношению к размеру типа **`char`** .

> [!NOTE]
> Дополнительные сведения об `sizeof ...` операторе см. в разделе [шаблоны Variadic и многоточия](../cpp/ellipses-and-variadic-templates.md).

## <a name="syntax"></a>Синтаксис

```
sizeof unary-expression
sizeof  ( type-name )
```

## <a name="remarks"></a>Примечания

Результат **`sizeof`** оператора имеет тип `size_t` , целочисленный тип, определенный в включаемом файле \<stddef.h> . Этот оператор позволяет избежать задания зависимых от компьютера размера данных в программах.

Операнд **`sizeof`** может быть одним из следующих:

- Имя типа. Чтобы использовать **`sizeof`** с именем типа, имя должно быть заключено в круглые скобки.

- Выражение. При использовании с выражением **`sizeof`** можно указать с круглыми скобками или без них. Значение выражения не вычисляется.

Когда **`sizeof`** оператор применяется к объекту типа **`char`** , он возвращает 1. Когда **`sizeof`** оператор применяется к массиву, он возвращает общее число байтов в этом массиве, а не размер указателя, представленного идентификатором массива. Чтобы получить размер указателя, представленного идентификатором массива, передайте его в качестве параметра в функцию, которая использует **`sizeof`** . Пример:

## <a name="example"></a>Пример

```cpp
#include <iostream>
using namespace std;

size_t getPtrSize( char *ptr )
{
   return sizeof( ptr );
}

int main()
{
   char szHello[] = "Hello, world!";

   cout  << "The size of a char is: "
         << sizeof( char )
         << "\nThe length of " << szHello << " is: "
         << sizeof szHello
         << "\nThe size of the pointer is "
         << getPtrSize( szHello ) << endl;
}
```

## <a name="sample-output"></a>Пример выходных данных

```Output
The size of a char is: 1
The length of Hello, world! is: 14
The size of the pointer is 4
```

Если **`sizeof`** оператор применяется к **`class`** **`struct`** типу, или **`union`** , результатом является число байтов в объекте этого типа, а также любое дополнение, добавленное для выровняйте члены по границам слов. Результат не обязательно должен соответствовать размеру, вычисляемому путем добавления требований к хранению отдельных членов. Параметр компилятора [/Zp](../build/reference/zp-struct-member-alignment.md) и директива pragma [Pack](../preprocessor/pack.md) влияют на границы выравнивания для элементов.

**`sizeof`** Оператор никогда не возвращает значение 0 даже для пустого класса.

**`sizeof`** Оператор не может использоваться со следующими операндами:

- функции. (Однако **`sizeof`** может применяться к указателям на функции.)

- Битовые поля.

- Неопределенные классы.

- Тип **`void`** .

- Динамически создаваемые массивы.

- Внешние массивы.

- Неполные типы.

- Заключенные в скобки имена неполных типов.

Если **`sizeof`** оператор применяется к ссылке, результат будет таким же, как если **`sizeof`** бы он был применен к самому объекту.

Если неразмерный массив является последним элементом структуры, **`sizeof`** оператор возвращает размер структуры без массива.

**`sizeof`** Оператор часто используется для вычисления количества элементов в массиве с помощью выражения в форме:

```cpp
sizeof array / sizeof array[0]
```

## <a name="see-also"></a>См. также

[Выражения с унарными операторами](../cpp/expressions-with-unary-operators.md)<br/>
[Ключевые слова](../cpp/keywords-cpp.md)
